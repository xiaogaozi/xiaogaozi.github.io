"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8130],{7735:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"/2024/10/24/maybe-tips-0-one-thing","metadata":{"permalink":"/blog/2024/10/24/maybe-tips-0-one-thing","source":"@site/blog/2024-10-24-maybe-tips-0-one-thing.md","title":"Maybe Tips #0 One Thing","description":"\u300cMaybe Tips\u300d\u662f\u4e00\u6863\u4ee5\u300c\u6211\u4e0d\u77e5\u9053\u5bf9\u4f60\u4eec\u662f\u5426\u6709\u7528\uff0c\u53cd\u6b63\u5bf9\u6211\u6765\u8bf4\u5f88\u6709\u7528\u300d\u4e3a\u5b97\u65e8\u7684\u680f\u76ee\uff0c\u6bcf\u4e00\u671f\u53ea\u4f1a\u56f4\u7ed5\u4e00\u4e2a\u4e3b\u9898\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u6211\u89c9\u5f97\u597d\u7528\u7684 app\uff0c\u4e5f\u53ef\u80fd\u662f\u67d0\u4e2a\u5947\u602a\u7684\u4f7f\u7528\u6280\u5de7\u3002\u7bc7\u5e45\u4e0d\u6c42\u957f\u77ed\uff0c\u53cd\u6b63\u5199\u957f\u4e86\u4e5f\u6ca1\u4eba\u770b\u3002\u4ee5\u4e0b\u662f\u6b63\u6587\u3002","date":"2024-10-24T08:00:00.000Z","tags":[{"inline":true,"label":"maybe tips","permalink":"/blog/tags/maybe-tips"}],"readingTime":5.155,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe Tips #0 One Thing","date":"2024-10-24 08:00:00 +0800","tags":["maybe tips"]},"unlisted":false,"nextItem":{"title":"\u6211\u7684 2023 \u5e74\u5e74\u5ea6\u5f71\u89c6\u76d8\u70b9","permalink":"/blog/2024/01/09/my-annual-movie-and-tv-roundup-for-2023"}},"content":"> \u300cMaybe Tips\u300d\u662f\u4e00\u6863\u4ee5\u300c\u6211\u4e0d\u77e5\u9053\u5bf9\u4f60\u4eec\u662f\u5426\u6709\u7528\uff0c\u53cd\u6b63\u5bf9\u6211\u6765\u8bf4\u5f88\u6709\u7528\u300d\u4e3a\u5b97\u65e8\u7684\u680f\u76ee\uff0c\u6bcf\u4e00\u671f\u53ea\u4f1a\u56f4\u7ed5\u4e00\u4e2a\u4e3b\u9898\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u6211\u89c9\u5f97\u597d\u7528\u7684 app\uff0c\u4e5f\u53ef\u80fd\u662f\u67d0\u4e2a\u5947\u602a\u7684\u4f7f\u7528\u6280\u5de7\u3002\u7bc7\u5e45\u4e0d\u6c42\u957f\u77ed\uff0c\u53cd\u6b63\u5199\u957f\u4e86\u4e5f\u6ca1\u4eba\u770b\u3002\u4ee5\u4e0b\u662f\u6b63\u6587\u3002\\n\\n{/* truncate */}\\n\\n![One Thing icon](/img/blog/maybe-tips/0/one-thing-icon.png)\\n\\n\u672c\u671f\u4ecb\u7ecd\u7684\u662f\u4e00\u4e2a\u53eb\u505a [One Thing](https://sindresorhus.com/one-thing) \u7684 app\uff0c\u77e5\u9053\u8fd9\u4e2a app \u5176\u5b9e\u662f\u56e0\u4e3a\u5148\u4e86\u89e3\u5230\u4e86\u540c\u4e00\u4e2a\u4f5c\u8005\u7684\u53e6\u4e00\u4e2a app\u2014\u2014[Hyperduck](https://sindresorhus.com/hyperduck)\uff08\u4e00\u4e2a\u53ef\u4ee5\u4ece iOS \u5171\u4eab\u4fe1\u606f\u7ed9 macOS \u7684\u5de5\u5177\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8e AirDrop \u548c Handoff\uff0c\u4e0d\u8fc7\u6211\u6700\u7ec8\u5e76\u6ca1\u6709\u7528 Hyperduck\uff0c\u6211\u8fd8\u662f\u66f4\u4e60\u60ef\u4e8e\u539f\u751f\u7684\u529f\u80fd\uff09\u3002\u8fd9\u4e2a\u4f5c\u8005\u5389\u5bb3\u7684\u5730\u65b9\u5728\u4e8e\u4ed6\u72ec\u7acb\u5f00\u53d1\u4e86\u975e\u5e38\u591a\u7684 app\uff0c\u4f60\u53ef\u4ee5\u53bb\u4ed6\u7684[\u4e3b\u9875](https://sindresorhus.com/apps)\u67e5\u770b\uff0c\u800c One Thing \u5c31\u662f\u5176\u4e2d\u4e00\u4e2a\u3002\\n\\n\u4e4b\u6240\u4ee5\u8981\u4ecb\u7ecd One Thing \u662f\u56e0\u4e3a\u5b83\u89e3\u51b3\u4e86\u4e00\u4e2a\u957f\u4e45\u56f0\u6270\u6211\u7684\u95ee\u9898\u3002\u8bdd\u8bf4\u4ece\u5934\uff0c\u57fa\u4e8e\u4f17\u6240\u5468\u77e5\u7684\u539f\u56e0\uff0c\u5728\u4e2d\u56fd\u5927\u9646\u8bbf\u95ee\u4e92\u8054\u7f51\u9664\u4e86\u9700\u8981\u68af\u5b50\u4ee5\u5916\uff0c\u8fd8\u6709\u4e00\u4ef6\u975e\u5e38\u91cd\u8981\u7684\u4e8b\u60c5\u5c31\u662f\u300cDNS \u670d\u52a1\u5668\u300d\u3002\u5e76\u4e0d\u662f\u8bf4\u4f60\u9700\u8981\u81ea\u5df1\u90e8\u7f72\u4e00\u4e2a DNS \u670d\u52a1\u5668\uff0c\u800c\u662f\u9700\u8981\u4f7f\u7528\u90a3\u4e9b\u6ca1\u6709\u88ab\u300c\u6c61\u67d3\u300d\u8fc7\u3001\u53ef\u4fe1\u4efb\u7684 DNS \u670d\u52a1\u5668\u3002\u6240\u4ee5\u6211\u5728\u65e5\u5e38\u7684\u7f51\u4e0a\u51b2\u6d6a\u8fc7\u7a0b\u4e2d\u4f1a\u7279\u522b\u5173\u6ce8\u5f53\u524d\u4f7f\u7528\u7684 DNS \u670d\u52a1\u5668\u662f\u4ec0\u4e48\uff0c\u56e0\u4e3a\u4f60\u7684\u7535\u8111\u53ef\u80fd\u4f1a\u7531\u4e8e\u5404\u79cd\u5947\u602a\u7684\u539f\u56e0\u91cd\u7f6e\u56de\u9ed8\u8ba4\u7684 DNS \u670d\u52a1\u5668\u3002\u4e3a\u4e86\u5feb\u901f\u67e5\u770b\u548c\u5207\u6362\u5230\u6b63\u786e\u7684 DNS \u670d\u52a1\u5668\uff0c\u6211\u4f7f\u7528\u4e86 Alfred \u7684 [atop](https://alfred.app/workflows/chrisgrieser/atop) workflow\u3002\u8fd9\u4e2a workflow \u5927\u5927\u7b80\u5316\u4e86\u786e\u8ba4\u548c\u8bbe\u7f6e DNS \u670d\u52a1\u5668\u7684\u6d41\u7a0b\uff0c\u4e0d\u8fc7\u6211\u8fd8\u662f\u89c9\u5f97\u6bcf\u5929\u53cd\u590d N \u6b21\u53bb\u4eba\u8089\u68c0\u67e5\u662f\u4e00\u4e2a\u5f88\u8822\u7684\u884c\u4e3a\uff0c\u57fa\u4e8e\u804c\u4e1a\u4e60\u60ef\u6211\u5e0c\u671b\u628a\u6574\u4e2a\u6d41\u7a0b\u53d8\u6210\u4e00\u4e2a\u81ea\u52a8\u5316\u7684\u64cd\u4f5c\uff08\u6bd4\u5982\u5b9a\u671f\u628a\u5f53\u524d\u7684 DNS \u670d\u52a1\u5668\u663e\u793a\u5728\u53f3\u4e0a\u89d2\u7684\u83dc\u5355\u680f\u91cc\uff09\u3002\u7ecf\u8fc7\u4e00\u756a\u7f51\u7edc\u641c\u7d22\uff0c\u6211\u5e76\u6ca1\u6709\u627e\u5230\u8fd9\u6837\u4e00\u4e2a\u53ef\u4ee5\u89e3\u51b3\u6211\u95ee\u9898\u7684 app \u6216\u8005\u65b9\u6cd5\uff0c\u4e8e\u662f\u53ea\u80fd\u7ee7\u7eed\u4eba\u8089\u68c0\u67e5\u3002\u76f4\u5230\u6709\u4e00\u5929\u6211\u53d1\u73b0\u4e86 One Thing \u8fd9\u4e2a app\u3002\\n\\nOne Thing \u7684\u529f\u80fd\u5176\u5b9e\u975e\u5e38\u7b80\u5355\uff0c\u5b83\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u529f\u80fd\uff0c\u5c31\u662f\u5728\u53f3\u4e0a\u89d2\u7684\u83dc\u5355\u680f\u91cc\u663e\u793a\u4e00\u4e2a\u4f60\u81ea\u5b9a\u4e49\u7684\u5185\u5bb9\u3002\u4e5f\u8bb8\u4f60\u4f1a\u60f3\u8fd9\u4e2a\u529f\u80fd\u548c\u524d\u9762\u63d0\u5230\u7684 DNS \u670d\u52a1\u5668\u6709\u4ec0\u4e48\u5173\u8054\u5417\uff0c\u4e0d\u8981\u7740\u6025\uff0cOne Thing \u5f3a\u5927\u7684\u5730\u65b9\u4e0d\u5728\u4e8e\u6b64\uff0c\u800c\u5728\u4e8e\u5b83\u53ef\u4ee5\u548c Shortcuts\uff08\u5feb\u6377\u6307\u4ee4\uff09\u96c6\u6210\uff01\u611f\u8c22\u963f\u5e93\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u5728 macOS \u4e0a\u4f7f\u7528 Shortcuts\uff0c\u4e00\u65e6\u67d0\u4e2a\u5e94\u7528\u652f\u6301\u4e86 Shortcuts\uff0c\u90a3\u5b83\u5c31\u6709\u4e86\u4e30\u5bcc\u7684\u4f7f\u7528\u573a\u666f\u3002\u4e8e\u662f\u6211\u8981\u505a\u7684\u4e8b\u60c5\u5c31\u975e\u5e38\u7b80\u5355\u4e86\uff0c\u4f60\u53ef\u4ee5\u70b9\u51fb[\u8fd9\u91cc](https://www.icloud.com/shortcuts/daa6fca9a1b447abab2724f23c5549a8)\u67e5\u770b\u6211\u5236\u4f5c\u7684 shortcut\uff08\u622a\u56fe\u5982\u4e0b\uff09\u3002\u8fd9\u4e2a shortcut \u5176\u5b9e\u53ea\u6709\u4e24\u4e2a\u6b65\u9aa4\uff0c\u9996\u5148\u4f7f\u7528\u811a\u672c\u83b7\u53d6\u5f53\u524d\u7684 DNS \u670d\u52a1\u5668\uff0c\u7136\u540e\u901a\u8fc7 One Thing \u628a\u8fd9\u4e2a\u670d\u52a1\u5668\u663e\u793a\u5728\u83dc\u5355\u680f\u91cc\uff0c\u5927\u529f\u544a\u6210\uff01\\n\\n![Show DNS server shortcut](/img/blog/maybe-tips/0/show-dns-server-shortcut.png)\\n\\n\u4e0d\u8fc7\u8fd8\u6709\u4e00\u4ef6\u4e8b\u60c5\u6ca1\u6709\u5b9e\u73b0\uff0cshortcut \u901a\u5e38\u90fd\u662f\u7531\u4eba\u6765\u624b\u52a8\u89e6\u53d1\u6267\u884c\u7684\uff0c\u4f46\u662f\u6211\u7684\u9700\u6c42\u662f\u5b9a\u671f\u6267\u884c shortcut\uff0c\u8fd9\u4e2a\u529f\u80fd\u5728\u539f\u751f\u7684 macOS \u91cc\u5e76\u4e0d\u652f\u6301\uff0c\u4e8e\u662f\u9700\u8981\u501f\u52a9\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684\u5de5\u5177\u6765\u5b8c\u6210\u3002\u5728 One Thing \u5b98\u7f51\u91cc\u63a8\u8350\u7684\u662f [Shortery](https://www.numberfive.co/detail_shortery.html)\uff08\u5982\u679c\u60f3\u8981\u57fa\u4e8e\u65f6\u95f4\u89e6\u53d1\u6267\u884c shortcut \u9700\u8981\u82b1 $9.99 \u5347\u7ea7\u4e3a PRO \u7248\u672c\uff09\uff0c\u800c\u6211\u7528\u7684\u662f\u5df2\u7ecf\u4f7f\u7528\u4e86\u5f88\u591a\u5e74\u7684 [BetterTouchTool](https://folivora.ai)\u3002\u4e0d\u7ba1\u4f60\u7528\u54ea\u4e2a\u5de5\u5177\uff0c\u6700\u7ec8\u6548\u679c\u90fd\u5dee\u4e0d\u591a\uff0c\u53ea\u8981\u80fd\u57fa\u4e8e\u65f6\u95f4\u5b9a\u671f\u6267\u884c shortcut \u5c31\u884c\u3002\\n\\n\u81f3\u6b64\u6240\u6709\u9700\u6c42\u5c31\u5df2\u7ecf\u90fd\u6ee1\u8db3\u4e86\uff0c\u4ece\u60f3\u5230\u8fd9\u4e2a\u70b9\u5b50\u5230\u6700\u7ec8\u5b9e\u73b0\u51fa\u6765\u5176\u5b9e\u82b1\u4e0d\u4e86\u592a\u591a\u65f6\u95f4\uff0c\u5f88\u591a\u65f6\u5019\u53ef\u80fd\u53ea\u662f\u56e0\u4e3a\u7f3a\u5c11\u4e86\u67d0\u4e9b\u5173\u952e\u4fe1\u606f\u800c\u4e0d\u80fd\u5f80\u524d\u63a8\u8fdb\u3002\u5982\u679c\u6211\u6ca1\u6709\u56e0\u4e3a\u770b\u5230 Hyperduck \u800c\u6070\u597d\u53d1\u73b0 One Thing \u7684\u8bdd\uff0c\u6211\u4f30\u8ba1\u6211\u8fd8\u5f97\u6bcf\u5929\u91cd\u590d\u7740\u76f8\u540c\u7684\u68c0\u67e5\u5de5\u4f5c\u3002"},{"id":"/2024/01/09/my-annual-movie-and-tv-roundup-for-2023","metadata":{"permalink":"/blog/2024/01/09/my-annual-movie-and-tv-roundup-for-2023","source":"@site/blog/2024-01-09-my-annual-movie-and-tv-roundup-for-2023.md","title":"\u6211\u7684 2023 \u5e74\u5e74\u5ea6\u5f71\u89c6\u76d8\u70b9","description":"\u6839\u636e\u8c46\u74e3\u4e0a\u7684\u8bb0\u5f55\uff0c2023 \u5e74\u6211\u603b\u5171\u770b\u4e86 89 \u90e8\u7535\u5f71\u548c\u5267\u96c6\uff08\u5176\u5b9e\u5e94\u8be5\u662f 90 \u90e8\uff0c\u6709 1 \u90e8\u53bb\u5e74\u5fd8\u8bb0\u6807\u8bb0\u4e86\uff09\uff0c\u4f5c\u4e3a\u8fd9\u4e00\u5e74\u7684\u603b\u7ed3\uff0c\u6211\u9009\u51fa\u4e86\u4e00\u4e9b\u6211\u89c9\u5f97\u6700\u503c\u5f97\u63a8\u8350\u7684\u3002\u9700\u8981\u6ce8\u610f\u8fd9\u91cc\u9762\u6709\u5f88\u591a\u5e76\u4e0d\u662f 2023 \u5e74\u624d\u4e0a\u6620\u7684\u5f71\u7247\uff0c\u6211\u4f1a\u5c3d\u91cf\u5728\u4e0d\u5267\u900f\u5173\u952e\u5267\u60c5\u7684\u60c5\u51b5\u4e0b\u8868\u8fbe\u4e00\u4e9b\u6211\u7684\u770b\u6cd5\uff0c\u975e\u4e13\u4e1a\u5f71\u8bc4\uff0c\u7eaf\u4e3b\u89c2\u89c6\u89d2\uff0c\u60a8\u5c31\u770b\u4e2a\u4e50\u3002","date":"2024-01-09T20:00:00.000Z","tags":[{"inline":true,"label":"annual roundup","permalink":"/blog/tags/annual-roundup"},{"inline":true,"label":"movie","permalink":"/blog/tags/movie"},{"inline":true,"label":"tv","permalink":"/blog/tags/tv"}],"readingTime":42.11,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6211\u7684 2023 \u5e74\u5e74\u5ea6\u5f71\u89c6\u76d8\u70b9","date":"2024-01-09 20:00:00 +0800","tags":["annual roundup","movie","tv"]},"unlisted":false,"prevItem":{"title":"Maybe Tips #0 One Thing","permalink":"/blog/2024/10/24/maybe-tips-0-one-thing"},"nextItem":{"title":"\u6d45\u6790\u4e09\u6b3e\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u8bbe\u8ba1","permalink":"/blog/2023/03/11/large-scale-distributed-file-system-comparison"}},"content":"\u6839\u636e\u8c46\u74e3\u4e0a\u7684\u8bb0\u5f55\uff0c2023 \u5e74\u6211\u603b\u5171\u770b\u4e86 89 \u90e8\u7535\u5f71\u548c\u5267\u96c6\uff08\u5176\u5b9e\u5e94\u8be5\u662f 90 \u90e8\uff0c\u6709 1 \u90e8\u53bb\u5e74\u5fd8\u8bb0\u6807\u8bb0\u4e86\uff09\uff0c\u4f5c\u4e3a\u8fd9\u4e00\u5e74\u7684\u603b\u7ed3\uff0c\u6211\u9009\u51fa\u4e86\u4e00\u4e9b\u6211\u89c9\u5f97\u6700\u503c\u5f97\u63a8\u8350\u7684\u3002\u9700\u8981\u6ce8\u610f\u8fd9\u91cc\u9762\u6709\u5f88\u591a\u5e76\u4e0d\u662f 2023 \u5e74\u624d\u4e0a\u6620\u7684\u5f71\u7247\uff0c\u6211\u4f1a\u5c3d\u91cf\u5728\u4e0d\u5267\u900f\u5173\u952e\u5267\u60c5\u7684\u60c5\u51b5\u4e0b\u8868\u8fbe\u4e00\u4e9b\u6211\u7684\u770b\u6cd5\uff0c\u975e\u4e13\u4e1a\u5f71\u8bc4\uff0c\u7eaf\u4e3b\u89c2\u89c6\u89d2\uff0c\u60a8\u5c31\u770b\u4e2a\u4e50\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5e74\u5ea6 Top 5 \u7535\u5f71\\n\\n### \u5b87\u5b99\u63a2\u7d22\u7f16\u8f91\u90e8\uff08Journey to the West\uff0c2023\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/01.png)\\n\\n\u6700\u65e9\u77e5\u9053\u8fd9\u90e8\u7535\u5f71\u662f\u5728\u673a\u6838\u91cc\u770b\u5230\u4e86\u5b83\u7684\u9884\u544a\u7247\uff0c\u9884\u544a\u7247\u91cc\u90a3\u6d53\u6d53\u7684 80 \u5e74\u4ee3\u753b\u98ce\u548c\u5bf9\u767d\u7acb\u9a6c\u51fb\u4e2d\u4e86\u6211\u3002\u5982\u679c\u4f60\u5e73\u65e5\u91cc\u662f\u4e00\u4e2a\u751f\u6d3b\u91cc\u7684\u6076\u8da3\u5473\u7231\u597d\u8005\uff0c\u4e00\u4e2a\u559c\u6b22\u94bb\u7814\u4e00\u4e9b\u770b\u8d77\u6765\u65e0\u7528\u4e1c\u897f\u7684\u4eba\uff0c\u4ea6\u6216\u662f\u4e00\u4e2a\u7ecf\u5386\u8fc7 80 \u5e74\u4ee3\u7684\u4eba\uff0c\u6216\u8005\u6070\u5de7\u662f\u300c\u8ddf\u5b87\u5b99\u7ed3\u5a5a\u300d\u8282\u76ee\u7684\u5fe0\u5b9e\u542c\u6237\uff0c\u90a3\u6211\u5f3a\u70c8\u63a8\u8350\u4f60\u770b\u770b\u8fd9\u90e8\u7535\u5f71\u3002\\n\\n\u8fd9\u90e8\u7535\u5f71\u5c5e\u4e8e\u4f2a\u7eaa\u5f55\u7247\u98ce\u683c\uff0c\u5bfc\u6f14\u5b54\u5927\u5c71 2015 \u5e74\u7684\u53e6\u4e00\u90e8\u4f5c\u54c1\u300a\u6cd5\u5236\u672a\u6765\u65f6\u300b\u53ef\u80fd\u66f4\u52a0\u4e3a\u4eba\u6240\u77e5\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0d\u5230 10 \u5206\u949f\u7684\u77ed\u7247\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u7247\u5b50\u63d0\u524d\u611f\u53d7\u4e00\u4e0b\u5bfc\u6f14\u7684\u98ce\u683c\u3002\\n\\n\u5bfc\u6f14\u5df2\u7ecf\u5728\u5f88\u591a\u573a\u5408\u516c\u5f00\u8868\u793a\u8fc7\u7535\u5f71\u53c2\u8003\u4e86\u300a\u897f\u6e38\u8bb0\u300b\u7684\u4eba\u7269\u5173\u7cfb\u548c\u5267\u60c5\u5185\u6838\uff0c\u7535\u5f71\u7684\u82f1\u6587\u540d\u300aJourney to the West\u300b\u5176\u5b9e\u4e5f\u63d0\u793a\u5f97\u76f8\u5f53\u660e\u663e\u4e86\u3002\u867d\u7136\u662f\u4e00\u90e8\u4f2a\u7eaa\u5f55\u7247\u98ce\u683c\u7535\u5f71\uff0c\u4f46\u52a0\u4e0a\u300a\u897f\u6e38\u8bb0\u300b\u7684\u6545\u4e8b\u5185\u6838\uff0c\u8ba9\u8fd9\u90e8\u7535\u5f71\u53c8\u6709\u4e86\u4e00\u4e9b\u516c\u8def\u7247\u7684\u5473\u9053\u3002\u6211\u4eec\u7740\u8ff7\u4e8e\u4e3b\u4eba\u516c\u5510\u5fd7\u519b\u8ffd\u5bfb\u300c\u7b54\u6848\u300d\u7684\u8fc7\u7a0b\uff0c\u5e0c\u671b\u8fd9\u4e2a\u6545\u4e8b\u6c38\u8fdc\u4e0d\u8981\u7ed3\u675f\uff0c\u4f46\u662f\u7535\u5f71\u6bd5\u7adf\u9700\u8981\u4e00\u4e2a\u7ed3\u5c3e\uff0c\u4e0d\u7ba1\u4f60\u662f\u5426\u559c\u6b22\uff0c\u7535\u5f71\u90fd\u9700\u8981\u8ba9\u4e3b\u4eba\u516c\u627e\u5230\u4ed6\u5fc3\u76ee\u4e2d\u7684\u90a3\u4e2a\u7b54\u6848\u3002\u5728\u8868\u9762\u770b\u4f3c\u8352\u8bde\u7684\u5267\u60c5\u4e2d\uff0c\u300a\u5b87\u5b99\u63a2\u7d22\u7f16\u8f91\u90e8\u300b\u7ed9\u6211\u5e26\u6765\u7684\u611f\u53d7\u66f4\u591a\u662f\u4e00\u79cd\u4e0e\u5f53\u4eca\u65f6\u4ee3\u683c\u683c\u4e0d\u5165\u7684\u51c4\u51c9\uff0c\u6216\u8bb8\u6bcf\u4e2a\u65f6\u4ee3\u90fd\u6709\u8fd9\u6837\u7684\u4e8b\u60c5\u5728\u4e0d\u65ad\u91cd\u6f14\uff0c\u8fd9\u6ce8\u5b9a\u662f\u5c5e\u4e8e\u4e00\u5c0f\u90e8\u5206\u4eba\u7684\u5bbf\u547d\u3002\\n\\n\u9664\u4e86\u9970\u6f14\u5510\u5fd7\u519b\u7684\u6768\u7693\u5b87\u4ee5\u5916\uff0c\u4ee4\u6211\u5370\u8c61\u6df1\u523b\u7684\u8fd8\u6709\u9970\u6f14\u90a3\u65e5\u82cf\u7684\u848b\u5947\u660e\uff0c\u521a\u597d\u6211\u662f\u5148\u770b\u7684\u300a\u6f2b\u957f\u7684\u5b63\u8282\u300b\uff0c\u56e0\u6b64\u5bf9\u4e8e\u80fd\u5728\u8fd9\u90e8\u7535\u5f71\u4e2d\u770b\u5230\u848b\u5947\u660e\u611f\u89c9\u751a\u662f\u60ca\u559c\u3002\\n\\n\u6700\u540e\u5982\u679c\u4f60\u5bf9\u8fd9\u90e8\u7535\u5f71\u7684\u4e00\u4e9b\u5e55\u540e\u6545\u4e8b\u611f\u5174\u8da3\uff0c\u63a8\u8350\u4f60\u542c\u4e00\u4e0b\u300c\u6563\u573a\u901a\u9053\u300d\u64ad\u5ba2\u5bf9\u5bfc\u6f14\u5b54\u5927\u5c71\u7684\u4e00\u6b21\u8bbf\u8c08\uff08\u70b9\u51fb[\u8fd9\u91cc](https://music.163.com/#/program?id=2520228826)\u6536\u542c\uff09\u3002\\n\\n### \u6cb3\u8fb9\u7684\u9519\u8bef\uff08Only the River Flows\uff0c2023\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/02.png)\\n\\n\u8fd9\u90e8\u7535\u5f71\u548c\u300a\u5b87\u5b99\u63a2\u7d22\u7f16\u8f91\u90e8\u300b\u8fd8\u6709\u4e9b\u6e0a\u6e90\uff0c\u4e24\u90e8\u7535\u5f71\u90fd\u53c2\u52a0\u8fc7\u300c\u5e73\u9065\u56fd\u9645\u7535\u5f71\u5c55\u300d\uff0c\u4e5f\u90fd\u83b7\u5f97\u4e86\u5f53\u5e74\u7684\u300c\u8d39\u7a46\u8363\u8a89\u6700\u4f73\u5f71\u7247\u300d\uff0c\u53ea\u4e0d\u8fc7\u300a\u5b87\u5b99\u63a2\u7d22\u7f16\u8f91\u90e8\u300b\u662f 2021 \u5e74\u83b7\u7684\u5956\uff0c\u800c\u300a\u6cb3\u8fb9\u7684\u9519\u8bef\u300b\u662f 2023 \u5e74\u3002\\n\\n\u300a\u6cb3\u8fb9\u7684\u9519\u8bef\u300b\u6539\u7f16\u81ea\u4f59\u534e\u7684\u540c\u540d\u5c0f\u8bf4\uff0c\u7531\u4e8e\u7535\u5f71\u5b8c\u5168\u91c7\u7528 16mm \u80f6\u7247\u62cd\u6444\uff0c\u56e0\u6b64\u5728\u7f51\u4e0a\u4f1a\u770b\u5230\u7c7b\u4f3c\u300c\u753b\u9762\u6a21\u7cca\u3001\u865a\u7126\u300d\u7684\u5dee\u8bc4\uff0c\u4f46\u6211\u5728\u89c2\u770b\u7684\u8fc7\u7a0b\u4e2d\u5012\u6ca1\u6709\u8fd9\u65b9\u9762\u7684\u56f0\u6270\uff0c\u53ef\u80fd\u662f\u7531\u4e8e\u6211\u4e0d\u662f\u5728\u5927\u94f6\u5e55\u89c2\u770b\u7684\u539f\u56e0\u3002\\n\\n\u8fd9\u90e8\u7535\u5f71\u6216\u8bb8\u5f88\u5bb9\u6613\u88ab\u5f52\u7c7b\u4e3a\u300c\u6587\u827a\u7247\u300d\uff0c\u5728\u5f71\u7247\u6c14\u8d28\u4e0a\u7684\u786e\u4e5f\u6709\u5f88\u6d53\u70c8\u7684\u827a\u672f\u7247\u98ce\u683c\uff0c\u7279\u522b\u662f\u540e\u534a\u6bb5\u5bf9\u4e8e\u4e3b\u4eba\u516c\u68a6\u5883\u7684\u4e00\u4e9b\u610f\u8bc6\u6d41\u8868\u73b0\u3002\u4f46\u662f\u8fd9\u90e8\u7535\u5f71\u53c8\u4e0d\u50cf\u5f88\u591a\u4f20\u7edf\u6587\u827a\u7247\u90a3\u6837\u6ca1\u6709\u660e\u663e\u7684\u4e3b\u7ebf\u5267\u60c5\uff0c\u4ece\u5f71\u7247\u5f00\u59cb\u5230\u7ed3\u5c3e\u5176\u5b9e\u90fd\u8d2f\u7a7f\u4e86\u4e00\u4e2a\u60ac\u7591\u6848\u4ef6\uff0c\u4f5c\u4e3a\u5211\u8b66\u961f\u961f\u957f\u7684\u4e3b\u4eba\u516c\u4e5f\u5728\u4e00\u6b65\u6b65\u5e26\u7740\u89c2\u4f17\u53bb\u63a2\u5bfb\u300c\u771f\u76f8\u300d\u3002\u4f46\u6211\u89c9\u5f97\u300c\u60ac\u7591\u300d\u5e76\u4e0d\u662f\u8fd9\u90e8\u7535\u5f71\u60f3\u8981\u8868\u8fbe\u7684\u6838\u5fc3\uff08\u6216\u8005\u53ef\u80fd\u4f59\u534e\u7684\u539f\u8457\u4e5f\u662f\u5982\u6b64\uff1f\uff09\uff0c\u66f4\u591a\u662f\u60f3\u5c55\u73b0\u5927\u65f6\u4ee3\u80cc\u666f\u4e0b\u4e0d\u540c\u4eba\u7269\u7684\u56f0\u5883\uff0c\u67d0\u79cd\u610f\u4e49\u4e0a\u8fd9\u90e8\u7535\u5f71\u66f4\u50cf\u4e00\u4e2a\u7fa4\u50cf\u620f\uff0c\u300c\u60ac\u7591\u300d\u53ea\u662f\u5438\u5f15\u89c2\u4f17\u5f80\u4e0b\u89c2\u770b\u7684\u4e00\u4e2a\u5f15\u5b50\u3002\u6240\u4ee5\u6309\u7167\u8fd9\u6837\u7684\u7406\u89e3\uff0c\u90a3\u5176\u5b9e\u6240\u8c13\u7684\u300c\u6848\u4ef6\u771f\u76f8\u300d\u4e5f\u5c31\u53d8\u5f97\u4e0d\u90a3\u4e48\u91cd\u8981\u4e86\u3002\u5982\u6b64\u770b\u6765\uff0c\u300a\u6f2b\u957f\u7684\u5b63\u8282\u300b\u5176\u5b9e\u4e5f\u662f\u8fd9\u79cd\u7c7b\u578b\u7684\u5f71\u7247\uff0c\u53ea\u4e0d\u8fc7\u300a\u6cb3\u8fb9\u7684\u9519\u8bef\u300b\u7684\u8868\u8fbe\u66f4\u52a0\u9690\u6666\uff0c\u8fd9\u53ef\u80fd\u4e5f\u662f\u7535\u5f71\u548c\u5267\u96c6\u7684\u533a\u522b\u3002\\n\\n\u6700\u540e\u5982\u679c\u4f60\u5bf9\u8fd9\u90e8\u7535\u5f71\u7684\u4e00\u4e9b\u5e55\u540e\u6545\u4e8b\u611f\u5174\u8da3\uff0c\u63a8\u8350\u4f60\u542c\u4e00\u4e0b\u300c\u6563\u573a\u901a\u9053\u300d\u64ad\u5ba2\u5bf9\u672c\u7247\u6444\u5f71\u6307\u5bfc\u7a0b\u9a6c\u7684\u4e00\u6b21\u8bbf\u8c08\uff08\u70b9\u51fb[\u8fd9\u91cc](https://music.163.com/#/program?id=2532174553)\u6536\u542c\uff09\u3002\u542c\u5b8c\u8fd9\u4e2a\u8bbf\u8c08\u4ee5\u540e\u6700\u8ba9\u6211\u9707\u60ca\u7684\u4e0d\u662f\u80f6\u7247\u62cd\u6444\u6709\u591a\u96be\uff0c\u800c\u662f\u672c\u7247\u5728\u540e\u671f\u526a\u8f91\u65f6\u51e0\u4e4e\u4e00\u5200\u6ca1\u526a\uff0c\u8fd9\u53ef\u80fd\u4e5f\u662f\u4e00\u79cd\u5b9e\u529b\u7684\u4f53\u73b0\u5427\u3002\u53e6\u5916\u672c\u7247\u5bfc\u6f14\u9b4f\u4e66\u94a7 2021 \u5e74\u7684\u53e6\u4e00\u90e8\u7535\u5f71\u300a\u6c38\u5b89\u9547\u6545\u4e8b\u96c6\u300b\u6211\u5176\u5b9e\u4e5f\u633a\u611f\u5174\u8da3\uff0c\u65e0\u5948\u6682\u65f6\u6ca1\u6709\u8d44\u6e90\u548c\u6e20\u9053\u53ef\u4ee5\u89c2\u770b\u3002\\n\\n### \u4e1c\u65b9\u5feb\u8f66\u8c0b\u6740\u6848\uff08\u30aa\u30ea\u30a8\u30f3\u30c8\u6025\u884c\u6bba\u4eba\u4e8b\u4ef6\uff0c2015\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/03.png)\\n\\n\u770b\u7535\u5f71\u540d\u4f60\u53ef\u80fd\u5df2\u7ecf\u731c\u5230\u4e86\uff0c\u8fd9\u90e8\u5f71\u7247\u6b63\u662f\u6839\u636e\u963f\u52a0\u838e\u30fb\u514b\u91cc\u65af\u8482\u8457\u540d\u7684\u540c\u540d\u5c0f\u8bf4\u6539\u7f16\u3002\u548c\u300a\u6cb3\u8fb9\u7684\u9519\u8bef\u300b\u8fd9\u79cd\u300c\u5047\u60ac\u7591\u7247\u300d\u4e0d\u540c\uff0c\u963f\u52a0\u838e\u7684\u6545\u4e8b\u662f\u4e00\u5b9a\u4e0d\u80fd\u88ab\u63d0\u524d\u5267\u900f\u7684\uff01\u56e0\u6b64\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u770b\u8fc7\u8fd9\u4e2a\u6545\u4e8b\uff0c\u5f3a\u70c8\u63a8\u8350\u4f60\u5148\u770b\u770b\u5176\u5b83\u7248\u672c\u7684\u300a\u4e1c\u65b9\u5feb\u8f66\u8c0b\u6740\u6848\u300b\uff08\u6216\u8005\u76f4\u63a5\u770b\u5c0f\u8bf4\uff09\u3002\u8fd9\u90e8\u5c0f\u8bf4\u5df2\u7ecf\u88ab\u591a\u6b21\u6539\u7f16\u6210\u4e86\u7535\u5f71\uff0c\u6211\u6700\u65e9\u770b\u7684\u662f [1974 \u7248](https://movie.douban.com/subject/1292699)\uff0c\u867d\u7136\u770b\u5e74\u4ee3\u611f\u89c9\u4f1a\u662f\u4e00\u4e2a\u5f88\u8001\u7684\u7247\u5b50\uff0c\u4f46\u5176\u5b9e 1974 \u7248\u53ef\u80fd\u662f\u6700\u597d\u770b\u7684\u7248\u672c\uff0c\u5bfc\u6f14\u662f\u8457\u540d\u7684\u897f\u5fb7\u5c3c\u30fb\u5415\u7f8e\u7279\uff08\u4ee3\u8868\u4f5c\u5305\u62ec\u300a\u5341\u4e8c\u6012\u6c49\u300b\u3001\u300a\u70ed\u5929\u5348\u540e\u300b\uff09\u3002\\n\\n\u56de\u5230\u8fd9\u90e8\u65e5\u672c\u7248\u300a\u4e1c\u65b9\u5feb\u8f66\u8c0b\u6740\u6848\u300b\uff0c\u548c\u4e4b\u524d\u6b27\u7f8e\u56fd\u5bb6\u62cd\u6444\u7684\u7248\u672c\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f\u8868\u9762\u4e0a\u6700\u5927\u7684\u533a\u522b\u80af\u5b9a\u662f\u6f14\u5458\u4ece\u6b27\u7f8e\u4eba\u6362\u6210\u4e86\u4e9a\u6d32\u4eba\uff0c\u4f46\u8fd9\u90e8\u5f71\u7247\u7684\u7f16\u5267\u300c\u4e09\u8c37\u5e78\u559c\u300d\u624d\u662f\u4fc3\u4f7f\u6211\u6709\u5174\u8da3\u89c2\u770b\u7684\u539f\u56e0\u3002\u4e09\u8c37\u5e78\u559c\u662f\u65e5\u672c\u8457\u540d\u7684\u7f16\u5267\u548c\u5bfc\u6f14\uff0c\u4ed6\u7684\u5f71\u7247\u901a\u5e38\u4f1a\u5f52\u7c7b\u4e3a\u559c\u5267\uff0c\u4f46\u559c\u5267\u53ef\u80fd\u4e5f\u53ea\u662f\u4ed6\u8fdb\u884c\u81ea\u6211\u8868\u8fbe\u7684\u4e00\u4e2a\u5916\u58f3\u3002\u5982\u679c\u4f60\u4ece\u6765\u6ca1\u6709\u770b\u8fc7\u4e09\u8c37\u5e78\u559c\u7684\u4f5c\u54c1\uff0c\u90a3\u6211\u63a8\u8350\u4f60\u5148\u770b\u770b\u4ed6\u7684\u51e0\u4e2a\u4ee3\u8868\u4f5c\u54c1\uff0c\u6bd4\u5982\u300a\u6709\u9876\u5929\u9152\u5e97\u300b\u3001\u300a\u5e7f\u64ad\u65f6\u95f4\u300b\u3001\u300a\u9b54\u5e7b\u65f6\u523b\u300b\u3001\u300a\u5927\u7a7a\u6e2f 2013\u300b\u3001\u300a\u7b11\u4e4b\u5927\u5b66\u300b\u3002\\n\\n\u8fd9\u90e8\u4e09\u8c37\u5e78\u559c\u6539\u7f16\u7248\u7684\u300a\u4e1c\u65b9\u5feb\u8f66\u8c0b\u6740\u6848\u300b\u5206\u4e3a\u4e0a\u4e0b\u4e24\u90e8\u5206\uff08\u5f71\u7247\u91cc\u79f0\u4e3a\u300c\u7b2c\u4e00\u591c\u300d\u548c\u300c\u7b2c\u4e8c\u591c\u300d\uff09\uff0c\u4e0a\u90e8\u662f\u5bf9\u963f\u52a0\u838e\u30fb\u514b\u91cc\u65af\u8482\u5c0f\u8bf4\u7684\u5b8c\u7f8e\u8fd8\u539f\uff0c\u53ea\u4e0d\u8fc7\u6545\u4e8b\u548c\u4eba\u7269\u8bbe\u5b9a\u6362\u6210\u4e86\u66f4\u7b26\u5408\u65e5\u672c\u65f6\u4ee3\u80cc\u666f\u7684\u98ce\u683c\uff0c\u800c\u4e0b\u90e8\u5219\u662f\u4e09\u8c37\u5e78\u559c\u5b8c\u5168\u539f\u521b\u7684\u5185\u5bb9\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u5373\u4f7f\u6211\u5df2\u7ecf\u77e5\u9053\u4e86\u6848\u4ef6\u771f\u76f8\u4e5f\u80fd\u7ee7\u7eed\u6d25\u6d25\u6709\u5473\u89c2\u770b\u7684\u539f\u56e0\u3002\u8fd9\u90e8\u5f71\u7247\u80af\u5b9a\u7b97\u4e0d\u4e0a\u4e09\u8c37\u5e78\u559c\u6700\u597d\u7684\u4f5c\u54c1\uff0c\u4f46\u5bf9\u4e8e\u559c\u6b22\u4ed6\u7684\u6545\u4e8b\u98ce\u683c\u7684\u89c2\u4f17\u6765\u8bf4\u4f1a\u662f\u4e00\u4e2a\u770b\u5b8c\u4ee5\u540e\u8db3\u591f\u6ee1\u8db3\u7684\u8bda\u610f\u4e4b\u4f5c\u3002\\n\\n### \u60e0\u5b50\uff0c\u51dd\u89c6\uff08\u30b1\u30a4\u30b3 \u76ee\u3092\u6f84\u307e\u305b\u3066\uff0c2022\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/04.png)\\n\\n\u8fd9\u662f\u4e00\u4e2a\u5c5e\u4e8e\u666e\u901a\u4eba\u7684\u5e73\u51e1\u6545\u4e8b\uff0c\u6ca1\u6709\u5927\u5f00\u5927\u5408\uff0c\u6ca1\u6709\u5f3a\u70c8\u7684\u5267\u60c5\u53cd\u8f6c\uff0c\u6709\u7684\u53ea\u662f\u5bf9\u4e8e\u751f\u6d3b\u7684\u5e73\u5b9e\u63cf\u7ed8\u3002\u867d\u7136\u4ee5\u5973\u6027\u4e3a\u4e3b\u89d2\u96be\u514d\u4f1a\u88ab\u8d34\u4e0a\u300c\u5973\u6027\u4e3b\u4e49\u300d\u7684\u6807\u7b7e\uff0c\u4f46\u6211\u89c9\u5f97\u8fd9\u90e8\u5f71\u7247\u5bf9\u4e8e\u6240\u6709\u6027\u522b\u7684\u4eba\u6765\u8bf4\u90fd\u80fd\u83b7\u5f97\u4e00\u4e9b\u611f\u609f\u3002\\n\\n\u5f71\u7247\u7684\u8bbe\u5b9a\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5973\u4e3b\u89d2\u662f\u4e00\u4e2a\u5f88\u559c\u6b22\u62f3\u51fb\u7684\u804b\u54d1\u4eba\uff0c\u800c\u6545\u4e8b\u5219\u56f4\u7ed5\u7740\u5979\u5e73\u5e38\u8bad\u7ec3\u7684\u62f3\u9986\u5f90\u5f90\u5c55\u5f00\u3002\u53ef\u80fd\u770b\u5230\u62f3\u51fb\u4f1a\u8ba9\u4eba\u8bef\u4ee5\u4e3a\u8fd9\u662f\u4e00\u4e2a\u4f53\u80b2\u9898\u6750\u7684\u70ed\u8840\u52b1\u5fd7\u7535\u5f71\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u8fd9\u5e76\u4e0d\u662f\u4e00\u90e8\u8bb2\u8ff0\u4e00\u4e2a\u5c0f\u4eba\u7269\u5982\u4f55\u6210\u957f\u5e76\u4e00\u6b65\u4e00\u6b65\u8715\u53d8\u7684\u300c\u8001\u5957\u300d\u5267\u60c5\u3002\u53cd\u5012\u5bf9\u6211\u6765\u8bf4\uff0c\u8fd9\u662f\u4e00\u90e8\u6e29\u60c5\u7684\u7535\u5f71\uff0c\u5973\u4e3b\u89d2\u867d\u7136\u4e0d\u80fd\u901a\u8fc7\u8a00\u8bed\u8868\u8fbe\uff0c\u8fd9\u53cd\u800c\u8ba9\u89c2\u4f17\u66f4\u52a0\u6ce8\u610f\u89c2\u5bdf\u5979\u7684\u4e00\u4e3e\u4e00\u52a8\uff0c\u8fdb\u800c\u4f53\u4f1a\u5230\u90a3\u4e9b\u4e0d\u7ecf\u610f\u95f4\u6d41\u9732\u51fa\u7684\u7ec6\u817b\u60c5\u611f\u3002\u4e0d\u523b\u610f\u717d\u60c5\u662f\u6211\u89c9\u5f97\u8fd9\u90e8\u5f71\u7247\u7684\u4f18\u70b9\uff0c\u5f88\u591a\u65f6\u5019\u8fd9\u79cd\u300c\u4e0d\u523b\u610f\u300d\u4f1a\u6bd4\u5f3a\u884c\u8bf4\u6559\u5e26\u7ed9\u89c2\u4f17\u7684\u611f\u53d7\u66f4\u52a0\u5f3a\u70c8\u3002\\n\\n\u5982\u679c\u4f60\u5bf9\u8fd9\u90e8\u5f71\u7247\u611f\u5174\u8da3\uff0c\u63a8\u8350\u4f60\u5728\u4e00\u4e2a\u5b89\u9759\u7684\u65f6\u523b\u548c\u73af\u5883\u91cc\u89c2\u770b\u3002\\n\\n### \u82b1\u675f\u822c\u7684\u604b\u7231\uff08\u82b1\u675f\u307f\u305f\u3044\u306a\u604b\u3092\u3057\u305f\uff0c2021\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/05.png)\\n\\n\u5176\u5b9e\u5f88\u65e9\u5c31\u5728\u8c46\u74e3\u4e0a\u6807\u8bb0\u4e86\u8fd9\u90e8\u7535\u5f71\uff0c\u4f46\u76f4\u5230 2023 \u5e74\u624d\u770b\u4e0e\u4e0b\u9762\u8981\u63a8\u8350\u7684\u300c\u5e74\u5ea6 Top 5 \u5267\u96c6\u300d\u91cc\u7684\u5176\u4e2d\u4e00\u90e8\u6709\u5173\u3002\u6f14\u5458\u9635\u5bb9\u5f88\u5f3a\u5927\uff0c\u83c5\u7530\u5c06\u6656\u3001\u6709\u6751\u67b6\u7eaf\u3001\u5c0f\u7530\u5207\u8ba9\u3001\u6237\u7530\u60e0\u5b50\u3001\u5c0f\u6797\u85b0\uff0c\u751a\u81f3\u62bc\u4e95\u5b88\u90fd\u6765\u5ba2\u4e32\u4e86\u4e00\u628a\u3002\u7f16\u5267\u662f\u8457\u540d\u7684\u65e5\u5267\u7f16\u5267\u5742\u5143\u88d5\u4e8c\uff08\u4ee3\u8868\u4f5c\u300a\u4e1c\u4eac\u7231\u60c5\u6545\u4e8b\u300b\u3001\u300a\u6700\u5b8c\u7f8e\u7684\u79bb\u5a5a\u300b\u3001\u300a\u56db\u91cd\u594f\u300b\uff09\uff0c\u800c\u914d\u4e50\u662f\u8457\u540d\u7684\u97f3\u4e50\u5bb6\u5927\u53cb\u826f\u82f1\u3002\\n\\n\u6211\u4f1a\u628a\u67d0\u4e00\u7c7b\u7231\u60c5\u7535\u5f71\u5f52\u7c7b\u4e3a\u300c\u7eaf\u7231\u7535\u5f71\u300d\uff0c\u770b\u5b8c\u8fd9\u7c7b\u7535\u5f71\u4ee5\u540e\u4f1a\u8ba9\u4eba\u4ea7\u751f\u5f3a\u70c8\u7684\u300c\u604b\u7231\u771f\u7f8e\u597d\u300d\u7684\u611f\u89c9\uff0c\u800c\u300a\u82b1\u675f\u822c\u7684\u604b\u7231\u300b\u6b63\u662f\u8fd9\u6837\u7684\u7535\u5f71\uff0c\u5f88\u591a\u5e74\u524d\u770b\u7684\u300a\u548c\u838e\u83ab\u7684 500 \u5929\u300b\u5176\u5b9e\u4e5f\u5c5e\u4e8e\u8fd9\u7c7b\u7535\u5f71\u3002\u4f46\u76f8\u6bd4\u300a\u548c\u838e\u83ab\u7684 500 \u5929\u300b\uff0c\u300a\u82b1\u675f\u822c\u7684\u604b\u7231\u300b\u663e\u7136\u8981\u66f4\u6b8b\u9177\u4e00\u4e9b\u3002\u604b\u7231\u91cc\u6709\u7684\u4e0d\u53ea\u662f\u4e24\u4e2a\u4eba\u8f7b\u677e\u6109\u5feb\u5728\u4e00\u8d77\u7684\u65f6\u5149\uff0c\u8fd8\u6709\u66f4\u591a\u604b\u4eba\u4eec\u5728\u604b\u7231\u4e4b\u524d\u6839\u672c\u4e0d\u4f1a\u8003\u8651\u7684\u4e8b\u60c5\u53d1\u751f\u3002\u604b\u7231\u5230\u5a5a\u59fb\u662f\u4e00\u4e2a\u6f2b\u957f\u7684\u8fc7\u7a0b\uff0c\u53ef\u80fd\u5e74\u8f7b\u65f6\u8fd8\u4f1a\u628a\u8fd9\u4e24\u4e2a\u6982\u5ff5\u7b49\u540c\uff0c\u4f46\u968f\u7740\u5e74\u9f84\u589e\u957f\u4f1a\u9010\u6e10\u8ba4\u8bc6\u5230\u4e8c\u8005\u4e4b\u95f4\u5b58\u5728\u7740\u5de8\u5927\u7684\u9e3f\u6c9f\uff0c\u53ea\u6709\u6210\u529f\u8de8\u8d8a\u9e3f\u6c9f\u7684\u604b\u4eba\u624d\u80fd\u957f\u76f8\u53ae\u5b88\u3002\\n\\n\u4f46\u65e0\u8bba\u5982\u4f55\uff0c\u4e0d\u7ba1\u4f60\u7684\u5e74\u7eaa\u591a\u5927\uff0c\u4e0d\u7ba1\u4f60\u662f\u5355\u8eab\u8fd8\u662f\u5df2\u7ecf\u6210\u5bb6\uff0c\u6211\u90fd\u63a8\u8350\u4f60\u770b\u770b\u8fd9\u90e8\u7535\u5f71\uff0c\u6bd5\u7adf\u6bcf\u4e2a\u4eba\u7684\u5185\u5fc3\u90fd\u4e00\u5b9a\u6000\u6709\u90a3\u4efd\u7f8e\u597d\u3002\\n\\n\u5982\u679c\u4f60\u559c\u6b22\u770b\u7eaf\u7231\u7c7b\u578b\u7684\u5f71\u7247\uff0c\u90a3\u6211\u8fd8\u63a8\u8350\u4f60\u770b\u770b 2022 \u5e74\u6ee1\u5c9b\u5149\u4e3b\u6f14\u7684\u65e5\u5267\u300a\u521d\u604b\u300b\u3002\u4e3a\u4e86\u51cf\u5c11\u91cd\u590d\u7684\u9898\u6750\uff0c\u8fd9\u90e8\u5267\u6ca1\u6709\u8fdb\u5165\u6211\u7684\u300c\u5e74\u5ea6 Top 5 \u5267\u96c6\u300d\uff0c\u4f46\u4f9d\u7136\u975e\u5e38\u63a8\u8350\u3002\\n\\n## \u5e74\u5ea6 Top 5 \u5267\u96c6\\n\\n### \u77ed\u5267\u5f00\u59cb\u5566\uff08\u30b3\u30f3\u30c8\u304c\u59cb\u307e\u308b\uff0c2021\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/06.png)\\n\\n\u8fd9\u662f\u6211 2023 \u5e74\u552f\u4e00\u4e00\u90e8\u5728\u8c46\u74e3\u4e0a\u6253\u4e86 5 \u661f\u7684\u5267\u96c6\uff0c\u5373\u4f7f\u5df2\u7ecf\u770b\u5b8c\u8fc7\u4e86\u5f88\u4e45\uff0c\u73b0\u5728\u60f3\u6765\u8fd9\u90e8\u5267\u5e26\u7ed9\u6211\u7684\u4e5f\u8fd8\u662f\u5f88\u591a\u7684\u611f\u52a8\u3002\\n\\n\u8fd9\u90e8\u5267\u6211\u662f\u5728\u53f6\u5b50\u7684\u63a8\u8350\u4e0b\u624d\u5165\u7684\u5751\uff0c\u5267\u96c6\u56f4\u7ed5 3 \u4e2a\u68a6\u60f3\u4ece\u4e8b\u77ed\u5267\u884c\u4e1a\u7684\u5e74\u8f7b\u4eba\u5c55\u5f00\uff0c\u6bcf\u4e00\u96c6\u90fd\u662f\u57fa\u4e8e 1 \u4e2a\u4ed6\u4eec\u7684\u77ed\u5267\u5f00\u59cb\uff0c\u7136\u540e\u8bb2\u8ff0\u5f88\u591a\u77ed\u5267\u80cc\u540e\u7684\u4eba\u7269\u6545\u4e8b\uff0c\u8fd9\u91cc\u9762\u6709\u53cb\u60c5\uff0c\u6709\u7231\u60c5\uff0c\u6709\u4eb2\u60c5\u3002\u867d\u7136\u770b\u8d77\u6765\u4f3c\u4e4e\u662f\u6709\u70b9\u300c\u8001\u5957\u300d\u7684\u65e5\u5f0f\u5267\u60c5\uff0c\u4f46\u5c31\u50cf\u300a\u60e0\u5b50\uff0c\u51dd\u89c6\u300b\u7684\u300c\u4e0d\u523b\u610f\u717d\u60c5\u300d\u4e00\u6837\uff0c\u8fd9\u90e8\u5267\u96c6\u4e5f\u4e0d\u662f\u8bf4\u6559\u5f0f\u5730\u7ed9\u89c2\u4f17\u704c\u8f93\u60c5\u7eea\uff0c\u7f16\u5267\u4ee5\u4e00\u79cd\u5f88\u5de7\u5999\u7684\u65b9\u5f0f\u8bb2\u8ff0\u4e86\u4e00\u4e2a\u4e2a\u6545\u4e8b\uff0c\u76f4\u5230\u6700\u540e\u4e00\u96c6\u4ee5\u4e00\u79cd\u53cd\u9ad8\u6f6e\u4f46\u540c\u65f6\u53c8\u5e26\u6709\u5e0c\u671b\u7684\u8bbe\u5b9a\u7ed3\u675f\u3002\\n\\n\u524d\u9762\u4e5f\u63d0\u5230\u4e86\uff0c\u6211\u4e5f\u662f\u56e0\u4e3a\u770b\u4e86\u8fd9\u90e8\u5267\u96c6\u91cc\u83c5\u7530\u5c06\u6656\u548c\u6709\u6751\u67b6\u7eaf\u7684\u8868\u6f14\uff0c\u624d\u4ea7\u751f\u4e86\u53bb\u770b\u300a\u82b1\u675f\u822c\u7684\u604b\u7231\u300b\u7684\u60f3\u6cd5\u3002\u4ef2\u91ce\u592a\u8d3a\u5728\u8fd9\u90e8\u5267\u96c6\u7684\u8868\u6f14\u4e5f\u8ba9\u4eba\u5370\u8c61\u6df1\u523b\uff08\u6211\u6700\u65e9\u662f\u901a\u8fc7\u300a\u6211\u662f\u5927\u54e5\u5927\u300b\u8ba4\u8bc6\u4ed6\u7684\uff09\u3002\\n\\n### \u706b\u7ebf\uff08The Wire\uff0c2002-2008\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/07.png)\\n\\n\u8fd9\u90e8\u5267\u5b8c\u5168\u662f\u5728\u542c\u4e86\u91cd\u8f7b\u5728\u673a\u6838\u7684\u8282\u76ee[\u300c\u300a\u706b\u7ebf\u300b\u5bfc\u8bfb\u300d](https://www.gcores.com/albums/185)\u4ee5\u540e\u624d\u53bb\u770b\u7684\uff0c\u8fd9\u4e2a\u5267\u96c6\u603b\u5171\u6709 5 \u5b63\uff0c\u4e00\u53e3\u6c14\u8865\u5b8c\u9700\u8981\u4e0d\u5c11\u65f6\u95f4\uff0c\u4f46\u597d\u6b79\u8fd8\u662f\u770b\u5b8c\u4e86\u3002\u5bf9\u6211\u6765\u8bf4\uff0c5 \u5b63\u91cc\u5e76\u4e0d\u662f\u6bcf\u4e00\u5b63\u90fd\u5f88\u7cbe\u5f69\uff0c\u4e0d\u8fc7\u603b\u5f97\u6765\u8bf4\u300a\u706b\u7ebf\u300b\u662f\u4e00\u90e8\u4e0d\u5bb9\u9519\u8fc7\u7684\u4f5c\u54c1\u3002\\n\\n\u300a\u706b\u7ebf\u300b\u7684\u6545\u4e8b\u8bbe\u5b9a\u5728\u7f8e\u56fd\u7684\u5df4\u5c14\u7684\u6469\uff08Baltimore\uff09\uff0c\u8fd9\u4e2a\u57ce\u5e02\u6bd2\u54c1\u76db\u884c\uff0c\u767d\u4eba\u548c\u9ed1\u4eba\u7684\u51b2\u7a81\u4e0d\u65ad\uff0c\u4ee5\u6293\u6355\u5934\u53f7\u6bd2\u8d29\u4e3a\u76ee\u6807\u800c\u4e34\u65f6\u7ec4\u6210\u7684\u8c03\u67e5\u7ec4\u628a\u51e0\u4e2a\u4e3b\u89d2\u805a\u5728\u4e86\u4e00\u8d77\uff0c\u6545\u4e8b\u7531\u6b64\u800c\u5c55\u5f00\u3002\u5f53\u7136\u7b49\u4f60\u770b\u5b8c\u6574\u4e2a 5 \u5b63\u4ee5\u540e\u4f1a\u53d1\u73b0\u300a\u706b\u7ebf\u300b\u60f3\u8981\u8bb2\u8ff0\u7684\u4e0d\u4ec5\u4ec5\u662f\u8b66\u5bdf\u6293\u6355\u6bd2\u8d29\u8fd9\u4e48\u7b80\u5355\uff08\u5982\u679c\u4f60\u60f3\u770b\u8fd9\u7c7b\u578b\u7684\u5267\u96c6\uff0c\u6211\u66f4\u63a8\u8350\u770b\u300a\u6bd2\u67ad\u300b\uff09\uff0c\u5b83\u66f4\u591a\u53cd\u6620\u7684\u662f\u5df4\u5c14\u7684\u6469\u8fd9\u4e2a\u57ce\u5e02\uff0c\u4ece\u5bcc\u4eba\u5230\u8d2b\u6c11\uff0c\u4ece\u653f\u5ba2\u5230\u8b66\u5bdf\uff0c\u4ece\u7801\u5934\u5de5\u4eba\u5230\u6cd5\u5b98\uff0c\u4ece\u5b66\u751f\u5230\u8001\u5e08\uff0c\u4ece\u6bd2\u866b\u5230\u6bd2\u8d29\uff0c\u4ece\u8857\u5934\u4fa0\u5ba2\u5230\u65b0\u95fb\u8bb0\u8005\uff0c\u6240\u6709\u4eba\u5171\u540c\u7ec4\u6210\u4e86\u5df4\u5c14\u7684\u6469\u3002\u5728\u6211\u770b\u6765\uff0c\u7f16\u5267\u5927\u536b\u30fb\u897f\u8499\uff08David Simon\uff09\u4f5c\u4e3a\u4e00\u4e2a\u5728\u300a\u5df4\u5c14\u7684\u6469\u592a\u9633\u62a5\u300b\u5de5\u4f5c\u4e86 12 \u5e74\u7684\u8bb0\u8005\uff0c\u4ed6\u7684\u91ce\u5fc3\u662f\u60f3\u8981\u501f\u7740\u7f09\u6bd2\u8fd9\u6761\u7ebf\u7d22\uff0c\u4e3a\u89c2\u4f17\u5b8c\u6574\u5c55\u73b0\u4ed6\u773c\u4e2d\u7684\u5df4\u5c14\u7684\u6469\u3002\\n\\n\u53ef\u80fd\u6b63\u662f\u7531\u4e8e\u5927\u536b\u30fb\u897f\u8499\u7684\u8fd9\u4e2a\u91ce\u5fc3\uff0c\u300a\u706b\u7ebf\u300b\u4e0e\u5e38\u89c4\u7684\u7f8e\u5267\u6216\u8005\u8b66\u532a\u7247\u76f8\u5f53\u4e0d\u540c\uff0c\u6ca1\u6709\u7d27\u5f20\u523a\u6fc0\u7684\u5267\u60c5\uff0c\u4e5f\u4e0d\u4f1a\u6545\u610f\u5236\u9020\u60ac\u5ff5\u4ece\u800c\u5438\u5f15\u89c2\u4f17\u4e00\u96c6\u4e00\u96c6\u5f80\u4e0b\u770b\u3002\u5bf9\u4e8e\u4e60\u60ef\u4e86\u666e\u901a\u7f8e\u5267\u8282\u594f\u7684\u4eba\u6765\u8bf4\uff0c\u300a\u706b\u7ebf\u300b\u751a\u81f3\u4f1a\u6709\u70b9\u6c89\u95f7\uff0c\u4f60\u53ef\u80fd\u8981\u770b\u5230\u7b2c\u4e00\u5b63\u540e\u534a\u6bb5\u624d\u4f1a\u5f00\u59cb\u5bf9\u8fd9\u4e2a\u5267\u96c6\u611f\u5174\u8da3\uff0c\u8fd9\u6216\u8bb8\u4e5f\u662f\u4e3a\u4ec0\u4e48\u300a\u706b\u7ebf\u300b\u7b2c\u4e00\u5b63\u5728\u8c46\u74e3\u4e0a\u867d\u7136\u6709\u7740 9.4 \u7684\u9ad8\u5206\uff0c\u4f46\u662f\u53ea\u6709\u4e0d\u5230 3 \u4e07\u4eba\u8bc4\u4ef7\u7684\u539f\u56e0\uff08\u76f8\u6bd4\u4e4b\u4e0b\u300a\u6743\u5229\u7684\u6e38\u620f\u300b\u7b2c\u4e00\u5b63\u6709\u8d85\u8fc7 40 \u4e07\u4eba\u8bc4\u4ef7\uff09\u3002\\n\\n### \u91cd\u542f\u4eba\u751f\uff08\u30d6\u30e9\u30c3\u30b7\u30e5\u30a2\u30c3\u30d7\u30e9\u30a4\u30d5\uff0c2023\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/08.png)\\n\\n\u300a\u91cd\u542f\u4eba\u751f\u300b\u53ef\u80fd\u662f 2023 \u5e74\u6700\u51fa\u5708\u7684\u65e5\u5267\uff0c\u6ca1\u6709\u4e4b\u4e00\uff08\u5728\u8c46\u74e3\u4e0a\u6709\u63a5\u8fd1 28 \u4e07\u4eba\u8bc4\u4ef7\uff0c\u548c\u300a\u534a\u6cfd\u76f4\u6811\u300b\u5dee\u4e0d\u591a\uff09\u3002\u5bf9\u4e8e\u65e5\u5267\u8001\u7c89\u6765\u8bf4\uff0c\u8fd9\u90e8\u5267\u91cc\u53ef\u4ee5\u770b\u5230\u5f88\u591a\u719f\u9762\u5b54\uff0c\u800c\u5bf9\u4e8e\u65b0\u7c89\u6765\u8bf4\u5728\u5982\u6b64\u5f3a\u5927\u7684\u6f14\u5458\u9635\u5bb9\u4e0b\u4e5f\u80fd\u770b\u4e2a\u70ed\u95f9\u3002\\n\\n\u6545\u4e8b\u5267\u60c5\u5e94\u8be5\u4e5f\u4e0d\u7528\u6211\u505a\u592a\u591a\u4ecb\u7ecd\u4e86\uff0c\u8bf4\u51e0\u4e2a\u8ba9\u6211\u5370\u8c61\u6df1\u523b\u548c\u6709\u8da3\u7684\u70b9\uff08\u6ce8\u610f\u6d89\u53ca\u5173\u952e\u5267\u900f\uff0c\u4ecb\u610f\u8bf7\u52ff\u770b\uff09\uff1a\\n\\n<details>\\n<summary>\u70b9\u51fb\u67e5\u770b</summary>\\n\\n- \u6bcf\u6b21\u5728 KTV \u91cc\u90fd\u4f1a\u5531\u300a\u7c89\u96ea\u300b\u8fd9\u9996\u6b4c\uff0c\u4e00\u79d2\u8ba9\u6211\u56de\u5230\u9ad8\u4e2d\u65f6\u770b\u300a1 \u516c\u5347\u7684\u6cea\u300b\u7684\u65f6\u5149\u3002\\n- \u5f53\u5c0f\u5b66\u65f6\u671f\u7684\u9ebb\u7f8e\u548c\u771f\u91cc\u5728\u8f6e\u56de\u4e2d\u91cd\u9022\u65f6\uff0c\u4e24\u4eba\u4e92\u76f8\u7528\u624b\u52bf\u5bf9\u4e86\u4e2a\u6697\u53f7\uff0c\u8fd9\u6bb5\u5267\u60c5\u582a\u79f0\u5168\u7247\u9ad8\u80fd\u3002\\n- \u4e09\u6d66\u900f\u5b50\u9970\u6f14\u7684\u6cb3\u53e3\u7f8e\u5948\u5b50\u5728\u524d\u671f\u7a7f\u7684\u536b\u8863\u4e0a\u4e0d\u4ec5\u5199\u7740\u300cGo to hell\u300d\uff0c\u4e0b\u9762\u8fd8\u6709\u51e0\u884c\u5c0f\u5b57\u300cTo tell the truth, I\u2019m coming back to life many many times\u300d\u3002\u7b2c\u4e00\u904d\u770b\u7684\u65f6\u5019\u5b8c\u5168\u6ca1\u6709\u6ce8\u610f\u5230\uff0c\u540e\u6765\u770b\u5267\u7167\u624d\u53d1\u73b0\u8fd9\u4e2a\u5c5e\u4e8e\u63d0\u524d\u5267\u900f\u7684\u5f69\u86cb\u3002\\n- \u540e\u671f\u6cb3\u53e3\u7f8e\u5948\u5b50\u536b\u8863\u4e0a\u7684\u6587\u5b57\u6362\u6210\u4e86\u300cGo to Hometown\u300d\u4ee5\u53ca\u300cAfter all, I love this city the most, not to mention my friends\u300d\uff0c\u53ef\u4ee5\u8bf4\u662f\u660e\u786e\u70b9\u9898\u4e86\u3002\\n- \u9ebb\u7f8e\u5728\u7535\u89c6\u53f0\u5de5\u4f5c\u65f6\u5f53\u821e\u53f0\u7684\u706f\u5149\u66ff\u8eab\uff0c\u80f8\u524d\u7684\u724c\u5b50\u4e0a\u5199\u7684\u662f\u300c\u65b0\u57a3\u300d\uff0c\u5e94\u8be5\u662f\u5f53\u65b0\u57a3\u7ed3\u8863\u7684\u66ff\u8eab\u3002\\n- \u9970\u6f14\u4e09\u7530\u5148\u751f\u7684\u94c3\u6728\u6d69\u4ecb\u5728\u300a\u77ed\u5267\u5f00\u59cb\u5566\u300b\u4e2d\u4e5f\u9970\u6f14\u4e86\u4e00\u4e2a\u8001\u5e08\\n- \u590f\u5e06\u3001\u81fc\u7530\u9ebb\u7f8e\u3001\u5c71\u7530\u771f\u6b65\u3001\u4f50\u85e4\u73b2\u540c\u65f6\u4e5f\u51fa\u6f14\u8fc7\u7f16\u5267\u7b28\u86cb\u8282\u594f\u7684\u53e6\u4e00\u90e8\u65e5\u5267\u300a\u67b6\u7a7a OL \u65e5\u8bb0\u300b\\n\\n</details>\\n\\n\u9664\u4e86\u6b63\u7247\u4e4b\u5916\uff0c\u8fd8\u6709 1 \u4e2a 9 \u96c6\u7684\u300a\u91cd\u542f\u4eba\u751f \u756a\u5916\u7bc7\u300b\uff0c\u6bcf\u4e00\u96c6\u8bb2\u8ff0\u4e86 1 \u4e2a\u914d\u89d2\u7684\u5c0f\u6545\u4e8b\uff0c\u4e5f\u5f88\u503c\u5f97\u89c2\u770b\u3002\\n\\n### \u6700\u540e\u751f\u8fd8\u8005\uff08The Last of Us\uff0c2023\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/09.png)\\n\\n\u300a\u6700\u540e\u751f\u8fd8\u8005\u300b\u6700\u521d\u662f\u987d\u76ae\u72d7\uff08Naughty Dog\uff09\u5de5\u4f5c\u5ba4 2013 \u5e74\u5728 PlayStation 3\uff08PS 3\uff09\u5e73\u53f0\u4e0a\u72ec\u5360\u53d1\u884c\u7684\u6e38\u620f\uff0c\u540e\u6765\u76f8\u7ee7\u53d1\u5e03\u4e86 PS 4 \u548c PS 5 \u5e73\u53f0\u7684\u91cd\u5236\u7248\u30022020 \u5e74\u5728 PS 4 \u5e73\u53f0\u4e0a\u53d1\u5e03\u4e86\u7b2c\u4e00\u4ee3\u7684\u7eed\u4f5c\u300a\u6700\u540e\u751f\u8fd8\u8005 Part II\u300b\uff0cPS 5 \u91cd\u5236\u7248\u4e5f\u5373\u5c06\u5728\u4eca\u5e74 1 \u6708\u53d1\u5e03\u3002\\n\\n\u5982\u679c\u8981\u8bc4\u9009 PS \u5e73\u53f0\u72ec\u5360\u6e38\u620f\u7684\u524d\u4e09\u540d\uff0c\u90a3\u300a\u6700\u540e\u751f\u8fd8\u8005\u300b\u80af\u5b9a\u4f1a\u6709\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u8fd9\u4e5f\u662f\u6211\u5728 PS 4 \u5e73\u53f0\u63a5\u89e6\u7684\u7b2c\u4e8c\u4e2a\u6e38\u620f\uff08\u7b2c\u4e00\u4e2a\u662f\u300a\u795e\u79d8\u6d77\u57df\u300b\uff0c\u540c\u6837\u6765\u81ea\u987d\u76ae\u72d7\u5de5\u4f5c\u5ba4\uff09\u3002\u867d\u7136\u8fd9\u662f\u4e00\u4e2a\u52a8\u4f5c\u5192\u9669\u6e38\u620f\uff0c\u4f46\u6700\u5438\u5f15\u6211\u7684\u8fd8\u662f\u6574\u4e2a\u6e38\u620f\u7684\u6545\u4e8b\u8bbe\u5b9a\uff0c\u56e0\u6b64\u300a\u6700\u540e\u751f\u8fd8\u8005\u300b\u662f\u4e00\u4e2a\u4e00\u5b9a\u4e0d\u80fd\u88ab\u5267\u900f\u7684\u6e38\u620f\uff08\u6240\u4ee5\u5982\u679c\u4f60\u5148\u770b\u4e86\u5267\u96c6\u53ef\u80fd\u4f1a\u5f71\u54cd\u6e38\u620f\u7684\u6e38\u73a9\u4f53\u9a8c\uff09\u3002\\n\\n2020 \u5e74 HBO \u5ba3\u5e03\u5c06\u6e38\u620f\u6539\u7f16\u6210\u5267\u96c6\uff0c\u7531\u300a\u6700\u540e\u751f\u8fd8\u8005\u300b\u6e38\u620f\u7684\u7f16\u5267\u5c3c\u5c14\u30fb\u5fb7\u62c9\u67ef\u66fc\uff08Neil Druckmann\uff09\u548c\u300a\u5207\u5c14\u8bfa\u8d1d\u5229\u300b\u5267\u96c6\u7684\u7f16\u5267\u514b\u96f7\u683c\u30fb\u9ea6\u8f9b\uff08Craig Mazin\uff09\u5171\u540c\u62c5\u4efb\u7f16\u5267\u3002\u4f5c\u4e3a\u6e38\u620f\u91cc\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u89d2\u8272\u4e54\u5c14\uff08Joel\uff09\u548c\u827e\u8389\uff08Ellie\uff09\uff0c\u5728\u516c\u5e03\u626e\u6f14\u8005\u662f\u4f69\u5fb7\u7f57\u30fb\u5e15\u65af\u5361\uff08Pedro Pascal\uff09\u548c\u8d1d\u62c9\u30fb\u62c9\u59c6\u9f50\uff08Bella Ramsey\uff09\u4ee5\u540e\uff0c\u4f5c\u4e3a\u6e38\u620f\u73a9\u5bb6\u5176\u5b9e\u662f\u76f8\u5f53\u5931\u671b\u7684\u3002\u867d\u7136\u6211\u5f88\u559c\u6b22\u4f69\u5fb7\u7f57\u5728\u300a\u6bd2\u67ad\u300b\u4e2d\u7684\u8868\u6f14\uff0c\u4f46\u8fd8\u662f\u89c9\u5f97\u8fd9\u4e24\u4f4d\u6f14\u5458\u548c\u6e38\u620f\u91cc\u7684\u4eba\u7269\u6c14\u8d28\u5dee\u5f97\u6bd4\u8f83\u8fdc\uff0c\u7279\u522b\u662f\u827e\u8389\u7684\u626e\u6f14\u8005\u8d1d\u62c9\u30fb\u62c9\u59c6\u9f50\uff0c\u771f\u7684\u662f\u4e00\u70b9\u90fd\u4e0d\u50cf\u3002\u800c\u4e14\u57fa\u4e8e\u8fc7\u5f80\u7684\u7ecf\u9a8c\uff0c\u6e38\u620f\u6539\u7f16\u7684\u5f71\u89c6\u901a\u5e38\u90fd\u4f1a\u6251\u8857\uff0c\u6240\u4ee5\u5bf9\u4e8e\u8fd9\u4e2a\u5267\u96c6\u5176\u5b9e\u4e5f\u6ca1\u6709\u62b1\u592a\u5927\u671f\u5f85\uff0c\u53ea\u5e0c\u671b\u80fd\u5c3d\u91cf\u8fd8\u539f\u6e38\u620f\u5c31\u591f\u4e86\u3002\\n\\n\u7136\u800c\u7b49\u5230\u5267\u96c6\u4e0a\u7ebf\u7b2c\u4e00\u96c6\u4ee5\u540e\uff0c\u770b\u5b8c\u8fd9\u96c6\u7684\u6211\u53ea\u80fd\u79f0\u8d5e HBO \u4e07\u5c81\u3002\u5267\u96c6\u5bf9\u4e8e\u6e38\u620f\u573a\u666f\u7684\u8fd8\u539f\u5ea6\u53ea\u80fd\u7528\u903c\u771f\u6765\u5f62\u5bb9\uff0c\u800c\u4e4b\u524d\u6700\u5931\u671b\u7684\u9009\u89d2\u5728\u770b\u5b8c\u6f14\u5458\u7684\u8868\u6f14\u4ee5\u540e\u4e0d\u5f97\u4e0d\u8bf4\u300c\u771f\u9999\u300d\u3002\u4f5c\u4e3a\u6e38\u620f\u73a9\u5bb6\u7684\u5f69\u86cb\u4e4b\u4e00\uff0c\u4e4b\u524d\u5728\u6e38\u620f\u4e2d\u4f5c\u4e3a\u51e0\u4e2a\u4e3b\u8981\u89d2\u8272\u52a8\u4f5c\u6355\u6349\u548c\u914d\u97f3\u7684\u6f14\u5458\u4e5f\u53c2\u4e0e\u4e86\u5267\u96c6\u7684\u62cd\u6444\uff0c\u4f8b\u5982\u4e54\u5c14\u548c\u827e\u8389\u5728\u6e38\u620f\u4e2d\u7684\u6f14\u5458\u7279\u7f57\u4f0a\u30fb\u8d1d\u514b\uff08Troy Baker\uff09\u548c\u827e\u4ec0\u8389\u30fb\u7ea6\u7ff0\u900a\uff08Ashley Johnson\uff09\u5728\u5267\u96c6\u4e2d\u5206\u522b\u5ba2\u4e32\u4e86\u4e24\u4e2a\u89d2\u8272\u3002\u800c\u6e38\u620f\u4e2d\u7684\u914d\u4e50\u4e5f\u540c\u6837\u4f5c\u4e3a\u4e86\u5267\u96c6\u7684\u914d\u4e50\uff0c\u5f53\u542c\u5230\u7247\u5934\u66f2\u65f6\u4e00\u5b9a\u4f1a\u8ba9\u6bcf\u4e00\u4e2a\u73a9\u5bb6\u5174\u594b\u4e0d\u5df2\u3002\\n\\n\u76ee\u524d HBO \u5df2\u7ecf\u7eed\u8ba2\u4e86\u7b2c\u4e8c\u5b63\uff0c\u7531\u4e8e\u7b2c\u4e00\u5b63\u5df2\u7ecf\u628a\u300a\u6700\u540e\u751f\u8fd8\u8005 Part I\u300b\u6e38\u620f\u7684\u6545\u4e8b\u8bb2\u5b8c\uff0c\u6240\u4ee5\u7b2c\u4e8c\u5b63\u5e94\u8be5\u4f1a\u62cd\u6444\u300a\u6700\u540e\u751f\u8fd8\u8005 Part II\u300b\u7684\u5267\u60c5\uff0c\u5267\u96c6\u9884\u8ba1\u4f1a\u5728 2025 \u5e74\u4e0a\u7ebf\u3002\\n\\n### \u4e0d\u80fd\u7ed3\u5a5a\u7684\u7537\u4eba\uff08\u7d50\u5a5a\u3067\u304d\u306a\u3044\u7537\uff0c2006\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/10.png)\\n\\n\u6b63\u5982\u8fd9\u90e8\u5267\u7684\u5267\u540d\uff0c\u5267\u96c6\u8bb2\u8ff0\u4e86\u4e00\u4e2a\u4e0d\u60f3\u7ed3\u5a5a\uff08\u751a\u81f3\u662f\u75db\u65a5\u5a5a\u59fb\uff09\uff0c\u4e00\u5fc3\u6c89\u8ff7\u4e8e\u5de5\u4f5c\u548c\u81ea\u6211\u4e16\u754c\u7684\u5927\u9f84\u5355\u8eab\u7537\u6027\u7684\u6545\u4e8b\u3002\u7537\u4e3b\u89d2\u7531\u963f\u90e8\u5bbd\u9970\u6f14\uff0c\u7531\u4e8e\u6211\u5728\u770b\u8fd9\u90e8\u5267\u4e4b\u524d\u521a\u521a\u770b\u8fc7\u540c\u6837\u7531\u963f\u90e8\u5bbd\u4e3b\u6f14\u7684\u53e6\u4e00\u90e8\u65e5\u5267\u300a\u9f99\u6a31\u300b\uff0c\u5728\u8fd9\u4e24\u90e8\u5267\u91cc\u4e24\u4e2a\u89d2\u8272\u7684\u98ce\u683c\u5f62\u6210\u4e86\u5f3a\u70c8\u53cd\u5dee\uff0c\u8ba9\u4eba\u5370\u8c61\u6df1\u523b\u3002\\n\\n\u770b\u8fd9\u90e8\u5267\u65f6\uff0c\u603b\u662f\u8ba9\u6211\u60f3\u8d77\u53e6\u4e00\u90e8\u65e5\u5267\u300a\u6700\u5b8c\u7f8e\u7684\u79bb\u5a5a\u300b\u3002\u4e00\u4e2a\u662f\u4e0d\u60f3\u7ed3\u5a5a\uff0c\u4e00\u4e2a\u662f\u6700\u7ec8\u79bb\u5a5a\uff0c\u4e24\u90e8\u5267\u4e2d\u4ee5\u7537\u6027\u89c6\u89d2\u5c55\u73b0\u51fa\u7684\u5bf9\u4e8e\u604b\u7231\u3001\u5a5a\u59fb\u7684\u770b\u6cd5\u6709\u4e9b\u8bb8\u5171\u901a\u4e4b\u5904\u3002\u5f53\u7136\u6216\u8bb8\u4f1a\u6709\u4eba\u89c9\u5f97\u963f\u90e8\u5bbd\u9970\u6f14\u7684\u8fd9\u4e2a\u7537\u4e3b\u89d2\u6709\u4e9b\u6781\u7aef\uff0c\u5728\u73b0\u5b9e\u751f\u6d3b\u4e2d\u4e0d\u592a\u53ef\u80fd\u51fa\u73b0\uff0c\u4f46\u6211\u89c9\u5f97\u7f16\u5267\u53ef\u80fd\u6070\u6070\u60f3\u5728 2006 \u5e74\u8fd9\u4e2a\u65f6\u95f4\u70b9\u53cd\u6620\u4e00\u4e9b\u65e5\u672c\u793e\u4f1a\u7684\u73b0\u72b6\u3002\u5728\u4e00\u4e2a\u5df2\u7ecf\u9ad8\u5ea6\u53d1\u5c55\u7684\u793e\u4f1a\u91cc\uff0c\u5e74\u8f7b\u4eba\u53ef\u80fd\u53cd\u800c\u6ca1\u6709\u52a8\u529b\u50cf\u7236\u8f88\u90a3\u6837\u594b\u6597\u548c\u524d\u8fdb\uff0c\u6ca1\u6709\u7ed3\u5a5a\u7684\u6b32\u671b\uff0c\u5373\u4f7f\u7ed3\u5a5a\u4e86\u4e5f\u4e0d\u60f3\u751f\u5c0f\u5b69\uff0c\u8fd9\u624d\u9020\u6210\u4e86\u65e5\u672c\u7684\u300c\u5c11\u5b50\u5316\u300d\u73b0\u8c61\uff0c\u65b0\u751f\u513f\u6570\u4e5f\u5728\u9010\u5e74\u4e0b\u964d\u3002\u8fd9\u4e2a\u8bdd\u9898\u5176\u5b9e\u653e\u5230\u5f53\u4e0b\u7684\u4e2d\u56fd\u4e5f\u662f\u975e\u5e38\u9002\u5408\u7684\u3002\\n\\n\u5c31\u50cf\u300a\u9f99\u6a31\u300b\u5728\u4e0a\u7ebf 16 \u5e74\u540e\u63a8\u51fa\u4e86\u300a\u9f99\u6a31 2\u300b\u4e00\u6837\uff0c\u8fd9\u90e8\u5267\u4e5f\u5728\u4e0a\u7ebf 13 \u5e74\u65f6\u63a8\u51fa\u4e86\u7eed\u4f5c\u300a\u8fd8\u662f\u4e0d\u80fd\u7ed3\u5a5a\u7684\u7537\u4eba\u300b\u3002\u7eed\u4f5c\u8fd8\u662f\u540c\u6837\u7684\u7f16\u5267\uff0c\u540c\u6837\u7684\u5bfc\u6f14\uff0c\u540c\u6837\u7684\u7537\u4e3b\u89d2\uff0c\u4e0d\u8fc7\u5973\u4e3b\u89d2\u4eec\u5df2\u7ecf\u6362\u6210\u4e86\u65b0\u7684\u6f14\u5458\u3002\u5bf9\u4e8e\u559c\u6b22\u770b\u7b2c\u4e00\u90e8\u7684\u5267\u8ff7\u6765\u8bf4\uff0c\u8fd9\u4e2a\u7eed\u4f5c\u4e5f\u662f\u503c\u5f97\u89c2\u770b\u7684\u3002\u5c31\u6211\u4e2a\u4eba\u800c\u8a00\uff0c\u6211\u8fd8\u662f\u66f4\u559c\u6b22\u7b2c\u4e00\u90e8\u7684\u6f14\u5458\u4eec\uff0c\u7279\u522b\u662f\u590f\u5ddd\u7ed3\u8863\uff0c\u867d\u7136\u5728\u8fd9\u90e8\u5267\u4e2d\u5979\u548c\u963f\u90e8\u5bbd\u6700\u7ec8\u6ca1\u6709\u7ec4\u5efa\u5bb6\u5ead\uff0c\u4f46\u662f\u5728\u662f\u679d\u88d5\u548c\u7684\u300a\u6b65\u5c65\u4e0d\u505c\u300b\u91cc\u4e24\u4eba\u8fd8\u662f\u987a\u5229\u6210\u4e3a\u4e86\u94f6\u5e55\u4f34\u4fa3\uff0c\u7b97\u662f\u5bf9\u7c89\u4e1d\u7684\u67d0\u79cd\u6170\u85c9\u5427\u3002\\n\\n## \u5e74\u5ea6 Top 5 \u7eaa\u5f55\u7247\\n\\n2023 \u5e74\u6211\u4e5f\u770b\u4e86\u4e0d\u5c11\u7eaa\u5f55\u7247\uff0c\u6709\u4e00\u6bb5\u65f6\u95f4\u8fd8\u7279\u5730\u627e\u4e86\u4e0d\u5c11 Netflix \u7684\u7eaa\u5f55\u7247\u6765\u770b\uff0c\u6211\u89c9\u5f97\u5f88\u591a\u65f6\u5019\u771f\u5b9e\u5f71\u50cf\u7684\u529b\u91cf\u76f8\u6bd4\u865a\u6784\u6545\u4e8b\u53ef\u80fd\u4f1a\u5927\u5f88\u591a\u3002\u7531\u4e8e\u7eaa\u5f55\u7247\u548c\u865a\u6784\u5f71\u89c6\u7684\u5dee\u522b\uff0c\u6240\u4ee5\u8fd9\u91cc\u5355\u72ec\u5217\u4e3e\u4e86\u4e00\u4e9b\u6211\u89c9\u5f97\u503c\u5f97\u89c2\u770b\u7684\u7eaa\u5f55\u7247\u3002\\n\\n### \u65e5\u672c\u4e4b\u803b\uff08Japan\'s Secret Shame\uff0c2018\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/11.png)\\n\\n\u8fd9\u662f\u4e00\u90e8\u6240\u6709\u4eba\u90fd\u5e94\u8be5\u770b\u7684\u7eaa\u5f55\u7247\uff0c\u6211\u77e5\u9053\u5f88\u591a\u4eba\u53ef\u80fd\u4f1a\u7ed9\u8fd9\u90e8\u7eaa\u5f55\u7247\u8d34\u4e0a\u300c\u5973\u6743\u300d\u7684\u6807\u7b7e\uff0c\u4f46\u5728\u6211\u770b\u6765\u4e8b\u4ef6\u4e3b\u89d2\u4f0a\u85e4\u8bd7\u7ec7\u53ea\u662f\u5728\u8ffd\u6c42\u4e00\u4e2a\u4eba\u7684\u57fa\u672c\u6743\u5229\uff0c\u8fd9\u4e5f\u7edd\u5bf9\u4e0d\u662f\u53ea\u6709\u65e5\u672c\u793e\u4f1a\u624d\u6709\u7684\u95ee\u9898\uff0c\u6211\u76f8\u4fe1\u7c7b\u4f3c\u4f0a\u85e4\u8bd7\u7ec7\u7684\u6545\u4e8b\u4f1a\u4e0d\u65ad\u5728\u5168\u4e16\u754c\u53d1\u751f\uff0c\u4efb\u4f55\u6027\u522b\u7684\u4eba\u90fd\u53ef\u80fd\u627f\u53d7\u548c\u5979\u4e00\u6837\u7684\u75db\u82e6\uff0c\u4ec5\u4ec5\u662f\u56e0\u4e3a\u5979\u6562\u4e8e\u7ad9\u51fa\u6765\u53d1\u58f0\u800c\u5df2\u3002\u867d\u7136\u6709\u67d0\u79cd\u89c2\u70b9\u662f\u4e00\u4e2a\u597d\u7684\u7eaa\u5f55\u7247\u4e0d\u5e94\u8be5\u5e26\u6709\u660e\u663e\u7684\u503e\u5411\uff0c\u4f46\u5728\u770b\u8fd9\u90e8\u7eaa\u5f55\u7247\u7684\u8fc7\u7a0b\u4e2d\u6211\u51e0\u4e4e\u4e0d\u53ef\u80fd\u505a\u5230\u5171\u60c5\u300c\u65bd\u5bb3\u8005\u300d\u3002\\n\\n\u4ece 2017 \u5e74 9 \u6708\u63d0\u8d77\u6c11\u4e8b\u8bc9\u8bbc\uff0c\u5230 2022 \u5e74 7 \u6708\u6700\u9ad8\u6cd5\u9662\u6700\u7ec8\u5224\u51b3\u4f0a\u85e4\u8bd7\u7ec7\u80dc\u8bc9\uff0c\u5c06\u8fd1 5 \u5e74\u7684\u8bc9\u8bbc\u671f\uff0c\u4f0a\u85e4\u8bd7\u7ec7\u6218\u6597\u5230\u4e86\u6700\u540e\uff0c\u4e5f\u83b7\u5f97\u4e86\u5e94\u6709\u7684\u516c\u6b63\uff0c\u4f46\u662f\u5bf9\u4e8e\u65bd\u5bb3\u8005\u5c71\u53e3\u656c\u4e4b\u7684\u60e9\u7f5a\u4ec5\u4ec5\u662f\u8d54\u507f 332 \u4e07\u65e5\u5143\uff08\u7ea6 16 \u4e07\u4eba\u6c11\u5e01\uff09\u800c\u5df2\uff0c\u4e0d\u5f97\u4e0d\u8ba9\u4eba\u53f9\u606f\u3002\u66f4\u52a0\u8bbd\u523a\u7684\u662f\uff0c\u5c71\u53e3\u656c\u4e4b\u4e5f\u63d0\u8d77\u4e86\u4e00\u7cfb\u5217\u9488\u5bf9\u8bfd\u8c24\u4ed6\u4e2a\u4eba\u540d\u8a89\u7684\u8bc9\u8bbc\uff0c\u4ed6\u8fd8\u56e0\u6b64\u83b7\u5f97\u4e86 189 \u4e07\u65e5\u5143\uff08\u7ea6 94000 \u5143\u4eba\u6c11\u5e01\uff09\u7684\u8d54\u507f\u3002\\n\\n\u56e0\u4e3a\u8fd9\u90e8\u7eaa\u5f55\u7247\uff0c\u6211\u53c8\u53bb\u770b\u4e86\u4f0a\u85e4\u8bd7\u7ec7\u7684\u8457\u4f5c\u300a\u9ed1\u7bb1\uff1a\u65e5\u672c\u4e4b\u803b\u300b\u3002\u76f8\u6bd4\u7eaa\u5f55\u7247\uff0c\u4e66\u7c4d\u5305\u542b\u4e86\u66f4\u591a\u7684\u4fe1\u606f\uff0c\u8fd8\u610f\u5916\u53d1\u73b0\u4f0a\u85e4\u8bd7\u7ec7\u548c\u65e5\u672c\u8457\u540d\u8bb0\u8005\u6e05\u6c34\u6d01\u5176\u5b9e\u4e5f\u6709\u8fc7\u63a5\u89e6\u3002\u6211\u662f\u901a\u8fc7\u300a\u6876\u5ddd\u8ddf\u8e2a\u72c2\u6740\u4eba\u4e8b\u4ef6\u300b\u548c\u300a\u8db3\u5229\u5973\u7ae5\u8fde\u7eed\u5931\u8e2a\u4e8b\u4ef6\u300b\u8fd9\u4e24\u672c\u4e66\u4e86\u89e3\u5230\u4e86\u6e05\u6c34\u6d01\u5176\u4eba\uff0c\u5bf9\u4e8e\u50cf\u4ed6\u8fd9\u6837\u7684\u826f\u5fc3\u8bb0\u8005\u53ea\u80fd\u62a5\u4ee5\u83ab\u5927\u7684\u656c\u610f\uff0c\u5f3a\u70c8\u63a8\u8350\u9605\u8bfb\u3002\\n\\n### \u73af\u6cd5\u81ea\u884c\u8f66\u8d5b\uff1a\u9006\u98ce\u98de\u9a70\uff08Tour de France: Unchained\uff0c2023\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/12.png)\\n\\n\u8fd9\u662f\u53f6\u5b50\u63a8\u8350\u770b\u7684\u7eaa\u5f55\u7247\uff0c\u8bb0\u5f55\u4e86 2022 \u5e74\u73af\u6cd5\u81ea\u884c\u8f66\u8d5b\u4e2d\u51e0\u652f\u8f66\u961f\u7684\u6545\u4e8b\u3002\u5bf9\u4e8e\u4ee5\u524d\u53ea\u5728 CCTV-5 \u7684\u4f53\u80b2\u65b0\u95fb\u91cc\u542c\u8bf4\u8fc7\u73af\u6cd5\u81ea\u884c\u8f66\u8d5b\u7684\u6211\u6765\u8bf4\uff0c\u8fd9\u9879\u8fd0\u52a8\u53ea\u80fd\u7528\u964c\u751f\u6765\u5f62\u5bb9\uff0c\u6839\u672c\u4e0d\u77e5\u9053\u6bd4\u8d5b\u89c4\u5219\uff0c\u4e5f\u4e00\u4e2a\u8f66\u624b\u90fd\u4e0d\u8ba4\u8bc6\u3002\u4f46\u5c31\u50cf\u6240\u6709\u4f53\u80b2\u7ade\u6280\u4e00\u6837\uff0c\u603b\u662f\u80fd\u7ed9\u4eba\u5e26\u6765\u632f\u594b\u548c\u6fc0\u52b1\uff0c\u5373\u4f7f\u662f\u95e8\u5916\u6c49\u7684\u6211\u4e5f\u80fd\u770b\u5f97\u8840\u8109\u507e\u5f20\u3002\u8fd9\u65f6\u5019\u6bd4\u8d5b\u89c4\u5219\u4f3c\u4e4e\u5c31\u663e\u5f97\u4e0d\u90a3\u4e48\u91cd\u8981\u4e86\uff0c\u900f\u8fc7\u5c4f\u5e55\u89c2\u770b\u7684\u6211\u4f3c\u4e4e\u4e5f\u5df2\u7ecf\u7f6e\u8eab\u6cd5\u56fd\u7684\u5c0f\u9547\u6216\u8005\u5c71\u8c37\u95f4\uff0c\u4e3a\u6bcf\u4e00\u4e2a\u9009\u624b\u5450\u558a\u52a9\u5a01\uff0c\u751a\u81f3\u8ba9\u6211\u4ea7\u751f\u4e86\u4ee5\u540e\u4e00\u5b9a\u8981\u53bb\u73b0\u573a\u770b\u4e00\u6b21\u7684\u613f\u671b\u3002\\n\\n\u770b\u5b8c\u8fd9\u4e2a\u7eaa\u5f55\u7247\u7684\u65f6\u95f4\u662f 2023 \u5e74 7 \u6708 21 \u65e5\uff0c\u800c 7 \u6708 23 \u65e5\u6070\u597d\u662f 2023 \u5e74\u73af\u6cd5\u81ea\u884c\u8f66\u8d5b\u7684\u6700\u540e\u4e00\u4e2a\u8d5b\u6bb5\uff0c\u610f\u72b9\u672a\u5c3d\u7684\u6211\u4eec\u7ee7\u7eed\u89c2\u770b\u4e86\u6700\u540e\u4e24\u4e2a\u8d5b\u6bb5\uff0820 \u548c 21 \u8d5b\u6bb5\uff09\u7684\u76f4\u64ad\u3002\u6700\u8ba9\u6211\u5370\u8c61\u6df1\u523b\u7684\u5e76\u4e0d\u662f\u5934\u53f7\u79cd\u5b50\u4eec\u7684\u8f83\u91cf\uff0c\u800c\u662f\u7b2c 20 \u8d5b\u6bb5\u6cd5\u56fd\u4eba\u8482\u535a\u30fb\u76ae\u8bfa\uff08Thibaut Pinot\uff09\u5728\u4ed6\u9000\u5f79\u524d\u7684\u6700\u540e\u4e00\u6b21\u73af\u6cd5\u6bd4\u8d5b\u4e2d\u62fc\u5c3d\u5168\u529b\uff0c\u5f53\u4ed6\u5f80\u5c71\u9876\u6500\u767b\u65f6\u8def\u4e24\u65c1\u7684\u5bb6\u4e61\u4eba\u6c11\u90a3\u5c71\u547c\u6d77\u5578\u822c\u7684\u559d\u5f69\uff0c\u76ae\u8bfa\u5c31\u50cf\u300a\u51fa\u57c3\u53ca\u8bb0\u300b\u91cc\u7684\u6469\u897f\u5206\u5f00\u7ea2\u6d77\u4e00\u6837\uff0c\u7528\u4ed6\u7684\u594b\u529b\u524d\u8fdb\u5f00\u542f\u4e86\u4e00\u6761\u901a\u5f80\u5c71\u9876\u7684\u9053\u8def\u3002\u6b64\u65f6\u7684\u6211\u4eec\u5df2\u7ecf\u51e0\u4e4e\u70ed\u6cea\u76c8\u7736\uff0c\u4e5f\u8bb8\u8fd9\u5c31\u662f\u4f53\u80b2\u7684\u7cbe\u795e\u5427\u3002\\n\\n### \u6500\u767b\u6885\u9c81\u5cf0\uff08Meru\uff0c2015\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/13.png)\\n\\n\u4e16\u754c\u4e0a\u6700\u9ad8\u7684\u5c71\u5cf0\u662f\u4ec0\u4e48\uff1f\u5927\u5bb6\u80af\u5b9a\u90fd\u77e5\u9053\u662f\u73e0\u7a46\u6717\u739b\u5cf0\uff08Mount Everest\uff0c\u4e5f\u53eb\u5723\u6bcd\u5cf0\uff09\uff0c\u6d77\u62d4 8848 \u7c73\uff0c\u65e0\u6570\u4eba\u5fc3\u76ee\u4e2d\u6b64\u751f\u4e00\u5b9a\u8981\u53bb\u5f81\u670d\u7684\u5c71\u5cf0\u3002\u90a3\u5982\u679c\u95ee\u4e16\u754c\u4e0a\u6700\u96be\u6500\u767b\u7684\u5c71\u5cf0\u662f\u4ec0\u4e48\u5462\uff1f\u4f5c\u4e3a\u6500\u5ca9\u4ee5\u53ca\u767b\u5c71\u7684\u95e8\u5916\u6c49\uff0c\u6211\u4e00\u76f4\u4e5f\u4ee5\u4e3a\u662f\u73e0\u5cf0\uff0c\u76f4\u5230\u770b\u4e86\u8fd9\u90e8\u7eaa\u5f55\u7247\u3002\\n\\n\u6885\u9c81\u5cf0\uff08Meru Peak\uff09\u548c\u73e0\u5cf0\u4e00\u6837\uff0c\u4e5f\u5c5e\u4e8e\u559c\u9a6c\u62c9\u96c5\u5c71\u8109\uff0c\u4f4d\u4e8e\u5370\u5ea6\u5317\u90e8\u3002\u5149\u770b\u6d77\u62d4\uff0c\u6885\u9c81\u5cf0\u5176\u5b9e\u4e0d\u7b97\u9ad8\uff0c\u6700\u9ad8\u5904\uff08\u5357\u5cf0\uff09\u53ea\u6709 6660 \u7c73\u3002\u4f46\u5b83\u7684\u4e2d\u592e\u5c71\u5cf0\uff08\u6d77\u62d4 6310 \u7c73\uff09\u88ab\u8ba4\u4e3a\u662f\u559c\u9a6c\u62c9\u96c5\u5c71\u8109\u4e2d\u53ef\u80fd\u6700\u96be\u6500\u767b\u7684\u5c71\u5cf0\uff0c\u7279\u522b\u662f\u90a3\u6bb5\u88ab\u767b\u5c71\u8005\u79f0\u4e3a\u300c\u9ca8\u9c7c\u9ccd\uff08Shark\u2019s Fin\uff09\u300d\u7684\u8def\u7ebf\u3002\u800c\u8fd9\u4e2a\u7eaa\u5f55\u7247\u5c31\u662f\u5bf9\u4eba\u7c7b\u5386\u53f2\u4e0a\u9996\u6b21\u6210\u529f\u6500\u767b\u6885\u9c81\u5cf0\u4e2d\u592e\u5c71\u5cf0\u7684\u5b8c\u6574\u8bb0\u5f55\u3002\\n\\n\u6210\u529f\u767b\u9876\u7684 3 \u4e2a\u4eba\uff1a\u5eb7\u62c9\u5fb7\u30fb\u5b89\u514b\uff08Conrad Anker\uff09\u3001\u91d1\u56fd\u5a01\uff08Jimmy Chin\uff09\u3001\u96f7\u7eb3\u30fb\u5965\u65af\u6258\u514b\uff08Renan Ozturk\uff09\uff0c\u90fd\u662f\u804c\u4e1a\u7684\u767b\u5c71\u5bb6\u3002\u5176\u4e2d\u91d1\u56fd\u5a01\u53ef\u80fd\u5728\u5f71\u8ff7\u4e2d\u6700\u4e3a\u4eba\u719f\u77e5\uff0c\u4ed6\u662f 2019 \u5e74\u5965\u65af\u5361\u6700\u4f73\u7eaa\u5f55\u957f\u7247\u300a\u5f92\u624b\u6500\u5ca9\uff08Free Solo\uff09\u300b\u7684\u5bfc\u6f14\u4e4b\u4e00\uff0c\u53e6\u4e00\u4e2a\u5bfc\u6f14\u4f0a\u4e3d\u838e\u767d\u30fb\u67f4\u30fb\u74e6\u6c99\u745e\u8389\uff08Elizabeth Chai Vasarhelyi\uff09\u662f\u4ed6\u7684\u592a\u592a\uff0c\u4ed6\u4fe9\u5171\u540c\u6267\u5bfc\u4e86\u4e0d\u5c11\u70ed\u95e8\u7eaa\u5f55\u7247\uff0c\u800c\u672c\u7247\u300a\u6500\u767b\u6885\u9c81\u5cf0\u300b\u4e5f\u662f\u4e00\u90e8\u592b\u59bb\u5171\u540c\u5408\u4f5c\u7684\u4f5c\u54c1\u3002\u5f53\u7136\u91d1\u56fd\u5a01\u5728\u672c\u7247\u4e2d\u7684\u8eab\u4efd\u4e5f\u6bd4\u4ee5\u5f80\u4ed6\u62cd\u6444\u7684\u5f71\u7247\u66f4\u4e3a\u7279\u6b8a\uff0c\u4ed6\u4e0d\u4ec5\u8981\u627f\u62c5\u8bb0\u5f55\u6574\u4e2a\u8fc7\u7a0b\u7684\u4efb\u52a1\uff0c\u66f4\u4e3a\u91cd\u8981\u7684\u4ed6\u662f\u767b\u5c71\u5c0f\u961f\u4e2d\u7684\u4e00\u5458\u3002\\n\\n\u6500\u767b\u6885\u9c81\u5cf0\u7684\u8fc7\u7a0b\u8270\u9669\u800c\u53d8\u5e7b\u83ab\u6d4b\uff0c\u8fd9\u79cd\u88ab\u79f0\u4e3a\u300c\u963f\u5c14\u5351\u65af\u5f0f\uff08alpine style\uff09\u300d\u7684\u767b\u5c71\u65b9\u5f0f\u663e\u8457\u533a\u522b\u4e8e\u66f4\u4e3a\u5927\u4f17\u719f\u77e5\u7684\u300c\u63a2\u9669\u5f0f\uff08expedition style\uff09\u300d\uff0c\u540e\u8005\u5bf9\u4e8e\u6500\u767b\u8005\u7684\u4e13\u4e1a\u8981\u6c42\u8981\u5c0f\u5f88\u591a\uff0c\u66f4\u591a\u662f\u5bf9\u4f53\u529b\u548c\u8010\u529b\u7684\u8003\u9a8c\uff0c\u5178\u578b\u7684\u4ee3\u8868\u5c31\u662f\u6500\u767b\u73e0\u5cf0\u3002\u300c\u963f\u5c14\u5351\u65af\u5f0f\u300d\u9700\u8981\u6500\u767b\u8005\u81ea\u5df1\u643a\u5e26\u6240\u6709\u88c5\u5907\uff0c\u8def\u7ebf\u4e0a\u6ca1\u6709\u56fa\u5b9a\u7684\u7ef3\u7d22\u548c\u8425\u5730\uff0c\u5e76\u4e14\u9700\u8981\u7cbe\u901a\u5404\u79cd\u6500\u5ca9\u3001\u6500\u51b0\u6280\u672f\u3002\u91d1\u56fd\u5a01\u66fe\u5728\u91c7\u8bbf\u4e2d\u8bf4 99.9999% \u7684\u4eba\u5728\u770b\u5b8c\u8fd9\u90e8\u7eaa\u5f55\u7247\u4ee5\u540e\u4f30\u8ba1\u90fd\u4e0d\u4f1a\u60f3\u8981\u5c1d\u8bd5\u4eb2\u81ea\u6500\u767b\u6885\u9c81\u5cf0\uff0c\u53ea\u6709\u6781\u5c0f\u6bd4\u4f8b\u3001\u771f\u6b63\u786c\u6838\u7684\u767b\u5c71\u8005\u624d\u4f1a\u6709\u5174\u8da3\u3002\\n\\n\u5982\u679c\u4f60\u770b\u5b8c\u8fd9\u90e8\u7eaa\u5f55\u7247\u4ecd\u7136\u610f\u72b9\u672a\u5c3d\uff0c\u90a3\u6211\u63a8\u8350\u4f60\u518d\u53bb\u770b\u770b\u300a\u5f92\u624b\u6500\u5ca9\u300b\uff08\u5982\u679c\u4f60\u8fd8\u6ca1\u770b\u8fc7\u7684\u8bdd\uff09\uff0c\u4ee5\u53ca\u7531\u5eb7\u62c9\u5fb7\u30fb\u5b89\u514b\u4e3b\u6f14\u3001\u91d1\u56fd\u5a01\u53c2\u4e0e\u62cd\u6444\u7684\u53e6\u4e00\u90e8\u7eaa\u5f55\u7247\u300a\u6700\u72c2\u91ce\u7684\u68a6\u60f3\uff1a\u5f81\u670d\u73e0\u5cf0\uff08The Wildest Dream\uff09\u300b\u3002\\n\\n\u53e6\u4e00\u4e2a\u6709\u8da3\u7684\u8bdd\u9898\u662f\uff0cMeru \u8fd8\u53ef\u4ee5\u88ab\u7ffb\u8bd1\u4e3a\u300c\u987b\u5f25\u5c71\u300d\uff0c\u800c\u987b\u5f25\u5c71\u662f\u4f5b\u6559\u3001\u5370\u5ea6\u6559\u3001\u8006\u90a3\u6559\u4e2d\u6700\u9ad8\u7684\u795e\u5c71\uff0c\u4ee3\u8868\u5b87\u5b99\u7684\u4e2d\u5fc3\u3002\\n\\n### \u542f\u52a8\uff1aXbox \u7684\u6545\u4e8b\uff08Power On: The Story of Xbox\uff0c2021\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/14.png)\\n\\n\u8fd9\u662f\u4e00\u4e2a\u5728\u7b2c\u4e00\u4ee3 Xbox \u53d1\u5e03 20 \u5468\u5e74\u4e4b\u9645\uff0c\u4ecb\u7ecd Xbox \u5982\u4f55\u8bde\u751f\uff0c\u5e76\u4e00\u6b65\u4e00\u6b65\u53d1\u5c55\u7684\u7eaa\u5f55\u5267\u96c6\u3002\u603b\u5171 6 \u96c6\uff0c\u6bcf 1 \u96c6\u90fd\u6709\u4e00\u4e2a\u76f8\u5bf9\u72ec\u7acb\u7684\u4e3b\u9898\u3002\u524d 3 \u96c6\u90fd\u805a\u7126\u5728\u7b2c\u4e00\u4ee3 Xbox \u7684\u8bde\u751f\u6545\u4e8b\uff0c\u7b2c 4 \u96c6\u805a\u7126\u5728\u300a\u5149\u73af\uff08Halo\uff09\u300b\u548c Xbox 360\uff0c\u7b2c 5 \u96c6\u805a\u7126\u5728 Xbox 360 \u4e3b\u673a\u8457\u540d\u7684\u300c\u6b7b\u4ea1\u7ea2\u73af\uff08Red Ring of Death\uff09\u300d\u4e8b\u4ef6\uff08\u56fd\u5185\u73a9\u5bb6\u793e\u533a\u4fd7\u79f0\u300c\u4e09\u7ea2\u300d\uff09\uff0c\u7b2c 6 \u96c6\u9664\u4e86\u81ea\u5632\u5931\u8d25\u7684\u7b2c\u4e09\u4ee3\u4e3b\u673a Xbox One \u4ee5\u5916\uff0c\u5c31\u57fa\u672c\u662f\u5bf9\u73b0\u5728\u5fae\u8f6f\u6e38\u620f\u90e8\u95e8 CEO \u83f2\u5c14\u30fb\u65af\u5bbe\u585e\uff08Phil Spencer\uff09\u7684\u8d5e\u8a89\u3002\\n\\n\u5bf9\u6211\u4e2a\u4eba\u800c\u8a00\u524d 3 \u96c6\u662f\u6700\u6709\u8da3\u7684\uff0c\u8c01\u4e5f\u6ca1\u60f3\u5230\u4fc3\u4f7f Xbox \u8bde\u751f\u7684\u8d77\u70b9\u662f\u7d22\u5c3c\u7684 PlayStation 2\u30021999 \u5e74\u5f53\u7d22\u5c3c\u516c\u5f00\u5ba3\u5e03 PS 2 \u4e3b\u673a\u65f6\uff0c\u5e02\u573a\u5ba3\u4f20\u7684\u5b9a\u4f4d\u5df2\u7ecf\u4ece\u5355\u7eaf\u7684\u6e38\u620f\u4e3b\u673a\u53d8\u6210\u4e86\u6bcf\u4e2a\u5bb6\u5ead\u5fc5\u5907\u7684\u5a31\u4e50\u4e2d\u67a2\uff0c\u4f3c\u4e4e\u6709\u4e86 PS 2 \u4ee5\u540e\u4eba\u4eec\u7684\u5a31\u4e50\u751f\u6d3b\u5c31\u4e0d\u518d\u4f9d\u8d56 PC \u4e86\uff0c\u800c PS 2 \u7684\u8fd9\u4e2a\u5b9a\u4f4d\u5df2\u7ecf\u5f00\u59cb\u5bf9\u5fae\u8f6f\u7684\u6838\u5fc3\u5e02\u573a\u9020\u6210\u5a01\u80c1\u3002\\n\\n\u4f46 Xbox \u5e76\u4e0d\u662f\u4e00\u4e2a\u81ea\u4e0a\u800c\u4e0b\u7531\u9886\u5bfc\u9a71\u52a8\u7684\u9879\u76ee\uff0c\u53cd\u800c\u7531 4 \u4e2a\u6765\u81ea DirectX \u56e2\u961f\uff0c\u5728\u516c\u53f8\u5185\u540d\u4e0d\u89c1\u7ecf\u4f20\u7684\u5de5\u7a0b\u5e08\u53d1\u8d77\u3002DirectX \u662f Windows \u5e73\u53f0\u7684\u591a\u5a92\u4f53 API \u96c6\u5408\uff08\u4e3b\u8981\u662f\u6e38\u620f\u76f8\u5173\uff09\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u5c4f\u853d\u5e95\u5c42\u786c\u4ef6\uff0c\u4ee5\u4e00\u79cd\u7edf\u4e00\u6807\u51c6\u7684\u63a5\u53e3\u5feb\u901f\u5f00\u53d1\u6e38\u620f\u3002DirectX \u9879\u76ee\u6700\u521d\u5176\u5b9e\u4e5f\u662f\u7531 3 \u4e2a\u5de5\u7a0b\u5e08\u53d1\u8d77\uff0c\u65e9\u671f\u7684\u9879\u76ee\u4ee3\u53f7\u662f\u300c\u66fc\u54c8\u987f\u8ba1\u5212\uff08Manhattan Project\uff09\u300d\uff0c\u4ed6\u4eec\u7528\u8fd9\u4e2a\u4e8c\u6218\u65f6\u7684\u540c\u540d\u9879\u76ee\u6765\u5c55\u793a\u60f3\u8981\u7528 PC \u6e38\u620f\u53d6\u4ee3\u4ee5\u65e5\u672c\u516c\u53f8\u4e3a\u4ee3\u8868\u7684\u4e3b\u673a\u6e38\u620f\u7684\u91ce\u5fc3\u3002\u800c Xbox \u9879\u76ee\u7684 4 \u4e2a\u53d1\u8d77\u8005\u4f3c\u4e4e\u7ee7\u627f\u4e86 DirectX \u56e2\u961f\u300c\u53db\u9006\u300d\u7684\u57fa\u56e0\uff0c\u9009\u62e9\u8fce\u96be\u800c\u4e0a\uff0c\u6311\u6218\u6a2a\u6897\u5728\u5fae\u8f6f\u516c\u53f8\u5185\u90e8\u7684\u5404\u4e2a\u963b\u788d\uff0c\u5e76\u6700\u7ec8\u8bf4\u670d\u4e86\u6bd4\u5c14\u30fb\u76d6\u8328\u548c\u53f2\u8482\u592b\u30fb\u9c8d\u5c14\u9ed8\u542f\u52a8\u8fd9\u4e2a\u6295\u5165\u5de8\u5927\uff0c\u4f46\u5173\u4e4e\u5fae\u8f6f\u516c\u53f8\u672a\u6765\u7684\u9879\u76ee\u3002\\n\\n\u5bf9\u4e8e\u6e38\u620f\u73a9\u5bb6\u6765\u8bf4\uff0c\u8fd8\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u7eaa\u5f55\u7247\u4e2d\u83b7\u53d6\u5230\u4e00\u4e9b\u5f53\u5e74\u7684\u884c\u4e1a\u8da3\u95fb\u3002\u6bd4\u5982\u6700\u521d\u5fae\u8f6f\u5e76\u4e0d\u60f3\u81ea\u5df1\u5236\u9020\u786c\u4ef6\uff0c\u6bd5\u7adf\u8f6f\u4ef6\u624d\u662f\u4ed6\u4eec\u7684\u5f3a\u9879\uff0c\u56e0\u6b64\u4ed6\u4eec\u56db\u5904\u5bfb\u627e\u786c\u4ef6\u5382\u5546\u5408\u4f5c\u4f46\u90fd\u88ab\u62d2\u7edd\uff0c\u6700\u540e\u751a\u81f3\u8fd8\u60f3\u901a\u8fc7\u6536\u8d2d\u4efb\u5929\u5802\u6765\u8fbe\u6210\u76ee\u6807\uff0c\u7ed3\u679c\u53ef\u60f3\u800c\u77e5\uff0c\u4efb\u5929\u5802\u575a\u5b9a\u5426\u51b3\u4e86\u5fae\u8f6f\u7684\u8fd9\u4e2a\u63d0\u8bae\u3002\u56e0\u6b64\u5fae\u8f6f\u88ab\u8feb\u9009\u62e9\u81ea\u5df1\u5236\u9020 Xbox \u7684\u786c\u4ef6\u3002\\n\\n### \u963f\u6ce2\u7f57 11 \u53f7\uff08Apollo 11\uff0c2019\uff09\\n\\n![](/img/blog/my-annual-movie-and-tv-roundup-for-2023/15.png)\\n\\n1969 \u5e74 7 \u6708 21 \u65e5 02:56\uff08UTC \u65f6\u95f4\uff09\uff0c\u7f8e\u56fd\u5b87\u822a\u5458\u5c3c\u5c14\u30fb\u963f\u59c6\u65af\u7279\u6717\uff08Neil Armstrong\uff09\u6210\u4e3a\u9996\u4e2a\u767b\u9646\u6708\u7403\u7684\u4eba\u7c7b\uff0c\u8fd9\u5bf9\u4e8e\u7f8e\u56fd\u653f\u5e9c\u7684\u300c\u963f\u6ce2\u7f57\u8ba1\u5212\uff08Apollo program\uff09\u300d\u6765\u8bf4\u662f\u4e00\u4e2a\u5386\u53f2\u6027\u7684\u65f6\u523b\uff0c\u4e5f\u6210\u529f\u5151\u73b0\u4e86\u7ea6\u7ff0\u30fbF\u30fb\u80af\u5c3c\u8fea\uff08John F. Kennedy\uff091961 \u5e74\u5728\u56fd\u4f1a\u4e0a\u505a\u51fa\u7684\u627f\u8bfa\u3002\u4ece\u963f\u59c6\u65af\u7279\u6717\u6267\u884c\u7684\u963f\u6ce2\u7f57 11 \u53f7\u4efb\u52a1\u5f00\u59cb\uff0c\u968f\u540e\u7684 5 \u6b21\u963f\u6ce2\u7f57\u4efb\u52a1\u4e5f\u90fd\u6210\u529f\u5c06\u5b87\u822a\u5458\u9001\u4e0a\u4e86\u6708\u7403\u3002\u5230 1972 \u5e74\u963f\u6ce2\u7f57\u8ba1\u5212\u7ec8\u6b62\uff0c\u6574\u4e2a\u8ba1\u5212\u4e00\u5171\u6709 12 \u540d\u5b87\u822a\u5458\u5728\u6708\u7403\u4e0a\u884c\u8d70\uff0c\u800c\u8fd9\u4e5f\u662f\u4eba\u7c7b\u5386\u53f2\u4e0a\u81f3\u4eca\u4e3a\u6b62\u4ec5\u6709\u7684\u767b\u6708\u4eba\u6570\u3002\\n\\n2019 \u5e74\u662f\u963f\u6ce2\u7f57 11 \u53f7\u4efb\u52a1\u7684 50 \u5468\u5e74\u7eaa\u5ff5\uff0c\u5728 NASA \u548c\u7f8e\u56fd\u56fd\u5bb6\u6863\u6848\u9986\u7684\u5e2e\u52a9\u4e0b\uff0c\u5bfc\u6f14\u6258\u5fb7\u30fb\u9053\u683c\u62c9\u65af\u30fb\u7c73\u52d2\uff08Todd Douglas Miller\uff09\u53d1\u73b0\u4e86\u957f\u671f\u88ab\u9057\u5fd8\u7684\u8bb0\u5f55\u963f\u6ce2\u7f57 11 \u53f7\u4efb\u52a1\u7684 70mm \u80f6\u7247\uff0c\u4ee5\u53ca\u8d85\u8fc7 11000 \u5c0f\u65f6\u4ece\u6a21\u62df\u5f55\u97f3\u8f6c\u6362\u8fc7\u6765\u7684\u6570\u5b57\u97f3\u9891\u3002\u5c31\u50cf\u53d1\u73b0\u6c89\u7761\u591a\u5e74\u7684\u5b9d\u85cf\u4e00\u6837\uff0c\u7c73\u52d2\u548c\u4ed6\u7684\u56e2\u961f\u5c06\u8fd9\u4e9b\u80f6\u7247\u5168\u90e8\u6570\u5b57\u5316\uff0c\u5bf9\u97f3\u9891\u8fdb\u884c\u4fee\u590d\uff0c\u5c06\u89c6\u9891\u548c\u97f3\u9891\u540c\u6b65\uff0c\u5e76\u6700\u7ec8\u526a\u8f91\u6210\u4e86\u8fd9\u4e2a\u65f6\u957f 93 \u5206\u949f\u7684\u7eaa\u5f55\u7247\u3002\u7c73\u52d2\u5c06\u6240\u6709\u89c2\u4f17\u5e26\u56de\u5230\u4e86 1969 \u5e74\uff0c\u4ee5\u4eb2\u5386\u8005\u7684\u89c6\u89d2\u91cd\u65b0\u7ecf\u5386\u4e86\u8fd9\u6bb5\u4f1f\u5927\u7684\u5386\u53f2\u3002\\n\\n\u963f\u6ce2\u7f57\u8ba1\u5212\u7ec8\u6b62\u7684 45 \u5e74\u540e\uff0c2017 \u5e74\u7f8e\u56fd\u653f\u5e9c\u518d\u6b21\u8054\u5408\u6b27\u6d32\u822a\u5929\u5c40\u3001\u5fb7\u56fd\u822a\u7a7a\u822a\u5929\u4e2d\u5fc3\u3001\u65e5\u672c\u822a\u5929\u5c40\u7b49 6 \u5bb6\u673a\u6784\uff0c\u53d1\u8d77\u4e86\u65b0\u7684\u767b\u6708\u8ba1\u5212\u300c\u963f\u5c14\u5fd2\u5f25\u65af\u8ba1\u5212\uff08Artemis program\uff09\u300d\u3002\u5982\u679c\u4e00\u5207\u987a\u5229\uff0c\u4eba\u7c7b\u5c06\u5728 2025 \u5e74\u518d\u6b21\u767b\u6708\uff0c\u6216\u8bb8\u8fd9\u5c06\u5f00\u542f\u4eba\u7c7b\u63a2\u7d22\u592a\u7a7a\u7684\u4e0b\u4e00\u4e2a\u7bc7\u7ae0\u3002\\n\\n\u5ef6\u4f38\u89c2\u770b\uff1a2022 \u5e74\u7684\u7eaa\u5f55\u7247\u300a\u56de\u5230\u592a\u7a7a\uff08Return to Space\uff09\u300b\uff0c\u5bfc\u6f14\u662f\u300a\u6500\u767b\u6885\u9c81\u5cf0\u300b\u7684\u91d1\u56fd\u5a01\u592b\u5987\uff0c\u8bb2\u8ff0\u4e86 SpaceX \u516c\u53f8\u7684\u4e00\u4e9b\u6545\u4e8b\uff0c\u800c SpaceX \u7684\u661f\u8230\uff08Starship\uff09\u662f\u963f\u5c14\u5fd2\u5f25\u65af\u8ba1\u5212\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\\n\\n## \u53c2\u8003\u8d44\u6599\\n- \u300a\u6700\u540e\u751f\u8fd8\u8005\u300b\\n  - [Wikipedia: The Last of Us](https://en.wikipedia.org/wiki/The_Last_of_Us)\\n  - [Wikipedia: The Last of Us Part II](https://en.wikipedia.org/wiki/The_Last_of_Us_Part_II)\\n  - [Wikipedia: The Last of Us \\\\(TV series\\\\)](https://en.wikipedia.org/wiki/The_Last_of_Us_%28TV_series%29)\\n  - [Wikipedia: Neil Druckmann](https://en.wikipedia.org/wiki/Neil_Druckmann)\\n- \u300a\u65e5\u672c\u4e4b\u803b\u300b\\n  - [Wikipedia: \u5973\u6027\u30b8\u30e3\u30fc\u30ca\u30ea\u30b9\u30c8\u30ec\u30a4\u30d7\u4e8b\u4ef6](https://ja.wikipedia.org/wiki/%E5%A5%B3%E6%80%A7%E3%82%B8%E3%83%A3%E3%83%BC%E3%83%8A%E3%83%AA%E3%82%B9%E3%83%88%E3%83%AC%E3%82%A4%E3%83%97%E4%BA%8B%E4%BB%B6)\\n- \u300a\u73af\u6cd5\u81ea\u884c\u8f66\u8d5b\uff1a\u9006\u98ce\u98de\u9a70\u300b\\n  - [Wikipedia: 2023 Tour de France](https://en.wikipedia.org/wiki/2023_Tour_de_France?useskin=vector)\\n- \u300a\u6500\u767b\u6885\u9c81\u5cf0\u300b\\n  - [Wikipedia: Mount Everest](https://en.wikipedia.org/wiki/Mount_Everest)\\n  - [Wikipedia: Meru Peak](https://en.wikipedia.org/wiki/Meru_Peak)\\n  - [Wikipedia: Alpine climbing](https://en.wikipedia.org/wiki/Alpine_climbing)\\n  - [Wikipedia: Mount Meru](https://en.wikipedia.org/wiki/Mount_Meru)\\n  - [The Outdoor Journal: Himalaya\u2019s Hardest Climb \u2013 The Shark\u2019s Fin on Meru Central](https://www.outdoorjournal.com/focus-2/himalayas-hardest-climb-the-sharks-fin-on-meru-central)\uff08\u7531\u91d1\u56fd\u5a01\u64b0\u5199\uff09\\n  - [Jimmy Chin: why climbing Meru Peak is tougher than Everest](https://web.archive.org/web/20211024042937/https://www.telegraph.co.uk/health-fitness/body/jimmy-chin-why-climbing-meru-peak-is-tougher-than-everest)\\n  - [Mental Floss: 9 Facts About Climbing Mount Meru\u2014And Making a Documentary Out of It](https://www.mentalfloss.com/article/67362/9-facts-about-climbing-mount-meru-and-making-documentary-out-it)\\n  - [Alpinist: Shark\u2019s Fin Full Report](https://alpinist.com/newswire/sharks-fin-full-report)\\n  - [Men\'s Journal: Climbing Mount Impossible](https://www.mensjournal.com/health-fitness/conquering-sharks-fin-the-first-to-climb-mount-impossible-20140709)\\n  - [Alpine Climbing vs Expedition Mountaineering: Unraveling the Differences](https://www.daltonjohnsonmedia.com/blog/mountaineering-vs-alpine-climbing)\\n- \u300a\u542f\u52a8\uff1aXbox \u7684\u6545\u4e8b\u300b\\n  - [Wikipedia: Xbox](https://en.wikipedia.org/wiki/Xbox)\\n  - [Wikipedia: Xbox 360 technical problems](https://en.wikipedia.org/wiki/Xbox_360_technical_problems)\\n  - [Wikipedia: DirectX](https://en.wikipedia.org/wiki/DirectX)\\n  - [The making of the Xbox: How Microsoft unleashed a video game revolution](https://web.archive.org/web/20190601215727/https://venturebeat.com/2011/11/14/making-of-the-xbox-1/view-all/)\\n- \u300a\u963f\u6ce2\u7f57 11 \u53f7\u300b\\n  - [Wikipedia: Apollo program](https://en.wikipedia.org/wiki/Apollo_program)\\n  - [Wikipedia: Apollo 11](https://en.wikipedia.org/wiki/Apollo_11)\\n  - [Wikipedia: Apollo 11 \\\\(2019 film\\\\)](https://en.wikipedia.org/wiki/Apollo_11_%282019_film%29)\\n  - [Wikipedia: Artemis program](https://en.wikipedia.org/wiki/Artemis_program)\\n  - [The Guardian: \'We felt a huge responsibility\' \u2013 behind the landmark Apollo 11 documentary](https://www.theguardian.com/film/2019/feb/27/we-felt-a-huge-responsibility-behind-the-landmark-apollo-11-documentary)\\n  - [Vanity Fair: The Found Footage That Provides a Whole New Look at the Apollo 11 Moon Landing](https://web.archive.org/web/20230622061240/https://www.vanityfair.com/hollywood/2018/12/apollo-11-50th-year-anniversary)"},{"id":"/2023/03/11/large-scale-distributed-file-system-comparison","metadata":{"permalink":"/blog/2023/03/11/large-scale-distributed-file-system-comparison","source":"@site/blog/2023-03-11-large-scale-distributed-file-system-comparison.md","title":"\u6d45\u6790\u4e09\u6b3e\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u8bbe\u8ba1","description":"\u8fd9\u7bc7\u6587\u7ae0\u6700\u521d\u53d1\u8868\u5728 JuiceFS \u5b98\u65b9\u535a\u5ba2\uff0c\u70b9\u51fb\u8fd9\u91cc\u67e5\u770b\u539f\u6587\u3002","date":"2023-03-11T10:00:00.000Z","tags":[{"inline":true,"label":"file system","permalink":"/blog/tags/file-system"},{"inline":true,"label":"architecture","permalink":"/blog/tags/architecture"}],"readingTime":30.03,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6d45\u6790\u4e09\u6b3e\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u8bbe\u8ba1","date":"2023-03-11 10:00:00 +0800","tags":["file system","architecture"]},"unlisted":false,"prevItem":{"title":"\u6211\u7684 2023 \u5e74\u5e74\u5ea6\u5f71\u89c6\u76d8\u70b9","permalink":"/blog/2024/01/09/my-annual-movie-and-tv-roundup-for-2023"},"nextItem":{"title":"\u63a8\u8350\u7cfb\u7edf\uff1a\u4ece\u5165\u95e8\u5230\u653e\u5f03","permalink":"/blog/2022/08/14/introduction-to-recommendation-system"}},"content":"> \u8fd9\u7bc7\u6587\u7ae0\u6700\u521d\u53d1\u8868\u5728 JuiceFS \u5b98\u65b9\u535a\u5ba2\uff0c\u70b9\u51fb[\u8fd9\u91cc](https://juicefs.com/zh-cn/blog/engineering/large-scale-distributed-filesystem-comparison)\u67e5\u770b\u539f\u6587\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u4ec0\u4e48\u662f\u6587\u4ef6\u7cfb\u7edf\\n\\n\u5f53\u63d0\u5230\u6587\u4ef6\u7cfb\u7edf\uff0c\u5927\u90e8\u5206\u4eba\u90fd\u5f88\u964c\u751f\u3002\u4f46\u6211\u4eec\u6bcf\u4e2a\u4eba\u51e0\u4e4e\u6bcf\u5929\u90fd\u4f1a\u4f7f\u7528\u5230\u6587\u4ef6\u7cfb\u7edf\uff0c\u6bd4\u5982\u5927\u5bb6\u6253\u5f00 Windows\u3001macOS \u6216\u8005 Linux\uff0c\u4e0d\u7ba1\u662f\u7528\u8d44\u6e90\u7ba1\u7406\u5668\u8fd8\u662f Finder\uff0c\u90fd\u662f\u5728\u548c\u6587\u4ef6\u7cfb\u7edf\u6253\u4ea4\u9053\u3002\u5982\u679c\u5927\u5bb6\u6709\u81ea\u5df1\u52a8\u624b\u88c5\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u7684\u8bdd\uff0c\u7b2c\u4e00\u6b21\u5b89\u88c5\u7684\u65f6\u5019\u4e00\u5b9a\u4f1a\u6709\u4e00\u4e2a\u6b65\u9aa4\u5c31\u662f\u8981\u683c\u5f0f\u5316\u78c1\u76d8\uff0c\u683c\u5f0f\u5316\u7684\u65f6\u5019\u5c31\u9700\u8981\u9009\u62e9\u78c1\u76d8\u9700\u8981\u7528\u54ea\u4e2a\u6587\u4ef6\u7cfb\u7edf\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/01.png\\" alt=\\"\\" />\\n  <figcaption></figcaption>\\n</figure>\\n\\n\u7ef4\u57fa\u767e\u79d1\u4e0a\u7684\u5173\u4e8e[\u6587\u4ef6\u7cfb\u7edf](https://en.wikipedia.org/wiki/File_system)\u7684\u5b9a\u4e49\u662f\uff1a\\n\\n> In computing, file system is a method and data structure that the operating system uses to control how data is stored and retrieved.\\n\\n\u603b\u7ed3\u4e00\u4e0b\uff0c\u6587\u4ef6\u7cfb\u7edf\u7ba1\u7406\u7684\u662f\u67d0\u79cd\u7269\u7406\u5b58\u50a8\u4ecb\u8d28\uff08\u5982\u78c1\u76d8\u3001SSD\u3001CD\u3001\u78c1\u5e26\u7b49\uff09\u4e0a\u7684\u6570\u636e\u3002\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u6700\u57fa\u7840\u7684\u6982\u5ff5\u5c31\u662f\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u6240\u6709\u7684\u6570\u636e\u90fd\u4f1a\u5bf9\u5e94\u4e00\u4e2a\u6587\u4ef6\uff0c\u901a\u8fc7\u76ee\u5f55\u4ee5\u6811\u5f62\u7ed3\u6784\u6765\u7ba1\u7406\u548c\u7ec4\u7ec7\u8fd9\u4e9b\u6570\u636e\u3002\u57fa\u4e8e\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u7ec4\u7ec7\u7ed3\u6784\uff0c\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u66f4\u9ad8\u7ea7\u7684\u914d\u7f6e\uff0c\u6bd4\u5982\u7ed9\u6587\u4ef6\u914d\u7f6e\u6743\u9650\u3001\u7edf\u8ba1\u6587\u4ef6\u7684\u5927\u5c0f\u3001\u4fee\u6539\u65f6\u95f4\u3001\u9650\u5236\u6587\u4ef6\u7cfb\u7edf\u7684\u5bb9\u91cf\u4e0a\u9650\u7b49\u3002\\n\\n\u4ee5\u4e0b\u7f57\u5217\u4e86\u4e00\u4e9b\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u6bd4\u8f83\u5e38\u89c1\u7684\u6587\u4ef6\u7cfb\u7edf\uff1a\\n\\n- Linux\uff1aext4\u3001XFS\u3001Btrfs\\n- Windows\uff1aNTFS\u3001FAT32\\n- macOS\uff1aAPFS\u3001HFS+\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/02.png\\" alt=\\"\\" />\\n  <figcaption>Linux \u5185\u6838\u67b6\u6784\uff08\u56fe\u7247\u6765\u6e90\uff1a\u300aModern Operating Systems\u300b10.2.5 \u5c0f\u8282\uff09</figcaption>\\n</figure>\\n\\n\u4e0a\u56fe\u662f Linux \u5185\u6838\u7684\u67b6\u6784\uff0c\u5de6\u8fb9 Virtual file system \u533a\u57df\uff0c\u4e5f\u5c31\u662f\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u7b80\u79f0 VFS\u3002\u5b83\u7684\u4f5c\u7528\u662f\u4e3a\u4e86\u5e2e\u52a9 Linux \u53bb\u9002\u914d\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u800c\u8bbe\u8ba1\u7684\uff0cVFS \u63d0\u4f9b\u4e86\u901a\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\uff0c\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u5b9e\u73b0\u9700\u8981\u53bb\u9002\u914d\u8fd9\u4e9b\u63a5\u53e3\u3002\\n\\n\u65e5\u5e38\u4f7f\u7528 Linux \u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u7cfb\u7edf\u8c03\u7528\u8bf7\u6c42\u90fd\u4f1a\u5148\u5230\u8fbe VFS\uff0c\u7136\u540e\u624d\u4f1a\u7531 VFS \u5411\u4e0b\u8bf7\u6c42\u5b9e\u9645\u4f7f\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u6587\u4ef6\u7cfb\u7edf\u7684\u8bbe\u8ba1\u8005\u9700\u8981\u9075\u5b88 VFS \u7684\u63a5\u53e3\u534f\u8bae\u6765\u8bbe\u8ba1\u6587\u4ef6\u7cfb\u7edf\uff0c\u63a5\u53e3\u662f\u5171\u4eab\u7684\uff0c\u4f46\u662f\u6587\u4ef6\u7cfb\u7edf\u5177\u4f53\u5b9e\u73b0\u662f\u4e0d\u540c\u7684\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7cfb\u7edf\u90fd\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\u6587\u4ef6\u7cfb\u7edf\u518d\u5f80\u4e0b\u662f\u5b58\u50a8\u4ecb\u8d28\uff0c\u4f1a\u6839\u636e\u4e0d\u540c\u7684\u5b58\u50a8\u4ecb\u8d28\u518d\u53bb\u7ec4\u7ec7\u5b58\u50a8\u7684\u6570\u636e\u5f62\u5f0f\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/03.png\\" alt=\\"\\" />\\n  <figcaption>\u4e00\u6b21\u5199\u64cd\u4f5c\u7684\u8bf7\u6c42\u6d41\u7a0b\uff08\u56fe\u7247\u6765\u6e90\uff1a\u300aLinux Kernel Development\u300b\u7b2c 13 \u7ae0 Filesystem Abstraction Layer\uff09</figcaption>\\n</figure>\\n\\n\u4e0a\u56fe\u662f\u4e00\u6b21\u5199\u64cd\u4f5c\u7684\u8bf7\u6c42\u6d41\u7a0b\uff0c\u5728 Linux \u91cc\u5199\u6587\u4ef6\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u6b21 `write()` \u7cfb\u7edf\u8c03\u7528\u3002\u5f53\u4f60\u8c03\u7528 `write()` \u64cd\u4f5c\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u5148\u5230\u8fbe VFS\uff0c\u518d\u7531 VFS \u53bb\u8c03\u7528\u6587\u4ef6\u7cfb\u7edf\uff0c\u6700\u540e\u518d\u7531\u6587\u4ef6\u7cfb\u7edf\u53bb\u628a\u5b9e\u9645\u7684\u6570\u636e\u5199\u5230\u672c\u5730\u7684\u5b58\u50a8\u4ecb\u8d28\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/04.png\\" alt=\\"\\" />\\n  <figcaption>\u76ee\u5f55\u6811\uff08\u56fe\u7247\u6765\u6e90\uff1a\u300aModern Operating Systems\u300b4.2.2 \u5c0f\u8282\uff09</figcaption>\\n</figure>\\n\\n\u4e0a\u56fe\u662f\u4e00\u4e2a\u76ee\u5f55\u6811\u7684\u7ed3\u6784\uff0c\u5728\u6587\u4ef6\u7cfb\u7edf\u91cc\u9762\uff0c\u6240\u6709\u6570\u636e\u7684\u7ec4\u7ec7\u5f62\u5f0f\u90fd\u662f\u8fd9\u6837\u4e00\u68f5\u6811\u7684\u7ed3\u6784\uff0c\u4ece\u6700\u4e0a\u9762\u7684\u6839\u8282\u70b9\u5f80\u4e0b\uff0c\u6709\u4e0d\u540c\u7684\u76ee\u5f55\u548c\u4e0d\u540c\u7684\u6587\u4ef6\u3002\u8fd9\u9897\u6811\u7684\u6df1\u5ea6\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u76f8\u5f53\u4e8e\u76ee\u5f55\u7684\u6df1\u5ea6\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u662f\u7531\u6bcf\u4e2a\u7528\u6237\u6765\u51b3\u5b9a\u7684\uff0c\u6811\u7684\u53f6\u5b50\u8282\u70b9\u5c31\u662f\u6bcf\u4e00\u4e2a\u6587\u4ef6\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/05.png\\" alt=\\"\\" />\\n  <figcaption>\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e0e inode\uff08\u56fe\u7247\u6765\u6e90\uff1a\u300aModern Operating Systems\u300b10.6.3 \u5c0f\u8282\uff09</figcaption>\\n</figure>\\n\\n\u6700\u53f3\u8fb9\u7684 inode \u5c31\u662f\u6bcf\u4e2a\u6587\u4ef6\u7cfb\u7edf\u5185\u90e8\u7684\u6570\u636e\u7ed3\u6784\u3002\u8fd9\u4e2a inode \u6709\u53ef\u80fd\u662f\u4e00\u4e2a\u76ee\u5f55\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u4e00\u4e2a\u666e\u901a\u7684\u6587\u4ef6\u3002 Inode \u91cc\u9762\u4f1a\u5305\u542b\u5173\u4e8e\u6587\u4ef6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u521b\u5efa\u65f6\u95f4\u3001\u521b\u5efa\u8005\u3001\u5c5e\u4e8e\u54ea\u4e2a\u7ec4\u4ee5\u53ca\u6743\u9650\u4fe1\u606f\u3001\u6587\u4ef6\u5927\u5c0f\u7b49\u3002\u6b64\u5916\u6bcf\u4e2a inode \u91cc\u9762\u8fd8\u4f1a\u6709\u4e00\u4e9b\u6307\u9488\u6216\u8005\u7d22\u5f15\u6307\u5411\u5b9e\u9645\u7269\u7406\u5b58\u50a8\u4ecb\u8d28\u4e0a\u7684\u6570\u636e\u5757\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f\u5b9e\u9645\u53bb\u8bbf\u95ee\u4e00\u4e2a\u5355\u673a\u6587\u4ef6\u7cfb\u7edf\u65f6\uff0c\u53ef\u80fd\u4f1a\u6d89\u53ca\u5230\u7684\u4e00\u4e9b\u6570\u636e\u7ed3\u6784\u548c\u6d41\u7a0b\u3002\u4f5c\u4e3a\u4e00\u4e2a\u5f15\u5b50\uff0c\u8ba9\u5927\u5bb6\u5bf9\u4e8e\u6587\u4ef6\u7cfb\u7edf\u6709\u4e00\u4e2a\u6bd4\u8f83\u76f4\u89c2\u7684\u8ba4\u8bc6\u3002\\n\\n## \u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u8bbe\u8ba1\\n\\n\u5355\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\u5df2\u7ecf\u80fd\u591f\u6ee1\u8db3\u6211\u4eec\u5927\u90e8\u5206\u4f7f\u7528\u573a\u666f\u7684\u9700\u6c42\uff0c\u7ba1\u7406\u5f88\u591a\u65e5\u5e38\u9700\u8981\u5b58\u50a8\u7684\u6570\u636e\u3002\u4f46\u662f\u968f\u7740\u65f6\u4ee3\u7684\u53d1\u5c55\u4ee5\u53ca\u6570\u636e\u7684\u7206\u53d1\u589e\u957f\uff0c\u5bf9\u4e8e\u6570\u636e\u5b58\u50a8\u7684\u9700\u6c42\u4e5f\u662f\u5728\u4e0d\u65ad\u7684\u589e\u957f\uff0c\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5e94\u8fd0\u800c\u751f\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/06.png\\" alt=\\"\\" />\\n  <figcaption></figcaption>\\n</figure>\\n\\n\u4e0a\u9762\u5217\u4e86\u4e00\u4e9b\u5927\u5bb6\u76f8\u5bf9\u6bd4\u8f83\u719f\u6089\u6216\u8005\u4f7f\u7528\u6bd4\u8f83\u591a\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd9\u91cc\u9762\u6709\u5f00\u6e90\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e5f\u6709\u516c\u53f8\u5185\u90e8\u4f7f\u7528\u7684\u95ed\u6e90\u4ea7\u54c1\u3002\u4ece\u8fd9\u5f20\u56fe\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u975e\u5e38\u96c6\u4e2d\u7684\u65f6\u95f4\u70b9\uff0c2000 \u5e74\u5de6\u53f3\u6709\u4e00\u5927\u6279\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u8bde\u751f\uff0c\u8fd9\u4e9b\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u81f3\u4eca\u5728\u6211\u4eec\u65e5\u5e38\u5de5\u4f5c\u4e2d\u6216\u591a\u6216\u5c11\u8fd8\u662f\u4f1a\u63a5\u89e6\u5230\u3002\u5728 2000 \u5e74\u4e4b\u524d\u4e5f\u6709\u5404\u79cd\u5404\u6837\u7684\u5171\u4eab\u5b58\u50a8\u3001\u5e76\u884c\u6587\u4ef6\u7cfb\u7edf\u3001\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f46\u57fa\u672c\u4e0a\u90fd\u662f\u57fa\u4e8e\u4e00\u4e9b\u4e13\u7528\u7684\u4e14\u6bd4\u8f83\u6602\u8d35\u7684\u786c\u4ef6\u6765\u6784\u5efa\u7684\u3002\\n\\n\u81ea 2003 \u5e74 Google \u7684 GFS\uff08Google File System\uff09\u8bba\u6587\u516c\u5f00\u53d1\u8868\u4ee5\u6765\uff0c\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5f71\u54cd\u4e86\u540e\u9762\u4e00\u5927\u6279\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u8bbe\u8ba1\u7406\u5ff5\u548c\u601d\u60f3\u3002GFS \u8bc1\u660e\u4e86\u6211\u4eec\u53ef\u4ee5\u7528\u76f8\u5bf9\u5ec9\u4ef7\u7684\u901a\u7528\u8ba1\u7b97\u673a\uff0c\u6765\u7ec4\u5efa\u4e00\u4e2a\u8db3\u591f\u5f3a\u5927\u3001\u53ef\u6269\u5c55\u3001\u53ef\u9760\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\uff0c\u5b8c\u5168\u57fa\u4e8e\u8f6f\u4ef6\u6765\u5b9a\u4e49\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u800c\u4e0d\u9700\u8981\u4f9d\u8d56\u5f88\u591a\u4e13\u6709\u6216\u8005\u9ad8\u6602\u7684\u786c\u4ef6\u8d44\u6e90\uff0c\u624d\u80fd\u53bb\u642d\u5efa\u4e00\u5957\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\u3002\\n\\n\u56e0\u6b64 GFS \u5f88\u5927\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u4e86\u5206\u5e03\u6587\u4ef6\u7cfb\u7edf\u7684\u4f7f\u7528\u95e8\u69db\uff0c\u6240\u4ee5\u5728\u540e\u7eed\u7684\u5404\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u4e0a\u90fd\u53ef\u4ee5\u6216\u591a\u6216\u5c11\u770b\u5230 GFS \u7684\u5f71\u5b50\u3002\u6bd4\u5982\u96c5\u864e\u5f00\u6e90\u7684 HDFS \u5b83\u57fa\u672c\u4e0a\u5c31\u662f\u6309\u7167 GFS \u8fd9\u7bc7\u8bba\u6587\u6765\u5b9e\u73b0\u7684\uff0cHDFS \u4e5f\u662f\u76ee\u524d\u5927\u6570\u636e\u9886\u57df\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u5b58\u50a8\u7cfb\u7edf\u3002\\n\\n\u4e0a\u56fe\u7b2c\u56db\u5217\u7684\u300cPOSIX \u517c\u5bb9\u300d\u8868\u793a\u8fd9\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5bf9 POSIX \u6807\u51c6\u7684\u517c\u5bb9\u6027\u3002POSIX\uff08Portable Operating System Interface\uff09\u662f\u7528\u4e8e\u89c4\u8303\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u73b0\u7684\u4e00\u7ec4\u6807\u51c6\uff0c\u5176\u4e2d\u5c31\u5305\u542b\u4e0e\u6587\u4ef6\u7cfb\u7edf\u6709\u5173\u7684\u6807\u51c6\u3002\u6240\u8c13 POSIX \u517c\u5bb9\uff0c\u5c31\u662f\u6ee1\u8db3\u8fd9\u4e2a\u6807\u51c6\u91cc\u9762\u5b9a\u4e49\u7684\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u5e94\u8be5\u5177\u5907\u7684\u6240\u6709\u7279\u5f81\uff0c\u800c\u4e0d\u662f\u53ea\u5177\u5907\u4e2a\u522b\uff0c\u6bd4\u5982 GFS\uff0c\u5b83\u867d\u7136\u662f\u4e00\u4e2a\u5f00\u521b\u6027\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f46\u5176\u5b9e\u5b83\u5e76\u4e0d\u662f POSIX \u517c\u5bb9\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\\n\\nGoogle \u5f53\u65f6\u5728\u8bbe\u8ba1 GFS \u65f6\u505a\u4e86\u5f88\u591a\u53d6\u820d\uff0c\u5b83\u820d\u5f03\u6389\u4e86\u5f88\u591a\u4f20\u7edf\u5355\u673a\u6587\u4ef6\u7cfb\u7edf\u7684\u7279\u6027\uff0c\u4fdd\u7559\u4e86\u5bf9\u4e8e\u5f53\u65f6 Google \u641c\u7d22\u5f15\u64ce\u573a\u666f\u9700\u8981\u7684\u4e00\u4e9b\u5206\u5e03\u5f0f\u5b58\u50a8\u7684\u9700\u6c42\u3002\u6240\u4ee5\u4e25\u683c\u4e0a\u6765\u8bf4\uff0cGFS \u5e76\u4e0d\u662f\u4e00\u4e2a POSIX \u517c\u5bb9\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f46\u662f\u5b83\u7ed9\u4e86\u5927\u5bb6\u4e00\u4e2a\u542f\u53d1\uff0c\u8fd8\u53ef\u4ee5\u8fd9\u6837\u8bbe\u8ba1\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u3002\\n\\n\u63a5\u4e0b\u6765\u6211\u4f1a\u7740\u91cd\u4ee5\u51e0\u4e2a\u76f8\u5bf9\u6709\u4ee3\u8868\u6027\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u4e3a\u4f8b\uff0c\u7ed9\u5927\u5bb6\u4ecb\u7ecd\u4e00\u4e0b\uff0c\u5982\u679c\u8981\u8bbe\u8ba1\u4e00\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u5927\u6982\u4f1a\u9700\u8981\u54ea\u4e9b\u7ec4\u4ef6\u4ee5\u53ca\u53ef\u80fd\u4f1a\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898\u3002\\n\\n## GFS\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/07.png\\" alt=\\"\\" />\\n  <figcaption>GFS \u67b6\u6784\uff08\u56fe\u7247\u6765\u6e90\uff1aThe Google File System \u8bba\u6587\uff09</figcaption>\\n</figure>\\n\\n\u9996\u5148\u8fd8\u662f\u4ee5\u63d0\u5230\u6700\u591a\u7684 GFS \u4e3a\u4f8b\uff0c\u867d\u7136\u5b83\u5728 2003 \u5e74\u5c31\u516c\u5e03\u4e86\uff0c\u4f46\u5b83\u7684\u8bbe\u8ba1\u6211\u8ba4\u4e3a\u81f3\u4eca\u4e5f\u662f\u4e0d\u8fc7\u65f6\u7684\uff0c\u6709\u5f88\u591a\u503c\u5f97\u501f\u9274\u7684\u5730\u65b9\u3002GFS \u7684\u4e3b\u8981\u7ec4\u4ef6\u53ef\u4ee5\u5206\u4e3a\u4e09\u5757\uff0c\u6700\u5de6\u8fb9\u7684 GFS client \u4e5f\u5c31\u662f\u5b83\u7684\u5ba2\u6237\u7aef\uff0c\u7136\u540e\u5c31\u662f\u4e2d\u95f4\u7684 GFS master \u4e5f\u5c31\u662f\u5b83\u7684\u5143\u6570\u636e\u8282\u70b9\uff0c\u6700\u4e0b\u9762\u4e24\u5757\u662f GFS chunkserver \u5c31\u662f\u6570\u636e\u5b9e\u9645\u5b58\u50a8\u7684\u8282\u70b9\uff0cmaster \u548c chunkserver \u4e4b\u95f4\u662f\u901a\u8fc7\u7f51\u7edc\u6765\u901a\u4fe1\uff0c\u6240\u4ee5\u8bf4\u5b83\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u6587\u4ef6\u7cfb\u7edf\u3002Chunkserver \u53ef\u4ee5\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u957f\u4e0d\u65ad\u5730\u6a2a\u5411\u6269\u5c55\u3002\\n\\n\u5176\u4e2d GFS \u6700\u6838\u5fc3\u7684\u4e24\u5757\u5c31\u662f master \u548c chunkserver\u3002\u6211\u4eec\u8981\u5b9e\u73b0\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e0d\u7ba1\u662f\u5355\u673a\u8fd8\u662f\u5206\u5e03\u5f0f\uff0c\u90fd\u9700\u8981\u53bb\u7ef4\u62a4\u6587\u4ef6\u76ee\u5f55\u3001\u5c5e\u6027\u3001\u6743\u9650\u3001\u94fe\u63a5\u7b49\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u662f\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\uff0c\u8fd9\u4e9b\u5143\u6570\u636e\u4fe1\u606f\u9700\u8981\u5728\u4e2d\u5fc3\u8282\u70b9 master \u91cc\u9762\u53bb\u4fdd\u5b58\u3002Master \u4e5f\u5305\u542b\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\u7684\u5143\u6570\u636e\u8bbe\u8ba1\u3002\\n\\n\u5f53\u8981\u5b58\u50a8\u5b9e\u9645\u7684\u5e94\u7528\u6570\u636e\u65f6\uff0c\u6700\u7ec8\u4f1a\u843d\u5230\u6bcf\u4e00\u4e2a chunkserver \u8282\u70b9\u4e0a\uff0c\u7136\u540e chunkserver \u4f1a\u4f9d\u8d56\u672c\u5730\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u518d\u53bb\u5b58\u50a8\u8fd9\u4e9b\u6587\u4ef6\u3002\\n\\nChunkserver \u548c master\u3001client \u4e4b\u95f4\u4e92\u76f8\u4f1a\u6709\u8fde\u63a5\uff0c\u6bd4\u5982\u8bf4 client \u7aef\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u9700\u8981\u5148\u4ece master \u83b7\u53d6\u5230\u5f53\u524d\u6587\u4ef6\u7684\u5143\u6570\u636e\u4fe1\u606f\uff0c\u518d\u53bb\u548c chunkserver \u901a\u4fe1\uff0c\u7136\u540e\u518d\u53bb\u83b7\u53d6\u5b9e\u9645\u7684\u6570\u636e\u3002\u5728 GFS \u91cc\u9762\u6240\u6709\u7684\u6587\u4ef6\u90fd\u662f\u5206\u5757\uff08chunk\uff09\u5b58\u50a8\uff0c\u6bd4\u5982\u4e00\u4e2a 1GB \u7684\u5927\u6587\u4ef6\uff0cGFS \u4f1a\u6309\u7167\u4e00\u4e2a\u56fa\u5b9a\u7684\u5927\u5c0f\uff0864MB\uff09\u5bf9\u8fd9\u4e2a\u6587\u4ef6\u8fdb\u884c\u5206\u5757\uff0c\u5206\u5757\u4e86\u4e4b\u540e\u4f1a\u5206\u5e03\u5230\u4e0d\u540c\u7684 chunkserver \u4e0a\uff0c\u6240\u4ee5\u5f53\u4f60\u8bfb\u540c\u4e00\u4e2a\u6587\u4ef6\u65f6\u5176\u5b9e\u6709\u53ef\u80fd\u4f1a\u6d89\u53ca\u5230\u548c\u4e0d\u540c\u7684 chunkserver \u901a\u4fe1\u3002\\n\\n\u540c\u65f6\u6bcf\u4e2a\u6587\u4ef6\u7684 chunk \u4f1a\u6709\u591a\u4e2a\u526f\u672c\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u6027\uff0c\u6bd4\u5982\u67d0\u4e00\u4e2a chunkserver \u6302\u4e86\u6216\u8005\u5b83\u7684\u78c1\u76d8\u574f\u4e86\uff0c\u6574\u4e2a\u6570\u636e\u7684\u5b89\u5168\u6027\u8fd8\u662f\u6709\u4fdd\u969c\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u526f\u672c\u7684\u673a\u5236\u6765\u5e2e\u52a9\u4f60\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u6027\u3002\u8fd9\u662f\u4e00\u4e2a\u5f88\u7ecf\u5178\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u8bbe\u8ba1\uff0c\u73b0\u5728\u518d\u53bb\u770b\u5f88\u591a\u5f00\u6e90\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u5b9e\u73b0\u90fd\u6216\u591a\u6216\u5c11\u6709 GFS \u7684\u5f71\u5b50\u3002\\n\\n\u8fd9\u91cc\u4e0d\u5f97\u4e0d\u63d0\u4e00\u4e0b\uff0cGFS \u7684\u4e0b\u4e00\u4ee3\u4ea7\u54c1:  Colossus\u3002\u7531\u4e8e GFS \u7684\u67b6\u6784\u8bbe\u8ba1\u5b58\u5728\u660e\u663e\u7684\u6269\u5c55\u6027\u95ee\u9898\uff0c\u6240\u4ee5 Google \u5185\u90e8\u57fa\u4e8e GFS \u7ee7\u7eed\u7814\u53d1\u4e86 Colossus\u3002Colossus \u4e0d\u4ec5\u4e3a\u8c37\u6b4c\u5185\u90e8\u5404\u79cd\u4ea7\u54c1\u63d0\u4f9b\u5b58\u50a8\u80fd\u529b\uff0c\u8fd8\u4f5c\u4e3a\u8c37\u6b4c\u4e91\u670d\u52a1\u7684\u5b58\u50a8\u5e95\u5ea7\u5f00\u653e\u7ed9\u516c\u4f17\u4f7f\u7528\u3002Colossus \u5728\u8bbe\u8ba1\u4e0a\u589e\u5f3a\u4e86\u5b58\u50a8\u7684\u53ef\u6269\u5c55\u6027\uff0c\u63d0\u9ad8\u4e86\u53ef\u7528\u6027\uff0c\u4ee5\u5904\u7406\u5927\u89c4\u6a21\u589e\u957f\u7684\u6570\u636e\u9700\u6c42\u3002\u4e0b\u9762\u5373\u5c06\u4ecb\u7ecd\u7684 Tectonic \u4e5f\u662f\u5bf9\u6807 Colossus \u7684\u5b58\u50a8\u7cfb\u7edf\u3002\u7bc7\u5e45\u5173\u7cfb\uff0c\u8fd9\u7bc7\u535a\u5ba2\u4e0d\u518d\u5c55\u5f00\u4ecb\u7ecd Colossus\uff0c\u6709\u5174\u8da3\u7684\u670b\u53cb\u53ef\u4ee5\u9605\u8bfb[\u5b98\u65b9\u535a\u5ba2](https://cloud.google.com/blog/products/storage-data-transfer/a-peek-behind-colossus-googles-file-system)\u3002\\n\\n## Tectonic\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/08.png\\" alt=\\"\\" />\\n  <figcaption>Tectonic \u67b6\u6784\uff08\u56fe\u7247\u6765\u6e90\uff1aFacebook\u2019s Tectonic Filesystem: Efficiency from Exascale \u8bba\u6587\uff09</figcaption>\\n</figure>\\n\\nTectonic \u662f Meta\uff08Facebook\uff09\u5185\u90e8\u76ee\u524d\u6700\u5927\u7684\u4e00\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u3002Tectonic \u9879\u76ee\u5927\u6982\u5728 2014 \u5e74\u5c31\u5f00\u59cb\u505a\u4e86\uff08\u4e4b\u524d\u88ab\u53eb\u505a Warm Storage\uff09\uff0c\u4f46\u76f4\u5230 2021 \u5e74\u624d\u516c\u5f00\u53d1\u8868\u8bba\u6587\u6765\u4ecb\u7ecd\u6574\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u67b6\u6784\u8bbe\u8ba1\u3002\u5728\u7814\u53d1 Tectonic \u4e4b\u524d\uff0cMeta \u516c\u53f8\u5185\u90e8\u4e3b\u8981\u4f7f\u7528 HDFS\u3001Haystack \u548c f4 \u6765\u5b58\u50a8\u6570\u636e\uff0cHDFS \u7528\u5728\u6570\u4ed3\u573a\u666f\uff08\u53d7\u9650\u4e8e\u5355\u96c6\u7fa4\u7684\u5b58\u50a8\u5bb9\u91cf\uff0c\u90e8\u7f72\u4e86\u6570\u5341\u4e2a\u96c6\u7fa4\uff09\uff0cHaystack \u548c f4 \u7528\u5728\u975e\u7ed3\u6784\u5316\u6570\u636e\u5b58\u50a8\u573a\u666f\u3002Tectonic \u7684\u5b9a\u4f4d\u5373\u662f\u5728\u4e00\u4e2a\u96c6\u7fa4\u91cc\u6ee1\u8db3\u8fd9 3 \u79cd\u5b58\u50a8\u652f\u6491\u7684\u4e1a\u52a1\u573a\u666f\u9700\u6c42\u3002\\n\\n\u548c GFS \u4e00\u6837\uff0cTectonic \u4e5f\u4e3b\u8981\u7531\u4e09\u90e8\u5206\u6784\u6210\uff0c\u5206\u522b\u662f Client Library\u3001Metadata Store \u548c Chunk Store\u3002\\n\\nTectonic \u6bd4\u8f83\u521b\u65b0\u7684\u70b9\u5728\u4e8e\u5b83\u5728 Metadata \u8fd9\u4e00\u5c42\u505a\u4e86\u5206\u5c42\u5904\u7406\uff0c\u4ee5\u53ca\u5b58\u7b97\u5206\u79bb\u7684\u67b6\u6784\u8bbe\u8ba1\u3002\u4ece\u67b6\u6784\u56fe\u53ef\u4ee5\u770b\u5230 Metadata \u5206\u4e86\u4e09\u5c42\uff1aName layer\u3001File layer \u548c Block layer\u3002\u4f20\u7edf\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u4f1a\u628a\u6240\u6709\u7684\u5143\u6570\u636e\u90fd\u770b\u4f5c\u540c\u4e00\u7c7b\u6570\u636e\uff0c\u4e0d\u4f1a\u628a\u5b83\u4eec\u663e\u5f0f\u533a\u5206\u3002\u5728 Tectonic \u7684\u8bbe\u8ba1\u4e2d\uff0cName layer \u662f\u4e0e\u6587\u4ef6\u7684\u540d\u5b57\u6216\u8005\u76ee\u5f55\u7ed3\u6784\u6709\u5173\u7684\u5143\u6570\u636e\uff0cFile layer \u662f\u8ddf\u5f53\u524d\u6587\u4ef6\u672c\u8eab\u7684\u4e00\u4e9b\u5c5e\u6027\u76f8\u5173\u7684\u6570\u636e\uff0cBlock layer \u662f\u6bcf\u4e00\u4e2a\u6570\u636e\u5757\u5728 Chunk Store \u4f4d\u7f6e\u7684\u5143\u6570\u636e\u3002\\n\\nTectonic \u4e4b\u6240\u4ee5\u8981\u505a\u8fd9\u6837\u4e00\u4e2a\u5206\u5c42\u7684\u8bbe\u8ba1\u662f\u56e0\u4e3a\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u5927\u89c4\u6a21\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u7279\u522b\u662f\u5728 Meta \u8fd9\u6837\u7684\u91cf\u7ea7\u4e0b\uff08EB \u7ea7\u6570\u636e\uff09\u3002\u5728\u8fd9\u79cd\u89c4\u6a21\u4e0b\uff0c\u5bf9\u4e8e Metadata Store \u7684\u8d1f\u8f7d\u80fd\u529b\u4ee5\u53ca\u6269\u5c55\u6027\u6709\u7740\u975e\u5e38\u9ad8\u7684\u8981\u6c42\u3002\\n\\n\u7b2c\u4e8c\u70b9\u521b\u65b0\u5728\u4e8e\u5143\u6570\u636e\u7684\u5b58\u7b97\u5206\u79bb\u8bbe\u8ba1\uff0c\u524d\u9762\u63d0\u5230\u8fd9\u4e09\u4e2a layer \u5176\u5b9e\u662f\u65e0\u72b6\u6001\u7684\uff0c\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u8d1f\u8f7d\u53bb\u6a2a\u5411\u6269\u5c55\u3002\u4f46\u662f\u4e0a\u56fe\u4e2d\u7684 Key-value Store \u662f\u4e00\u4e2a\u6709\u72b6\u6001\u7684\u5b58\u50a8\uff0clayer \u548c Key-value Store \u4e4b\u95f4\u901a\u8fc7\u7f51\u7edc\u901a\u4fe1\u3002\\n\\nKey-value Store \u5e76\u4e0d\u5b8c\u5168\u662f Tectonic \u81ea\u5df1\u7814\u53d1\u7684\uff0c\u800c\u662f\u7528\u4e86 Meta \u5185\u90e8\u4e00\u4e2a\u53eb\u505a ZippyDB \u7684\u5206\u5e03\u5f0f KV \u5b58\u50a8\u6765\u652f\u6301\u5143\u6570\u636e\u7684\u5b58\u50a8\u3002ZippyDB \u662f\u57fa\u4e8e RocksDB \u4ee5\u53ca Paxos \u5171\u8bc6\u7b97\u6cd5\u6765\u5b9e\u73b0\u7684\u4e00\u4e2a\u5206\u5e03\u5f0f KV \u5b58\u50a8\u3002Tectonic \u4f9d\u8d56 ZippyDB \u7684 KV \u5b58\u50a8\u4ee5\u53ca\u5b83\u63d0\u4f9b\u7684\u4e8b\u52a1\u6765\u4fdd\u8bc1\u6574\u4e2a\u6587\u4ef6\u7cfb\u7edf\u5143\u4fe1\u606f\u7684\u4e00\u81f4\u6027\u548c\u539f\u5b50\u6027\u3002\\n\\n\u8fd9\u91cc\u7684\u4e8b\u52a1\u529f\u80fd\u662f\u975e\u5e38\u91cd\u8981\u7684\u4e00\u70b9\uff0c\u5982\u679c\u8981\u5b9e\u73b0\u4e00\u4e2a\u5927\u89c4\u6a21\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u52bf\u5fc5\u8981\u628a Metadata Store \u505a\u6a2a\u5411\u6269\u5c55\u3002\u6a2a\u5411\u6269\u5c55\u4e4b\u540e\u5c31\u6d89\u53ca\u6570\u636e\u5206\u7247\uff0c\u4f46\u662f\u5728\u6587\u4ef6\u7cfb\u7edf\u91cc\u9762\u6709\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u8bed\u4e49\u662f\u5f3a\u4e00\u81f4\u6027\uff0c\u6bd4\u5982\u91cd\u547d\u540d\u4e00\u4e2a\u76ee\u5f55\uff0c\u76ee\u5f55\u91cc\u9762\u4f1a\u6d89\u53ca\u5230\u5f88\u591a\u7684\u5b50\u76ee\u5f55\uff0c\u8fd9\u4e2a\u65f6\u5019\u8981\u600e\u4e48\u53bb\u9ad8\u6548\u5730\u91cd\u547d\u540d\u76ee\u5f55\u4ee5\u53ca\u4fdd\u8bc1\u91cd\u547d\u540d\u8fc7\u7a0b\u4e2d\u7684\u4e00\u81f4\u6027\uff0c\u662f\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u8bbe\u8ba1\u4e2d\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u70b9\uff0c\u4e5f\u662f\u4e1a\u754c\u666e\u904d\u8ba4\u4e3a\u7684\u96be\u70b9\u3002\\n\\nTectonic \u7684\u5b9e\u73b0\u65b9\u6848\u5c31\u662f\u4f9d\u8d56\u5e95\u5c42\u7684 ZippyDB \u7684\u4e8b\u52a1\u7279\u6027\u6765\u4fdd\u8bc1\u5f53\u4ec5\u6d89\u53ca\u5355\u4e2a\u5206\u7247\u7684\u5143\u6570\u636e\u65f6\uff0c\u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c\u4e00\u5b9a\u662f\u4e8b\u52a1\u6027\u4ee5\u53ca\u5f3a\u4e00\u81f4\u6027\u7684\u3002\u4f46\u7531\u4e8e ZippyDB \u4e0d\u652f\u6301\u8de8\u5206\u7247\u7684\u4e8b\u52a1\uff0c\u56e0\u6b64\u5728\u5904\u7406\u8de8\u76ee\u5f55\u7684\u5143\u6570\u636e\u8bf7\u6c42\uff08\u6bd4\u5982\u5c06\u6587\u4ef6\u4ece\u4e00\u4e2a\u76ee\u5f55\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55\uff09\u65f6 Tectonic \u65e0\u6cd5\u4fdd\u8bc1\u539f\u5b50\u6027\u3002\\n\\n\u5728 Chunk Store \u5c42 Tectonic \u4e5f\u6709\u521b\u65b0\uff0c\u4e0a\u6587\u63d0\u5230 GFS \u662f\u901a\u8fc7\u591a\u526f\u672c\u7684\u65b9\u5f0f\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u6027\u548c\u5b89\u5168\u6027\u3002\u591a\u526f\u672c\u6700\u5927\u7684\u5f0a\u7aef\u5728\u4e8e\u5b83\u7684\u5b58\u50a8\u6210\u672c\uff0c\u6bd4\u5982\u8bf4\u4f60\u53ef\u80fd\u53ea\u5b58\u4e861TB \u7684\u6570\u636e\uff0c\u4f46\u662f\u4f20\u7edf\u6765\u8bf4\u4f1a\u4fdd\u7559\u4e09\u4e2a\u526f\u672c\uff0c\u90a3\u4e48\u81f3\u5c11\u9700\u8981 3TB \u7684\u7a7a\u95f4\u6765\u5b58\u50a8\uff0c\u8fd9\u6837\u4f7f\u5f97\u5b58\u50a8\u6210\u672c\u6210\u500d\u589e\u957f\u3002\u5bf9\u4e8e\u5c0f\u6570\u91cf\u7ea7\u7684\u6587\u4ef6\u7cfb\u7edf\u53ef\u80fd\u8fd8\u597d\uff0c\u4f46\u662f\u5bf9\u4e8e\u50cf Meta \u8fd9\u79cd EB \u7ea7\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e09\u526f\u672c\u7684\u8bbe\u8ba1\u673a\u5236\u4f1a\u5e26\u6765\u975e\u5e38\u9ad8\u6602\u7684\u6210\u672c\uff0c\u6240\u4ee5\u4ed6\u4eec\u5728 Chunk Store \u5c42\u4f7f\u7528 EC\uff08Erasure Code\uff09\u4e5f\u5c31\u662f\u7ea0\u5220\u7801\u7684\u65b9\u5f0f\u53bb\u5b9e\u73b0\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u53ea\u7528\u5927\u6982 1.2~1.5 \u500d\u7684\u5197\u4f59\u7a7a\u95f4\uff0c\u5c31\u80fd\u591f\u4fdd\u8bc1\u6574\u4e2a\u96c6\u7fa4\u6570\u636e\u7684\u53ef\u9760\u6027\u548c\u5b89\u5168\u6027\uff0c\u76f8\u6bd4\u4e09\u526f\u672c\u7684\u5197\u4f59\u673a\u5236\u8282\u7701\u4e86\u5f88\u5927\u7684\u5b58\u50a8\u6210\u672c\u3002Tectonic \u7684 EC \u8bbe\u8ba1\u7ec6\u5230\u53ef\u4ee5\u9488\u5bf9\u6bcf\u4e00\u4e2a chunk \u8fdb\u884c\u914d\u7f6e\uff0c\u662f\u975e\u5e38\u7075\u6d3b\u7684\u3002\\n\\n\u540c\u65f6 Tectonic \u4e5f\u652f\u6301\u591a\u526f\u672c\u7684\u65b9\u5f0f\uff0c\u53d6\u51b3\u4e8e\u4e0a\u5c42\u4e1a\u52a1\u9700\u8981\u4ec0\u4e48\u6837\u7684\u5b58\u50a8\u5f62\u5f0f\u3002EC \u4e0d\u9700\u8981\u7279\u522b\u5927\u7684\u7684\u7a7a\u95f4\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u6574\u4f53\u6570\u636e\u7684\u53ef\u9760\u6027\uff0c\u4f46\u662f EC \u7684\u7f3a\u70b9\u5728\u4e8e\u5f53\u6570\u636e\u635f\u574f\u6216\u4e22\u5931\u65f6\u91cd\u5efa\u6570\u636e\u7684\u6210\u672c\u5f88\u9ad8\uff0c\u9700\u8981\u989d\u5916\u6d88\u8017\u66f4\u591a\u8ba1\u7b97\u548c IO \u8d44\u6e90\u3002\\n\\n\u901a\u8fc7\u8bba\u6587\u6211\u4eec\u5f97\u77e5\u76ee\u524d Meta \u6700\u5927\u7684 Tectonic \u96c6\u7fa4\u5927\u6982\u6709\u56db\u5343\u53f0\u5b58\u50a8\u8282\u70b9\uff0c\u603b\u7684\u5bb9\u91cf\u5927\u6982\u6709 1590PB\uff0c\u6709 100 \u4ebf\u7684\u6587\u4ef6\u91cf\uff0c\u8fd9\u4e2a\u6587\u4ef6\u91cf\u5bf9\u4e8e\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u6765\u8bf4\uff0c\u4e5f\u662f\u4e00\u4e2a\u6bd4\u8f83\u5927\u7684\u89c4\u6a21\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u767e\u4ebf\u7ea7\u57fa\u672c\u4e0a\u53ef\u4ee5\u6ee1\u8db3\u76ee\u524d\u7edd\u5927\u90e8\u5206\u7684\u4f7f\u7528\u573a\u666f\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/09.png\\" alt=\\"\\" />\\n  <figcaption>Tectonic \u5143\u6570\u636e\u8bbe\u8ba1\uff08\u56fe\u7247\u6765\u6e90\uff1aFacebook\u2019s Tectonic Filesystem: Efficiency from Exascale \u8bba\u6587\uff09</figcaption>\\n</figure>\\n\\n\u518d\u6765\u770b\u4e00\u4e0b Tectonic \u4e2d layer \u7684\u8bbe\u8ba1\uff0cName\u3001File\u3001Block \u8fd9\u4e09\u4e2a layer \u5b9e\u9645\u5bf9\u5e94\u5230\u5e95\u5c42\u7684 KV \u5b58\u50a8\u91cc\u7684\u6570\u636e\u7ed3\u6784\u5982\u4e0a\u56fe\u6240\u793a\u3002\u6bd4\u5982\u8bf4 Name layer \u8fd9\u4e00\u5c42\u662f\u4ee5\u76ee\u5f55 ID \u4f5c\u4e3a key \u8fdb\u884c\u5206\u7247\uff0cFile layer \u662f\u901a\u8fc7\u6587\u4ef6 ID \u8fdb\u884c\u5206\u7247\uff0cBlock layer \u662f\u901a\u8fc7\u5757 ID \u8fdb\u884c\u5206\u7247\u3002\\n\\nTectonic \u628a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\u62bd\u8c61\u6210\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 KV \u6a21\u578b\uff0c\u8fd9\u6837\u53ef\u4ee5\u975e\u5e38\u597d\u7684\u53bb\u505a\u6a2a\u5411\u6269\u5c55\u4ee5\u53ca\u8d1f\u8f7d\u5747\u8861\uff0c\u53ef\u4ee5\u6709\u6548\u9632\u6b62\u6570\u636e\u8bbf\u95ee\u7684\u70ed\u70b9\u95ee\u9898\u3002\\n\\n## JuiceFS\\n\\nJuiceFS \u8bde\u751f\u4e8e 2017 \u5e74\uff0c\u6bd4 GFS \u548c Tectonic \u90fd\u8981\u665a\uff0c\u76f8\u6bd4\u524d\u4e24\u4e2a\u7cfb\u7edf\u7684\u8bde\u751f\u5e74\u4ee3\uff0c\u5916\u90e8\u73af\u5883\u5df2\u7ecf\u53d1\u751f\u4e86\u7ffb\u5929\u8986\u5730\u7684\u53d8\u5316\u3002\\n\\n\u9996\u5148\u786c\u4ef6\u8d44\u6e90\u5df2\u7ecf\u6709\u4e86\u7a81\u98de\u731b\u8fdb\u7684\u53d1\u5c55\uff0c\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u5f53\u5e74 Google \u673a\u623f\u7684\u7f51\u7edc\u5e26\u5bbd\u53ea\u6709 100Mbps\uff08\u6570\u636e\u6765\u6e90\uff1aThe Google File System \u8bba\u6587\uff09\uff0c\u800c\u73b0\u5728 AWS \u4e0a\u673a\u5668\u7684\u7f51\u7edc\u5e26\u5bbd\u5df2\u7ecf\u80fd\u8fbe\u5230 100Gbps\uff0c\u662f\u5f53\u5e74\u7684 1000 \u500d\uff01\\n\\n\u5176\u6b21\u4e91\u8ba1\u7b97\u5df2\u7ecf\u8fdb\u5165\u4e86\u4e3b\u6d41\u5e02\u573a\uff0c\u4e0d\u7ba1\u662f\u516c\u6709\u4e91\u3001\u79c1\u6709\u4e91\u8fd8\u662f\u6df7\u5408\u4e91\uff0c\u4f01\u4e1a\u90fd\u5df2\u7ecf\u8fc8\u5165\u4e86\u300c\u4e91\u65f6\u4ee3\u300d\u3002\u800c\u4e91\u65f6\u4ee3\u4e3a\u4f01\u4e1a\u7684\u57fa\u7840\u8bbe\u65bd\u67b6\u6784\u5e26\u6765\u4e86\u5168\u65b0\u6311\u6218\uff0c\u4f20\u7edf\u57fa\u4e8e IDC \u73af\u5883\u8bbe\u8ba1\u7684\u57fa\u7840\u8bbe\u65bd\u4e00\u65e6\u60f3\u8981\u4e0a\u4e91\uff0c\u53ef\u80fd\u90fd\u4f1a\u9762\u4e34\u79cd\u79cd\u95ee\u9898\u3002\u5982\u4f55\u6700\u5927\u7a0b\u5ea6\u4e0a\u53d1\u6325\u4e91\u8ba1\u7b97\u7684\u4f18\u52bf\u662f\u57fa\u7840\u8bbe\u65bd\u66f4\u597d\u878d\u5165\u4e91\u73af\u5883\u7684\u5fc5\u8981\u6761\u4ef6\uff0c\u56fa\u5b88\u9648\u89c4\u53ea\u4f1a\u4e8b\u500d\u529f\u534a\u3002\\n\\n\u540c\u65f6\uff0cGFS \u548c Tectonic \u90fd\u662f\u4ec5\u670d\u52a1\u516c\u53f8\u5185\u90e8\u4e1a\u52a1\u7684\u7cfb\u7edf\uff0c\u867d\u7136\u89c4\u6a21\u5f88\u5927\uff0c\u4f46\u9700\u6c42\u76f8\u5bf9\u5355\u4e00\u3002\u800c JuiceFS \u5b9a\u4f4d\u4e8e\u670d\u52a1\u5e7f\u5927\u5916\u90e8\u7528\u6237\u3001\u6ee1\u8db3\u591a\u6837\u5316\u573a\u666f\u7684\u9700\u6c42\uff0c\u56e0\u800c\u5728\u67b6\u6784\u8bbe\u8ba1\u4e0a\u4e0e\u8fd9\u4e24\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e5f\u5927\u6709\u4e0d\u540c\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/10.png\\" alt=\\"\\" />\\n  <figcaption>JuiceFS \u67b6\u6784</figcaption>\\n</figure>\\n\\n\u57fa\u4e8e\u8fd9\u4e9b\u53d8\u5316\u548c\u5dee\u5f02\uff0c\u6211\u4eec\u518d\u6765\u770b\u770b JuiceFS \u7684\u67b6\u6784\u3002\u540c\u6837\u7684\uff0cJuiceFS \u4e5f\u662f\u7531 3 \u90e8\u5206\u7ec4\u6210\uff1a\u5143\u6570\u636e\u5f15\u64ce\u3001\u6570\u636e\u5b58\u50a8\u548c\u5ba2\u6237\u7aef\u3002\u867d\u7136\u5927\u4f53\u6846\u67b6\u4e0a\u7c7b\u4f3c\uff0c\u4f46\u5176\u5b9e\u6bcf\u4e00\u90e8\u5206\u7684\u8bbe\u8ba1 JuiceFS \u90fd\u6709\u7740\u4e00\u4e9b\u4e0d\u592a\u4e00\u6837\u7684\u5730\u65b9\u3002\\n\\n\u9996\u5148\u662f\u6570\u636e\u5b58\u50a8\u8fd9\u90e8\u5206\uff0c\u76f8\u6bd4 GFS \u548c Tectonic \u4f7f\u7528\u81ea\u7814\u7684\u6570\u636e\u5b58\u50a8\u670d\u52a1\uff0cJuiceFS \u5728\u67b6\u6784\u8bbe\u8ba1\u4e0a\u987a\u5e94\u4e86\u4e91\u539f\u751f\u65f6\u4ee3\u7684\u7279\u70b9\uff0c\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u5b58\u50a8\u4f5c\u4e3a\u6570\u636e\u5b58\u50a8\u3002\u524d\u9762\u770b\u5230 Tectonic \u4e3a\u4e86\u5b58\u50a8 EB \u7ea7\u7684\u6570\u636e\u7528\u4e86 4000 \u591a\u53f0\u670d\u52a1\u5668\uff0c\u53ef\u60f3\u800c\u77e5\uff0c\u5982\u6b64\u5927\u89c4\u6a21\u5b58\u50a8\u96c6\u7fa4\u7684\u8fd0\u7ef4\u6210\u672c\u4e5f\u5fc5\u7136\u4e0d\u5c0f\u3002\u5bf9\u4e8e\u666e\u901a\u7528\u6237\u6765\u8bf4\uff0c\u5bf9\u8c61\u5b58\u50a8\u7684\u597d\u5904\u662f\u5f00\u7bb1\u5373\u7528\u3001\u5bb9\u91cf\u5f39\u6027\uff0c\u8fd0\u7ef4\u590d\u6742\u5ea6\u9661\u7136\u4e0b\u964d\u3002\u5bf9\u8c61\u5b58\u50a8\u4e5f\u652f\u6301 Tectonic \u4e2d\u4f7f\u7528\u7684 EC \u7279\u6027\uff0c\u56e0\u6b64\u5b58\u50a8\u6210\u672c\u76f8\u6bd4\u4e00\u4e9b\u591a\u526f\u672c\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u4e5f\u80fd\u964d\u4f4e\u4e0d\u5c11\u3002\\n\\n\u4f46\u662f\u5bf9\u8c61\u5b58\u50a8\u7684\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff0c\u4f8b\u5982\u4e0d\u652f\u6301\u4fee\u6539\u5bf9\u8c61\u3001\u5143\u6570\u636e\u6027\u80fd\u5dee\u3001\u65e0\u6cd5\u4fdd\u8bc1\u5f3a\u4e00\u81f4\u6027\u3001\u968f\u673a\u8bfb\u6027\u80fd\u5dee\u7b49\u3002\u8fd9\u4e9b\u95ee\u9898\u90fd\u88ab JuiceFS \u8bbe\u8ba1\u7684\u72ec\u7acb\u5143\u6570\u636e\u5f15\u64ce\uff0cChunk\u3001Slice\u3001Block \u4e09\u5c42\u6570\u636e\u67b6\u6784\u8bbe\u8ba1\uff0c\u4ee5\u53ca\u591a\u7ea7\u7f13\u5b58\u89e3\u51b3\u4e86\u3002\\n\\n\u5176\u6b21\u662f\u5143\u6570\u636e\u5f15\u64ce\uff0cJuiceFS \u53ef\u4f7f\u7528\u4e00\u4e9b\u5f00\u6e90\u6570\u636e\u5e93\u4f5c\u4e3a\u5143\u6570\u636e\u7684\u5e95\u5c42\u5b58\u50a8\u3002\u8fd9\u4e00\u70b9\u548c Tectonic \u5f88\u50cf\uff0c\u4f46 JuiceFS \u66f4\u8fdb\u4e86\u4e00\u6b65\uff0c\u4e0d\u4ec5\u652f\u6301\u5206\u5e03\u5f0f KV\uff0c\u8fd8\u652f\u6301 Redis\u3001\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7b49\u5b58\u50a8\u5f15\u64ce\uff0c\u8ba9\u7528\u6237\u53ef\u4ee5\u7075\u6d3b\u5730\u6839\u636e\u81ea\u5df1\u7684\u4f7f\u7528\u573a\u666f\u9009\u62e9\u6700\u9002\u5408\u7684\u65b9\u6848\uff0c\u8fd9\u662f\u57fa\u4e8e JuiceFS \u5b9a\u4f4d\u4e3a\u4e00\u6b3e\u901a\u7528\u578b\u6587\u4ef6\u7cfb\u7edf\u6240\u505a\u51fa\u7684\u67b6\u6784\u8bbe\u8ba1\u3002\u4f7f\u7528\u5f00\u6e90\u6570\u636e\u5e93\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u662f\u8fd9\u4e9b\u6570\u636e\u5e93\u5728\u516c\u6709\u4e91\u4e0a\u901a\u5e38\u90fd\u6709\u5168\u6258\u7ba1\u670d\u52a1\uff0c\u56e0\u6b64\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u8fd0\u7ef4\u6210\u672c\u51e0\u4e4e\u4e3a\u96f6\u3002\\n\\n\u524d\u9762\u63d0\u5230 Tectonic \u4e3a\u4e86\u4fdd\u8bc1\u5143\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027\u9009\u62e9\u4e86 ZippyDB \u8fd9\u4e2a\u652f\u6301\u4e8b\u52a1\u7684 KV \u5b58\u50a8\uff0c\u4f46 Tectonic \u4e5f\u53ea\u80fd\u4fdd\u8bc1\u5355\u5206\u7247\u5143\u6570\u636e\u64cd\u4f5c\u7684\u4e8b\u52a1\u6027\uff0c\u800c JuiceFS \u5bf9\u4e8e\u4e8b\u52a1\u6027\u6709\u7740\u66f4\u4e25\u683c\u7684\u8981\u6c42\uff0c\u9700\u8981\u4fdd\u8bc1\u5168\u5c40\u5f3a\u4e00\u81f4\u6027\uff08\u5373\u8981\u6c42\u8de8\u5206\u7247\u7684\u4e8b\u52a1\u6027\uff09\u3002\u56e0\u6b64\u76ee\u524d\u652f\u6301\u7684\u6240\u6709\u6570\u636e\u5e93\u90fd\u5fc5\u987b\u5177\u6709\u5355\u673a\u6216\u8005\u5206\u5e03\u5f0f\u4e8b\u52a1\u7279\u6027\uff0c\u5426\u5219\u662f\u6ca1\u6709\u529e\u6cd5\u4f5c\u4e3a\u5143\u6570\u636e\u5f15\u64ce\u63a5\u5165\u8fdb\u6765\u7684\uff08\u4e00\u4e2a\u4f8b\u5b50\u5c31\u662f Redis Cluster \u4e0d\u652f\u6301\u8de8 slot \u7684\u4e8b\u52a1\uff09\u3002\u57fa\u4e8e\u53ef\u4ee5\u6a2a\u5411\u6269\u5c55\u7684\u5143\u6570\u636e\u5f15\u64ce\uff08\u6bd4\u5982 TiKV\uff09\uff0cJuiceFS \u76ee\u524d\u5df2\u7ecf\u80fd\u505a\u5230\u5728\u5355\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5b58\u50a8 200 \u591a\u4ebf\u4e2a\u6587\u4ef6\uff0c\u6ee1\u8db3\u4f01\u4e1a\u6d77\u91cf\u6570\u636e\u7684\u5b58\u50a8\u9700\u6c42\u3002\\n\\n<figure>\\n  <img src=\\"/img/blog/large-scale-distributed-file-system-comparison/11.png\\" alt=\\"\\" />\\n  <figcaption>JuiceFS \u5143\u6570\u636e\u8bbe\u8ba1</figcaption>\\n</figure>\\n\\n\u4e0a\u56fe\u662f\u4f7f\u7528 KV \u5b58\u50a8\uff08\u6bd4\u5982 TiKV\uff09\u4f5c\u4e3a JuiceFS \u5143\u6570\u636e\u5f15\u64ce\u65f6\u7684\u6570\u636e\u7ed3\u6784\u8bbe\u8ba1\uff0c\u5982\u679c\u5bf9\u6bd4 Tectonic \u7684\u8bbe\u8ba1\uff0c\u65e2\u6709\u76f8\u4f3c\u4e4b\u5904\u4e5f\u6709\u4e00\u4e9b\u5927\u7684\u5dee\u5f02\u3002\u6bd4\u5982\u7b2c\u4e00\u4e2a key\uff0c\u5728 JuiceFS \u7684\u8bbe\u8ba1\u91cc\u6ca1\u6709\u5bf9\u6587\u4ef6\u548c\u76ee\u5f55\u8fdb\u884c\u533a\u5206\uff0c\u540c\u65f6\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u5c5e\u6027\u4fe1\u606f\u4e5f\u6ca1\u6709\u653e\u5728 value \u91cc\uff0c\u800c\u662f\u6709\u4e00\u4e2a\u5355\u72ec\u7684 key \u7528\u4e8e\u5b58\u50a8\u5c5e\u6027\u4fe1\u606f\uff08\u5373\u7b2c\u4e09\u4e2a key\uff09\u3002\\n\\n\u7b2c\u4e8c\u4e2a key \u7528\u4e8e\u5b58\u50a8\u6570\u636e\u5bf9\u5e94\u7684\u5757 ID\uff0c\u7531\u4e8e JuiceFS \u57fa\u4e8e\u5bf9\u8c61\u5b58\u50a8\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u50cf Tectonic \u90a3\u6837\u5b58\u50a8\u5177\u4f53\u7684\u78c1\u76d8\u4fe1\u606f\uff0c\u53ea\u9700\u8981\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u5f97\u5230\u5bf9\u8c61\u7684 key \u5373\u53ef\u3002\u5728 JuiceFS \u7684\u5b58\u50a8\u683c\u5f0f\u4e2d\u5143\u6570\u636e\u5206\u4e86 3 \u5c42\uff1aChunk\u3001Slice\u3001Block\uff0c\u5176\u4e2d Chunk \u662f\u56fa\u5b9a\u7684 64MiB \u5927\u5c0f\uff0c\u6240\u4ee5\u7b2c\u4e8c\u4e2a key \u4e2d\u7684 chunk_index \u662f\u53ef\u4ee5\u901a\u8fc7\u6587\u4ef6\u5927\u5c0f\u3001offset \u4ee5\u53ca 64MiB \u76f4\u63a5\u8ba1\u7b97\u5f97\u51fa\u3002\u901a\u8fc7\u8fd9\u4e2a key \u83b7\u53d6\u5230\u7684 value \u662f\u4e00\u7ec4 Slice \u4fe1\u606f\uff0c\u5176\u4e2d\u5305\u542b Slice \u7684 ID\u3001\u957f\u5ea6\u7b49\uff0c\u7ed3\u5408\u8fd9\u4e9b\u4fe1\u606f\u5c31\u53ef\u4ee5\u7b97\u51fa\u5bf9\u8c61\u5b58\u50a8\u4e0a\u7684 key\uff0c\u6700\u7ec8\u5b9e\u73b0\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\u3002\\n\\n\u6700\u540e\u6709\u4e00\u70b9\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u4e3a\u4e86\u51cf\u5c11\u6267\u884c\u5206\u5e03\u5f0f\u4e8b\u52a1\u5e26\u6765\u7684\u5f00\u9500\uff0c\u7b2c\u4e09\u4e2a key \u5728\u8bbe\u8ba1\u4e0a\u9700\u8981\u9760\u8fd1\u524d\u9762\u4e24\u4e2a key\uff0c\u786e\u4fdd\u4e8b\u52a1\u5c3d\u91cf\u5728\u5355\u4e2a\u5143\u6570\u636e\u5f15\u64ce\u8282\u70b9\u4e0a\u5b8c\u6210\u3002\u4e0d\u8fc7\u5982\u679c\u5206\u5e03\u5f0f\u4e8b\u52a1\u65e0\u6cd5\u907f\u514d\uff0cJuiceFS \u5e95\u5c42\u7684\u5143\u6570\u636e\u5f15\u64ce\u4e5f\u652f\u6301\uff08\u6027\u80fd\u7565\u6709\u4e0b\u964d\uff09\uff0c\u786e\u4fdd\u5143\u6570\u636e\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002\\n\\n\u6700\u540e\u6765\u770b\u770b\u5ba2\u6237\u7aef\u7684\u8bbe\u8ba1\u3002JuiceFS \u548c\u53e6\u5916\u4e24\u4e2a\u7cfb\u7edf\u6700\u5927\u7684\u533a\u522b\u5c31\u662f\u8fd9\u662f\u4e00\u4e2a\u540c\u65f6\u652f\u6301\u591a\u79cd\u6807\u51c6\u8bbf\u95ee\u65b9\u5f0f\u7684\u5ba2\u6237\u7aef\uff0c\u5305\u62ec POSIX\u3001HDFS\u3001S3\u3001Kubernetes CSI \u7b49\u3002GFS \u7684\u5ba2\u6237\u7aef\u57fa\u672c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u4e2a\u975e\u6807\u51c6\u534f\u8bae\u7684\u5ba2\u6237\u7aef\uff0c\u4e0d\u652f\u6301 POSIX \u6807\u51c6\uff0c\u53ea\u652f\u6301\u8ffd\u52a0\u5199\uff0c\u56e0\u6b64\u53ea\u80fd\u7528\u5728\u5355\u4e00\u573a\u666f\u3002Tectonic \u7684\u5ba2\u6237\u7aef\u548c GFS \u5dee\u4e0d\u591a\uff0c\u4e5f\u4e0d\u652f\u6301 POSIX \u6807\u51c6\uff0c\u53ea\u652f\u6301\u8ffd\u52a0\u5199\uff0c\u4f46 Tectonic \u91c7\u7528\u4e86\u4e00\u79cd\u5bcc\u5ba2\u6237\u7aef\u7684\u8bbe\u8ba1\uff0c\u628a\u5f88\u591a\u529f\u80fd\u90fd\u653e\u5728\u5ba2\u6237\u7aef\u8fd9\u4e00\u8fb9\u6765\u5b9e\u73b0\uff0c\u8fd9\u6837\u4e5f\u4f7f\u5f97\u5ba2\u6237\u7aef\u6709\u7740\u6700\u5927\u7684\u7075\u6d3b\u6027\u3002\u6b64\u5916 JuiceFS \u7684\u5ba2\u6237\u7aef\u8fd8\u63d0\u4f9b\u4e86\u7f13\u5b58\u52a0\u901f\u7279\u6027\uff0c\u8fd9\u5bf9\u4e8e\u4e91\u539f\u751f\u67b6\u6784\u4e0b\u7684\u5b58\u50a8\u5206\u79bb\u573a\u666f\u662f\u975e\u5e38\u6709\u4ef7\u503c\u7684\u3002\\n\\n## \u7ed3\u8bed\\n\\n\u6587\u4ef6\u7cfb\u7edf\u8bde\u751f\u4e8e\u4e0a\u4e2a\u4e16\u7eaa 60 \u5e74\u4ee3\uff0c\u968f\u7740\u65f6\u4ee3\u7684\u53d1\u5c55\uff0c\u6587\u4ef6\u7cfb\u7edf\u4e5f\u5728\u4e0d\u65ad\u6f14\u8fdb\u3002\u4e00\u65b9\u9762\u7531\u4e8e\u4e92\u8054\u7f51\u7684\u666e\u53ca\uff0c\u6570\u636e\u89c4\u6a21\u7206\u53d1\u5f0f\u589e\u957f\uff0c\u6587\u4ef6\u7cfb\u7edf\u7ecf\u5386\u4e86\u4ece\u5355\u673a\u5230\u5206\u5e03\u5f0f\u7684\u67b6\u6784\u5347\u7ea7\uff0cGoogle \u548c Meta \u8fd9\u6837\u7684\u516c\u53f8\u4fbf\u662f\u5176\u4e2d\u7684\u5f15\u9886\u8005\u3002\\n\\n\u53e6\u4e00\u65b9\u9762\uff0c\u4e91\u8ba1\u7b97\u7684\u8bde\u751f\u548c\u6d41\u884c\u63a8\u52a8\u7740\u4e91\u4e0a\u5b58\u50a8\u7684\u53d1\u5c55\uff0c\u4f01\u4e1a\u7528\u4e91\u8fdb\u884c\u5907\u4efd\u548c\u5b58\u6863\u5df2\u9010\u6e10\u6210\u4e3a\u4e3b\u6d41\uff0c\u4e00\u4e9b\u5728\u672c\u5730\u673a\u623f\u8fdb\u884c\u7684\u9ad8\u6027\u80fd\u8ba1\u7b97\u3001\u5927\u6570\u636e\u573a\u666f\uff0c\u4e5f\u5df2\u7ecf\u5f00\u59cb\u5411\u4e91\u7aef\u8fc1\u79fb\uff0c\u8fd9\u4e9b\u5bf9\u6027\u80fd\u8981\u6c42\u66f4\u9ad8\u7684\u573a\u666f\u7ed9\u6587\u4ef6\u5b58\u50a8\u63d0\u51fa\u4e86\u65b0\u7684\u6311\u6218\u3002JuiceFS \u8bde\u751f\u4e8e\u8fd9\u6837\u7684\u65f6\u4ee3\u80cc\u666f\uff0c\u4f5c\u4e3a\u4e00\u6b3e\u57fa\u4e8e\u5bf9\u8c61\u5b58\u50a8\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0cJuiceFS \u5e0c\u671b\u80fd\u591f\u4e3a\u66f4\u591a\u4e0d\u540c\u89c4\u6a21\u7684\u516c\u53f8\u548c\u66f4\u591a\u6837\u5316\u7684\u573a\u666f\u63d0\u4f9b\u53ef\u6269\u5c55\u7684\u6587\u4ef6\u5b58\u50a8\u65b9\u6848\u3002"},{"id":"/2022/08/14/introduction-to-recommendation-system","metadata":{"permalink":"/blog/2022/08/14/introduction-to-recommendation-system","source":"@site/blog/2022-08-14-introduction-to-recommendation-system.md","title":"\u63a8\u8350\u7cfb\u7edf\uff1a\u4ece\u5165\u95e8\u5230\u653e\u5f03","description":"\u6700\u8fd1\u5728\u56e2\u961f\u5185\u90e8\u505a\u7684\u4e00\u6b21\u5173\u4e8e\u63a8\u8350\u7cfb\u7edf\u7684\u57fa\u7840\u4ecb\u7ecd\uff0c\u7b97\u662f\u5bf9\u4e8e\u4e4b\u524d\u5199\u7684\u300c\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\u300d\u7cfb\u5217\u6587\u7ae0\u7684\u8865\u5145\u3002","date":"2022-08-14T19:00:00.000Z","tags":[{"inline":true,"label":"deep learning","permalink":"/blog/tags/deep-learning"},{"inline":true,"label":"recommendation","permalink":"/blog/tags/recommendation"}],"readingTime":0.37,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u63a8\u8350\u7cfb\u7edf\uff1a\u4ece\u5165\u95e8\u5230\u653e\u5f03","date":"2022-08-14 19:00:00 +0800","tags":["deep learning","recommendation"]},"unlisted":false,"prevItem":{"title":"\u6d45\u6790\u4e09\u6b3e\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u8bbe\u8ba1","permalink":"/blog/2023/03/11/large-scale-distributed-file-system-comparison"},"nextItem":{"title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #1 Paul Baran","permalink":"/blog/2022/08/12/maybe-news-series-dail-up-1"}},"content":"\u6700\u8fd1\u5728\u56e2\u961f\u5185\u90e8\u505a\u7684\u4e00\u6b21\u5173\u4e8e\u63a8\u8350\u7cfb\u7edf\u7684\u57fa\u7840\u4ecb\u7ecd\uff0c\u7b97\u662f\u5bf9\u4e8e\u4e4b\u524d\u5199\u7684[\u300c\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\u300d](/blog/tags/htdadif)\u7cfb\u5217\u6587\u7ae0\u7684\u8865\u5145\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n<iframe src=\\"//www.slideshare.net/slideshow/embed_code/key/2u7cvJpCm0z3Lj\\" width=\\"700\\" height=\\"485\\" frameborder=\\"0\\" marginwidth=\\"0\\" marginheight=\\"0\\" scrolling=\\"no\\" style={{border: \'1px solid #CCC\', \'border-width\': \'1px\', \'margin-bottom\': \'5px\', \'max-width\': \'100%\'}} allowfullscreen></iframe>"},{"id":"/2022/08/12/maybe-news-series-dail-up-1","metadata":{"permalink":"/blog/2022/08/12/maybe-news-series-dail-up-1","source":"@site/blog/2022-08-12-maybe-news-series-dail-up-1.md","title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #1 Paul Baran","description":"\u672c\u671f\u8bb2\u8ff0\u7684\u662f\u4e92\u8054\u7f51\u5148\u9a71\u4e4b\u4e00 Paul Baran \u7684\u6545\u4e8b\uff0c\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1ahttps://maybe.news/series/dail-up/1\u3002","date":"2022-08-12T19:00:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":0.13,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #1 Paul Baran","date":"2022-08-12 19:00:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"\u63a8\u8350\u7cfb\u7edf\uff1a\u4ece\u5165\u95e8\u5230\u653e\u5f03","permalink":"/blog/2022/08/14/introduction-to-recommendation-system"},"nextItem":{"title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #0 Intro","permalink":"/blog/2022/08/08/maybe-news-series-dail-up-0"}},"content":"\u672c\u671f\u8bb2\u8ff0\u7684\u662f\u4e92\u8054\u7f51\u5148\u9a71\u4e4b\u4e00 Paul Baran \u7684\u6545\u4e8b\uff0c\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1a[https://maybe.news/series/dail-up/1](https://maybe.news/series/dail-up/1)\u3002"},{"id":"/2022/08/08/maybe-news-series-dail-up-0","metadata":{"permalink":"/blog/2022/08/08/maybe-news-series-dail-up-0","source":"@site/blog/2022-08-08-maybe-news-series-dail-up-0.md","title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #0 Intro","description":"\u8fd9\u662f Maybe News \u7684\u4e00\u4e2a\u65b0\u680f\u76ee\u300c\u7cfb\u5217\u6587\u7ae0\uff08Series\uff09\u300d\uff0c\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1ahttps://maybe.news/series/dail-up/0\u3002","date":"2022-08-08T19:00:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":0.115,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #0 Intro","date":"2022-08-08 19:00:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #1 Paul Baran","permalink":"/blog/2022/08/12/maybe-news-series-dail-up-1"},"nextItem":{"title":"Maybe News Issue #13","permalink":"/blog/2022/06/07/maybe-news-issue-13"}},"content":"\u8fd9\u662f Maybe News \u7684\u4e00\u4e2a\u65b0\u680f\u76ee\u300c\u7cfb\u5217\u6587\u7ae0\uff08Series\uff09\u300d\uff0c\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1a[https://maybe.news/series/dail-up/0](https://maybe.news/series/dail-up/0)\u3002"},{"id":"/2022/06/07/maybe-news-issue-13","metadata":{"permalink":"/blog/2022/06/07/maybe-news-issue-13","source":"@site/blog/2022-06-07-maybe-news-issue-13.md","title":"Maybe News Issue #13","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aInfiniFS\u3001Decentralized Social Networks\u3001\u6768\u6d77\u5d27\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1ahttps://maybe.news/issues/13\u3002","date":"2022-06-07T19:00:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":0.095,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Maybe News Issue #13","date":"2022-06-07 19:00:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Series - \u8fde\u63a5\uff1a\u4e92\u8054\u7f51\u7b80\u53f2 #0 Intro","permalink":"/blog/2022/08/08/maybe-news-series-dail-up-0"},"nextItem":{"title":"Maybe News SP #0","permalink":"/blog/2022/05/19/maybe-news-sp-0"}},"content":"\u672c\u671f\u5173\u952e\u8bcd\uff1aInfiniFS\u3001Decentralized Social Networks\u3001\u6768\u6d77\u5d27\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1a[https://maybe.news/issues/13](https://maybe.news/issues/13)\u3002"},{"id":"/2022/05/19/maybe-news-sp-0","metadata":{"permalink":"/blog/2022/05/19/maybe-news-sp-0","source":"@site/blog/2022-05-19-maybe-news-sp-0.md","title":"Maybe News SP #0","description":"\u8fd9\u662f\u4e00\u671f\u7279\u522b\u7684 Maybe News\uff0c\u672c\u6765\u7b2c 13 \u671f\u5df2\u7ecf\u51c6\u5907\u4e86\u5927\u534a\uff0c\u540e\u6765\u4e34\u65f6\u51b3\u5b9a\u63a8\u8fdf\u53d1\u5e03\uff0c\u7528\u4e00\u6574\u671f\u7279\u522b\u7bc7\u6765\u8bb0\u5f55\u53d1\u751f\u5728\u5f53\u4e0b\u7684\u4e00\u7cfb\u5217\u7279\u522b\u7684\u4e8b\u4ef6\u3002\u4ee5\u540e\u662f\u5426\u8fd8\u4f1a\u6709\u7c7b\u4f3c\u7684\u7279\u522b\u7bc7\u6211\u4e5f\u4e0d\u77e5\u9053\uff0c\u4f46\u5e0c\u671b\u5c4a\u65f6\u53d1\u751f\u7684\u4e8b\u60c5\u80fd\u7ed9\u4e88\u4eba\u4eec\u529b\u91cf\u4e0e\u5e0c\u671b\u3002","date":"2022-05-19T13:50:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":0.505,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Maybe News SP #0","date":"2022-05-19 13:50:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #13","permalink":"/blog/2022/06/07/maybe-news-issue-13"},"nextItem":{"title":"Maybe News Issue #12","permalink":"/blog/2021/10/19/maybe-news-issue-12"}},"content":"\u8fd9\u662f\u4e00\u671f\u7279\u522b\u7684 Maybe News\uff0c\u672c\u6765\u7b2c 13 \u671f\u5df2\u7ecf\u51c6\u5907\u4e86\u5927\u534a\uff0c\u540e\u6765\u4e34\u65f6\u51b3\u5b9a\u63a8\u8fdf\u53d1\u5e03\uff0c\u7528\u4e00\u6574\u671f\u7279\u522b\u7bc7\u6765\u8bb0\u5f55\u53d1\u751f\u5728\u5f53\u4e0b\u7684\u4e00\u7cfb\u5217\u7279\u522b\u7684\u4e8b\u4ef6\u3002\u4ee5\u540e\u662f\u5426\u8fd8\u4f1a\u6709\u7c7b\u4f3c\u7684\u7279\u522b\u7bc7\u6211\u4e5f\u4e0d\u77e5\u9053\uff0c\u4f46\u5e0c\u671b\u5c4a\u65f6\u53d1\u751f\u7684\u4e8b\u60c5\u80fd\u7ed9\u4e88\u4eba\u4eec\u529b\u91cf\u4e0e\u5e0c\u671b\u3002\\n\\n\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1a[https://maybe.news/issues/sp-0](https://maybe.news/issues/sp-0)\u3002"},{"id":"/2021/10/19/maybe-news-issue-12","metadata":{"permalink":"/blog/2021/10/19/maybe-news-issue-12","source":"@site/blog/2021-10-19-maybe-news-issue-12.md","title":"Maybe News Issue #12","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aPaxos\u3001InfluxDB IOx\u300116bit \u97f3\u4e50\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1ahttps://maybe.news/issues/12\u3002","date":"2021-10-15T13:00:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":0.085,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Maybe News Issue #12","date":"2021-10-15 13:00:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News SP #0","permalink":"/blog/2022/05/19/maybe-news-sp-0"},"nextItem":{"title":"\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u5fae\u4fe1","permalink":"/blog/2021/09/09/do-not-chat-on-wechat"}},"content":"\u672c\u671f\u5173\u952e\u8bcd\uff1aPaxos\u3001InfluxDB IOx\u300116bit \u97f3\u4e50\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1a[https://maybe.news/issues/12](https://maybe.news/issues/12)\u3002"},{"id":"/2021/09/09/do-not-chat-on-wechat","metadata":{"permalink":"/blog/2021/09/09/do-not-chat-on-wechat","source":"@site/blog/2021-09-09-do-not-chat-on-wechat.md","title":"\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u5fae\u4fe1","description":"\u8fd9\u662f\u4e2a\u6709\u70b9\u845b\u7684\u6807\u9898\uff0c\u6548\u679c\u7c7b\u4f3c\u4e8e\u300c\u5f53\u6211\u4eec\u8c08\u8bba XXX \u65f6\u6211\u4eec\u5728\u8c08\u8bba\u4ec0\u4e48\u300d\u3002\u8bf7\u95ee\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u8fd8\u80fd\u5728\u54ea\u804a\u5462\uff1f\u4e3a\u5565\u8981\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u5462\uff1f\u6211\u5e76\u4e0d\u662f\u963f\u91cc\u6216\u8005\u5b57\u8282\u6d3e\u6765\u7684\u5978\u7ec6\uff0c\u8ba9\u6211\u5148\u6765\u8bb2\u8bb2\u8fd9\u4ef6\u4e8b\u60c5\u7684\u7f18\u8d77\u3002","date":"2021-09-09T18:19:08.000Z","tags":[{"inline":true,"label":"automation","permalink":"/blog/tags/automation"},{"inline":true,"label":"tooling","permalink":"/blog/tags/tooling"}],"readingTime":13.49,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u5fae\u4fe1","date":"2021-09-09 18:19:08 +0800","tags":["automation","tooling"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #12","permalink":"/blog/2021/10/19/maybe-news-issue-12"},"nextItem":{"title":"Maybe News Issue #11","permalink":"/blog/2021/07/08/maybe-news-issue-11"}},"content":"\u8fd9\u662f\u4e2a\u6709\u70b9\u845b\u7684\u6807\u9898\uff0c\u6548\u679c\u7c7b\u4f3c\u4e8e\u300c\u5f53\u6211\u4eec\u8c08\u8bba XXX \u65f6\u6211\u4eec\u5728\u8c08\u8bba\u4ec0\u4e48\u300d\u3002\u8bf7\u95ee\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u8fd8\u80fd\u5728\u54ea\u804a\u5462\uff1f\u4e3a\u5565\u8981\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u5462\uff1f\u6211\u5e76\u4e0d\u662f\u963f\u91cc\u6216\u8005\u5b57\u8282\u6d3e\u6765\u7684\u5978\u7ec6\uff0c\u8ba9\u6211\u5148\u6765\u8bb2\u8bb2\u8fd9\u4ef6\u4e8b\u60c5\u7684\u7f18\u8d77\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u7f18\u8d77\\n\\n\u7531\u4e8e\u5de5\u4f5c\u7684\u539f\u56e0\uff0c\u6211\u7684\u5fae\u4fe1\u91cc\u5df2\u7ecf\u7d2f\u79ef\u4e86\u6570\u91cf\u53ef\u89c2\u7684\u5fae\u4fe1\u7fa4\uff0c\u5fae\u4fe1\u597d\u53cb\u6570\u4e5f\u564c\u564c\u5f80\u4e0a\u6da8\uff0c\u5df2\u7ecf\u903c\u8fd1 1000 \u5927\u5173[^1]\u3002\u65e5\u5e38\u5de5\u4f5c\u5f88\u5927\u4e00\u90e8\u5206\u90fd\u662f\u5728\u5fae\u4fe1\u4e2d\u8fdb\u884c\uff0c\u56e0\u6b64\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u6211\u90fd\u662f\u4e25\u91cd\u4f9d\u8d56\u5fae\u4fe1\u5ba2\u6237\u7aef\u6765\u5de5\u4f5c\u7684\uff0c\u51c6\u786e\u8bf4\u662f\u684c\u9762\u7248\u7684\u5fae\u4fe1\u5ba2\u6237\u7aef\uff0c\u5e94\u8be5\u6ca1\u4eba\u60f3\u7528\u624b\u673a app \u6765\u5904\u7406\u5de5\u4f5c\u3002\u4f46\u4e00\u76f4\u6709\u51e0\u4e2a\u95ee\u9898\u56f0\u6270\u7740\u6211\uff0c\u8fd9\u4e9b\u95ee\u9898\u5176\u5b9e\u5728\u6211\u4e4b\u524d\u5728\u67d0\u5bb6\u516c\u53f8\u5de5\u4f5c\u65f6\u4e5f\u6709\u8fc7\uff0c\u5f53\u65f6\u8fd9\u5bb6\u516c\u53f8\u7684\u5185\u90e8\u804a\u5929\u5de5\u5177\u4e5f\u662f\u5fae\u4fe1[^2]\u3002\u5177\u4f53\u6765\u8bf4\u6709\u8fd9\u4e48\u51e0\u4e2a\u95ee\u9898\u3002\\n\\n### \u516c\u79c1\u4e0d\u5206\\n\\n\u6211\u5bf9\u4e8e\u5fae\u4fe1\u7684\u5b9a\u4f4d\u4e3b\u8981\u8fd8\u662f\u4e00\u4e2a\u79c1\u4eba\u7684\u804a\u5929\u5de5\u5177\uff0c\u56e0\u6b64\u6211\u4e00\u76f4\u5f3a\u70c8\u53cd\u5bf9\u7528\u5fae\u4fe1\u6765\u5de5\u4f5c\u3002\u5f53\u5e74\u5728\u77e5\u4e4e\u5de5\u4f5c\u65f6\u5c31\u5927\u529b\u63a8\u5e7f Slack\uff0c\u867d\u7136 Slack \u5728\u56fd\u5185\u7684\u4f53\u9a8c\u4e00\u76f4\u4e0d\u592a\u597d\u3002\u5c31\u7b97\u4e0d\u7528 Slack\uff0c\u73b0\u5728\u56fd\u5185\u4e5f\u5df2\u7ecf\u6709\u5404\u79cd\u4f01\u4e1a\u804a\u5929\u5de5\u5177\u53ef\u4f9b\u9009\u62e9\u3002\u4f46\u4e3a\u4ec0\u4e48\u8fd8\u662f\u6709\u5f88\u591a\u4eba\u7528\u5fae\u4fe1\u6765\u5de5\u4f5c\u5462\uff1f\u5f88\u591a\u65f6\u5019\u4e0d\u662f\u4e0d\u60f3\u9009\uff0c\u800c\u662f\u6ca1\u5f97\u9009\u3002\u6211\u5c31\u5c5e\u4e8e\u8fd9\u79cd\u60c5\u51b5\uff0c\u867d\u7136\u516c\u53f8\u5185\u90e8\u4ee5 Slack \u6c9f\u901a\u4e3a\u4e3b\uff0c\u4f46\u662f\u4e0e\u5f88\u591a\u5916\u90e8\u5ba2\u6237\u6c9f\u901a\u5c31\u53ea\u80fd\u901a\u8fc7\u5fae\u4fe1\u3002\\n\\n### \u529f\u80fd\u8fc7\u76db\u4ee5\u53ca\u7f3a\u5931\\n\\n\u8fd9\u4e2a\u95ee\u9898\u548c\u4e0a\u4e00\u4e2a\u95ee\u9898\u4e92\u76f8\u5173\u8054\uff0c\u672c\u8d28\u4e0a\u5fae\u4fe1\u5e76\u4e0d\u662f\u4e3a\u5de5\u4f5c\u573a\u666f\u8bbe\u8ba1\uff0c\u56e0\u6b64\u5b83\u63d0\u4f9b\u7684\u5f88\u591a\u529f\u80fd\u662f\u300c\u591a\u4f59\u300d\u7684\uff0c\u751a\u81f3\u662f\u4e00\u79cd\u5e72\u6270\uff0c\u540c\u65f6\u53c8\u300c\u7f3a\u5931\u300d\u4e86\u5f88\u591a\u5728\u5de5\u4f5c\u573a\u666f\u4e2d\u9700\u8981\u7684\u529f\u80fd\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u5e0c\u671b\u628a\u4e0d\u540c\u7c7b\u578b\u7684\u6c9f\u901a\u5206\u7ec4\u4fbf\u4e8e\u5feb\u901f\u67e5\u627e\u548c\u6d88\u606f\u9694\u79bb\uff08\u6bd4\u5982\u5ba2\u6237\u7fa4\u662f\u4e00\u4e2a\u5206\u7ec4\uff0c\u79c1\u804a\u662f\u53e6\u4e00\u4e2a\u5206\u7ec4\uff09\uff0c\u540c\u65f6\u6211\u8fd8\u5e0c\u671b\u80fd\u591f\u9488\u5bf9\u8fd9\u4e9b\u5de5\u4f5c\u76f8\u5173\u7684\u804a\u5929\u4fe1\u606f\u5355\u72ec\u8bbe\u7f6e\u901a\u77e5\uff08\u6bd4\u5982\u5728\u975e\u5de5\u4f5c\u65f6\u95f4\u5173\u95ed\u63a8\u9001\uff0c\u56e0\u4e3a\u5927\u90e8\u5206\u6d88\u606f\u90fd\u662f\u4e0d\u9700\u8981\u7acb\u5373\u56de\u590d\u7684\uff09\u3002\u518d\u6bd4\u5982\u4e00\u76f4\u88ab\u547c\u5524\u4e86\u5f88\u4e45\u7684\u804a\u5929\u5386\u53f2\u8bb0\u5f55\u53ca\u591a\u8bbe\u5907\u6d88\u606f\u540c\u6b65\uff0c\u524d\u51e0\u5929\u8fd8\u770b\u5230\u4e00\u4e2a\u4f20\u95fb\u8bf4\u5fae\u4fe1\u53ef\u80fd\u63a8\u51fa\u4ed8\u8d39\u65b9\u6848\u6765\u5e2e\u4f60\u4fdd\u5b58\u5386\u53f2\u804a\u5929\u8bb0\u5f55[^4]\u3002\\n\\n### \u7cbe\u529b\u5206\u6563\\n\\n\u56fd\u5185\u7684\u5927\u5382\u90fd\u6709\u4e00\u4e2a\u300c\u574f\u6bdb\u75c5\u300d\uff0c\u559c\u6b22\u5728\u4e00\u4e2a\u5e94\u7528\u91cc\u585e\u5404\u79cd\u83ab\u540d\u5176\u5999\u7684\u529f\u80fd\uff0c\u5173\u4e8e\u8fd9\u4e00\u70b9\u5df2\u7ecf\u5728\u6211\u4e4b\u524d\u7684[\u4e00\u7bc7\u6587\u7ae0](/blog/2021/04/08/some-of-my-reading-habits)\u4e2d\u5410\u69fd\u8fc7\u3002\u81ea\u8ba4\u6211\u4e0d\u662f\u4e00\u4e2a\u81ea\u5236\u529b\u7279\u522b\u5f3a\u7684\u4eba\uff0c\u5982\u679c\u5448\u73b0\u592a\u591a\u96be\u514d\u5206\u5fc3\uff0c\u6240\u8c13\u773c\u4e0d\u89c1\u5fc3\u4e0d\u70e6\uff0c\u90a3\u4e9b\u4e0e\u5de5\u4f5c\u6c9f\u901a\u4e0d\u76f8\u5e72\u7684\u4e1c\u897f\u8fd8\u662f\u6682\u65f6\u4e0d\u770b\u6bd4\u8f83\u597d\uff08\u6216\u8005\u8bf4\u6ca1\u5fc5\u8981\u975e\u5f97\u5728\u5de5\u4f5c\u65f6\u95f4\u770b\uff09[^3]\u3002\\n\\n### \u6ca1\u6cd5\u81ea\u52a8\u5316\\n\\n\u7528\u8fc7 Slack \u7684\u4eba\u90fd\u77e5\u9053\uff0c\u4e00\u4e2a\u6709\u5f00\u653e API\u3001\u80fd\u591f\u96c6\u6210\u5404\u79cd\u81ea\u52a8\u5316\u7ec4\u4ef6\u7684\u804a\u5929\u5de5\u5177\u5c06\u4f1a\u53d8\u5f97\u975e\u5e38\u5f3a\u5927\uff0c\u5fae\u4fe1\u663e\u7136\u4e0d\u662f\u4e00\u4e2a\u5f00\u653e\u7684\u5e94\u7528\uff0c\u817e\u8baf\u4e5f\u4e0d\u5e0c\u671b\u9488\u5bf9\u4e2a\u4eba\u7528\u6237\u5f00\u653e\u8fd9\u6837\u7684\u529f\u80fd\u3002\\n\\n## \u6240\u4ee5\u8be5\u600e\u4e48\u529e\uff1f\\n\\n\u4f5c\u4e3a\u4e00\u4e2a\u4f9d\u7136\u6000\u63e3 DIY \u5ff5\u60f3\u7684\u4e2d\u5e74\u4eba[^5]\uff0c\u8fd8\u662f\u60f3\u9760\u4e00\u4e9b\u5916\u90e8\u5de5\u5177\u6765\u5b9e\u73b0\u6211\u7684\u9700\u6c42\uff0c\u5982\u679c\u6ca1\u6709\u73b0\u6210\u7684\u90a3\u5c31\u81ea\u5df1\u9f13\u6363\u4e00\u4e2a\u3002\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u4e8b\u5b9e\u662f\uff0c\u5fae\u4fe1\u5b98\u65b9\u80af\u5b9a\u4e0d\u63d0\u4f9b API\uff0c\u56e0\u6b64\u53ea\u80fd\u4f9d\u8d56\u6c11\u95f4\u529b\u91cf\u3002\u6240\u5e78\u7ecf\u8fc7\u4e0d\u592a\u957f\u65f6\u95f4\u7684\u641c\u7d22\u6211\u53d1\u73b0\u4e86 [Wechaty](https://wechaty.js.org) \u8fd9\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u7b80\u5355\u8bb2 Wechaty \u505a\u7684\u4e8b\u60c5\u5c31\u662f\u63d0\u4f9b\u7531\u4e00\u7fa4\u70ed\u5fc3\u7f51\u53cb\u7ef4\u62a4\u7684\u975e\u5b98\u65b9\u5fae\u4fe1 API\uff0c\u5f53\u7136\u73b0\u5728 Wechaty \u5df2\u7ecf\u4e0d\u4ec5\u9650\u4e8e\u652f\u6301\u5fae\u4fe1\uff0c\u4e5f\u652f\u6301\u5f88\u591a\u5176\u5b83\u804a\u5929\u5de5\u5177\uff0c\u4f46\u6211\u5173\u6ce8\u7684\u4e3b\u8981\u8fd8\u662f\u5fae\u4fe1\u3002\\n\\nWechaty \u7684\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\u662f\u300cPuppet\u300d\uff0c\u4f60\u53ef\u4ee5\u628a\u5b83\u7406\u89e3\u4e3a\u4e00\u4e2a\u4ee3\u7406\uff0c\u8d1f\u8d23\u5e2e\u4f60\u548c\u5b9e\u9645\u7684\u804a\u5929\u5de5\u5177\u901a\u4fe1\u3002\u540c\u4e00\u4e2a\u804a\u5929\u5de5\u5177\u53ef\u80fd\u6709\u591a\u79cd Puppet \u5b9e\u73b0\uff0c\u6bd4\u5982\u5fae\u4fe1\uff0c\u53ef\u4ee5\u662f\u57fa\u4e8e[\u5fae\u4fe1\u7f51\u9875\u7248](https://web.wechat.com)\u6765\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u662f\u57fa\u4e8e Pad \u7248\u6765\uff0c\u4ea6\u6216\u662f\u57fa\u4e8e Windows \u7248\u3002\u56e0\u6b64\u4f60\u53ef\u4ee5\u770b\u5230\u5176\u5b9e\u6211\u4eec\u5e76\u4e0d\u80fd\u5b8c\u5168\u8131\u79bb\u5fae\u4fe1\u5ba2\u6237\u7aef\uff0c\u53ea\u4e0d\u8fc7\u901a\u8fc7\u628a\u5fae\u4fe1\u5ba2\u6237\u7aef\u5c01\u88c5\u8d77\u6765\u7528\u5bf9\u7a0b\u5e8f\u66f4\u53cb\u597d\u7684\u65b9\u5f0f\u5448\u73b0\u3002\u76ee\u524d\u6211\u7528\u7684\u662f\u57fa\u4e8e\u5fae\u4fe1\u7f51\u9875\u7248\u7684 [puppet](https://github.com/wechaty/wechaty-puppet-wechat)\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cWechaty \u5e76\u4e0d\u80fd\u8ba9\u540c\u4e00\u4e2a\u5fae\u4fe1\u5e10\u53f7\u5728\u591a\u4e2a\u5ba2\u6237\u7aef\u767b\u5f55\uff0c\u4e5f\u5c31\u662f\u4e0d\u80fd\u540c\u65f6\u5728 Wechaty \u53ca\u5e38\u89c4\u7684\u5ba2\u6237\u7aef\u4e2d\u767b\u5f55\u3002\u53e6\u5916\u7531\u4e8e\u5fae\u4fe1\u7684\u9650\u5236\uff0c\u4e0d\u540c\u7684 puppet \u5b9e\u73b0\u53ef\u80fd\u5b58\u5728\u529f\u80fd\u5dee\u5f02\uff0c\u5173\u4e8e\u8fd9\u4e00\u70b9\u540e\u9762\u4f1a\u8bb2\u5230\u3002\\n\\n## \u80fd\u505a\u4ec0\u4e48\uff1f\\n\\n\u65e2\u7136\u6709\u4e86 API\uff0c\u90a3\u5c31\u53ef\u4ee5\u5f00\u5f00\u8111\u6d1e\u4e86\u3002\\n\\n\u9996\u5148\u6240\u6709\u5fae\u4fe1\u6d88\u606f\u90fd\u53ef\u4ee5\u4efb\u610f\u8f6c\u53d1\u5230\u4efb\u4f55\u804a\u5929\u5de5\u5177\uff0c\u56e0\u6b64\u6211\u6839\u636e\u4e00\u4e9b\u7279\u5b9a\u7684\u5173\u952e\u8bcd\u628a\u6240\u6709\u4e0e\u5de5\u4f5c\u6709\u5173\u7684\u6d88\u606f\u90fd\u8f6c\u53d1\u5230\u4e86 Slack \u4e0a\uff0c\u518d\u901a\u8fc7 Slack \u4e2d\u4e0d\u540c\u7684\u9891\u9053\u6765\u5bf9\u6d88\u606f\u8fdb\u884c\u5206\u7ec4\u7ba1\u7406\u3002\u9664\u4e86\u6587\u672c\u6d88\u606f\uff0c\u5fae\u4fe1\u8fd8\u6709\u4e00\u4e9b\u5176\u5b83\u7c7b\u578b\u7684\u6d88\u606f\uff0c\u5982\u56fe\u7247\u3001\u6587\u4ef6\uff0c\u8fd9\u4e9b\u4e5f\u53ef\u4ee5\u8f6c\u53d1\u5230 Slack \u4e0a\uff0c\u53ea\u4e0d\u8fc7\u76f8\u6bd4\u6587\u672c\u6d88\u606f\u9700\u8981\u505a\u4e00\u4e9b\u7279\u6b8a\u5904\u7406\uff08\u5982\u901a\u8fc7 Slack \u7684 [`files.upload`](https://api.slack.com/methods/files.upload) API \u4e0a\u4f20\u6587\u4ef6\uff09\u3002\\n\\n\u4e00\u4e9b\u7279\u6b8a\u7684\u5b57\u7b26\u6216\u8005\u5185\u5bb9\u4e5f\u9700\u8981\u505a\u7279\u522b\u5904\u7406\uff0c\u5982\u5fae\u4fe1\u8868\u60c5\u3001emoji\u3001\u6362\u884c\u7b26\u3001\u5fae\u4fe1\u516c\u4f17\u53f7\u6587\u7ae0\uff0c\u907f\u514d\u5728 Slack \u4e0a\u770b\u5230\u4e00\u4e32 HTML \u6807\u7b7e\u3002\u5fae\u4fe1\u8fd8\u4f1a\u81ea\u4f5c\u4e3b\u5f20\u628a\u4e00\u4e9b\u5e76\u4e0d\u662f URL \u7684\u6587\u672c\u5c01\u88c5\u6210 `<a>` \u6807\u7b7e\uff0c\u5bfc\u81f4\u4e00\u4e9b\u663e\u793a\u95ee\u9898\uff0c\u4e5f\u9700\u8981\u5355\u72ec\u5904\u7406\u3002\\n\\n\u63a5\u6536\u5230\u6d88\u606f\u4ee5\u540e\u662f\u5426\u53ef\u4ee5\u5728 Slack \u4e2d\u76f4\u63a5\u56de\u590d\u5462[^6]\uff1f\u5f53\u7136\u53ef\u4ee5\uff0c\u4f46\u8fd9\u91cc\u5c31\u5f97\u4f9d\u8d56 Slack \u7684\u4e00\u4e9b API \u6765\u5b9e\u73b0\u4e86\uff0c\u5728\u7ecf\u8fc7\u4e00\u756a\u7814\u7a76\u548c\u6743\u8861\u4ee5\u540e\u6211\u51b3\u5b9a\u8fd8\u662f\u7528\u6700\u539f\u59cb\u7684 [`message` API](https://slack.dev/bolt-js/concepts#message-listening) \u6765\u5b9e\u73b0\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8e\u65e9\u5e74\u7684 IRC\uff0c\u901a\u8fc7\u67d0\u4e9b\u5173\u952e\u8bcd\u6765\u89e6\u53d1\u673a\u5668\u4eba\u505a\u7279\u5b9a\u7684\u4e8b\u60c5\u3002\u4e3e\u4e2a\u6817\u5b50\uff0c\u5f53\u5728\u4e00\u4e2a Slack thread \u4e2d\u53d1\u9001\u4ee5 `re:` \u5f00\u5934\u7684\u6d88\u606f\u65f6\uff0c\u5c31\u4ee3\u8868\u8fd9\u662f\u4e00\u6761\u56de\u590d\uff0c\u4f1a\u6839\u636e\u8fd9\u4e2a thread \u7684\u7236\u6d88\u606f\u6765\u5224\u65ad\u5177\u4f53\u56de\u590d\u7ed9\u8c01\uff08\u67d0\u4e2a\u4eba\u6216\u8005\u67d0\u4e2a\u7fa4\uff09\u3002\u4e5f\u53ef\u4ee5\u76f4\u63a5\u53d1\u9001\u6d88\u606f\u4e0d\u4f9d\u8d56 Slack thread\uff0c\u6211\u5b9a\u4e49\u7684\u8bed\u6cd5\u662f\u7c7b\u4f3c `to: [\u5f20\u4e09] XXX` \u8fd9\u6837\u7684\u683c\u5f0f\u3002\u8fd9\u79cd\u65b9\u5f0f\u76f8\u6bd4\u76f4\u63a5\u56de\u590d\u6d88\u606f\u7a0d\u5fae\u9ebb\u70e6\u4e00\u4e9b\uff0c\u4f46\u6709\u4e00\u4e2a\u597d\u5904\u662f\u53ef\u4ee5\u5b9e\u73b0\u7fa4\u53d1\uff0c\u4e5f\u5c31\u662f\u521a\u624d\u547d\u4ee4\u4e2d\u7684\u63a5\u6536\u8005\u53ef\u4ee5\u662f\u591a\u4e2a\u3002\\n\\n\u5982\u679c\u60f3\u5728\u56de\u590d\u7684\u65f6\u5019\u540c\u65f6 @ \u67d0\u4e2a\u4eba\u5462\uff1f\u7ee7\u7eed\u4fee\u6539\u4e0a\u9762\u7684\u547d\u4ee4\uff0c\u4ee5 `re:` \u4e3a\u4f8b\uff0c\u5728\u540e\u9762\u53ef\u4ee5\u52a0\u4e0a\u4f60\u60f3\u8981 @ \u7684\u4eba\uff0c\u4e5f\u5c31\u662f\u53d8\u6210 `re: @[\u5f20\u4e09]` \u8fd9\u6837\u7684\u683c\u5f0f\u3002\\n\\n\u5982\u679c\u60f3\u53d1\u9001\u56fe\u7247\u6216\u8005\u6587\u4ef6\u5462\uff1f\u4e5f\u6ca1\u95ee\u9898\uff0cSlack \u7684 [`file` \u5bf9\u8c61](https://api.slack.com/types/file)\u5305\u542b\u5f88\u591a\u4fe1\u606f\uff0c\u6700\u4e3b\u8981\u7684\u662f `url_private` \u548c `name`\uff0c\u6709\u4e86\u8fd9\u4e24\u4e2a\u5c31\u53ef\u4ee5\u628a\u6587\u4ef6\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7136\u540e\u901a\u8fc7 Wechaty \u7684 API \u4e0a\u4f20\u5230\u5fae\u4fe1\u3002\u4e00\u4e2a\u989d\u5916\u529f\u80fd\u662f Slack \u652f\u6301\u5728\u4e00\u6761\u6d88\u606f\u4e2d\u9644\u5e26\u591a\u4e2a\u6587\u4ef6\uff0c\u4e5f\u5c31\u80fd\u5b9e\u73b0\u4e00\u6b21\u53d1\u9001\u591a\u4e2a\u6587\u4ef6\u5230\u5fae\u4fe1\u3002\\n\\n\u600e\u4e48\u77e5\u9053\u6d88\u606f\u662f\u5426\u53d1\u9001\u6210\u529f\u5462\uff1f\u611f\u8c22 Slack\uff0c\u6bcf\u6761\u6d88\u606f\u90fd\u53ef\u4ee5\u6709 [reaction](https://slack.com/intl/en-sg/help/articles/202931348-Use-emoji-and-reactions#react-to-a-message-with-emoji)\uff0c\u8fd9\u4e9b reaction \u5176\u5b9e\u5c31\u662f emoji\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u53d1\u9001\u72b6\u6001\u6dfb\u52a0\u4e0d\u540c\u7684 emoji\uff0c\u6bd4\u5982\u53d1\u9001\u6210\u529f\u5c31\u7528\u4e00\u4e2a\u7eff\u8272\u7684\u52fe\uff0c\u53d1\u9001\u5931\u8d25\u5c31\u7528\u4e00\u4e2a\u7ea2\u8272\u7684\u53c9\u3002\\n\\n\u81f3\u6b64\u57fa\u672c\u7684\u804a\u5929\u529f\u80fd\u5176\u5b9e\u5df2\u7ecf\u5b9e\u73b0\u4e86\uff0c\u5269\u4e0b\u7684\u5c31\u662f\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\uff0c\u6bd4\u5982\u641c\u7d22\u8054\u7cfb\u4eba\u3001\u641c\u7d22\u7fa4\u3001\u4fee\u6539\u8054\u7cfb\u4eba\u7684\u5907\u6ce8\u3001\u4fee\u6539\u7fa4\u540d\u79f0\u3001\u9080\u8bf7\u4eba\u5165\u7fa4\u3001\u67e5\u770b\u7fa4\u6210\u5458\u7b49\uff0c\u8fd9\u4e9b\u4e5f\u90fd\u53ef\u4ee5\u901a\u8fc7 Wechaty \u6765\u5b9e\u73b0\u3002\\n\\n\u751a\u81f3\u53ef\u4ee5\u8111\u6d1e\u518d\u5f00\u5927\u4e00\u4e9b\uff0c\u5973\u513f\u7684\u5b66\u6821\u8001\u5e08\u6bcf\u5929\u90fd\u4f1a\u53d1\u4e00\u4e9b\u5f53\u5929\u7684\u7167\u7247\u548c\u89c6\u9891\u5230\u5fae\u4fe1\u7fa4\u91cc\uff0c\u8fd9\u4e9b\u5185\u5bb9\u6211\u90fd\u60f3\u6c38\u4e45\u4fdd\u5b58\u4e0b\u6765\u3002\u5e38\u89c4\u7684\u505a\u6cd5\u53ea\u80fd\u662f\u901a\u8fc7\u5fae\u4fe1\u5ba2\u6237\u7aef\u624b\u52a8\u4e00\u4e2a\u4e00\u4e2a\u4e0b\u8f7d\uff0c\u5982\u679c\u662f\u5728\u624b\u673a\u4e0a\u4fdd\u5b58\u7684\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u518d\u5907\u4efd\u5230\u8fdc\u7aef\u7684\u5b58\u50a8\u3002\u6709\u4e86 Wechaty \u4ee5\u540e\u6211\u53ef\u4ee5\u76f4\u63a5\u5c06\u8fd9\u4e9b\u6587\u4ef6\u81ea\u52a8\u4fdd\u5b58\u90fd\u5bb6\u91cc\u7684 NAS\uff0c\u5e76\u4e14\u53ef\u4ee5\u6839\u636e\u65e5\u671f\u81ea\u52a8\u5f52\u7c7b\u6574\u7406\u3002\\n\\n## \u4e0d\u80fd\u505a\u4ec0\u4e48\uff1f\\n\\n\u8bf4\u5b8c\u80fd\u505a\u4ec0\u4e48\uff0c\u6211\u4eec\u6765\u8bf4\u8bf4\u4e0d\u80fd\u505a\u4ec0\u4e48\u3002\u9996\u5148\u6700\u5927\u7684\u524d\u63d0\u662f\u4efb\u4f55\u529f\u80fd\u90fd\u4e00\u5b9a\u662f\u9650\u5b9a\u5728\u5fae\u4fe1\u53ef\u4ee5\u5b9e\u73b0\u7684\u5047\u8bbe\u4e4b\u4e0b\u7684\uff0c\u5e38\u89c4\u5fae\u4fe1\u5ba2\u6237\u7aef\u6ca1\u6709\u529e\u6cd5\u505a\u5230\u7684\u4f60\u4e5f\u4e0d\u80fd\u505a\u5230\uff0c\u6bd4\u5982\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u52a0\u4e00\u4e2a\u597d\u53cb\u5e76\u4e14\u5728\u5fae\u4fe1\u4e2d\u9690\u85cf\u3002\\n\\n\u5176\u6b21\u67d0\u4e2a\u529f\u80fd\u662f\u5426\u80fd\u5b9e\u73b0\u5c31\u53d6\u51b3\u4e8e\u4f60\u7528\u7684\u5177\u4f53\u662f\u54ea\u4e2a puppet\uff0c\u62ff\u6211\u7528\u7684\u5fae\u4fe1\u7f51\u9875\u7248 puppet \u4e3a\u4f8b\uff0c\u5c31\u6ca1\u6709\u529e\u6cd5\u901a\u8fc7\u7fa4\u52a0\u597d\u53cb\uff0c\u4ee5\u53ca\u67d0\u4e2a\u4eba\u901a\u8fc7\u4e86\u4f60\u7684\u597d\u53cb\u7533\u8bf7\u4ee5\u540e\u53ea\u80fd\u91cd\u542f\u7a0b\u5e8f\u624d\u80fd\u770b\u5230\u8fd9\u4e2a\u65b0\u597d\u53cb\u3002\u6bcf\u6b21\u91cd\u542f\u4ee5\u540e\u4e5f\u4e0d\u662f\u6240\u6709\u5fae\u4fe1\u7fa4\u90fd\u80fd\u770b\u5230\uff0c\u53ea\u80fd\u770b\u5230\u8fd1\u671f\u6d3b\u8dc3\u7684\u7fa4\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f Wechaty \u793e\u533a\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b [Puppet Service](https://wechaty.js.org/docs/puppet-services)\uff0c\u8fd9\u4e9b\u670d\u52a1\u90fd\u662f\u5fc5\u987b\u4ed8\u8d39\u624d\u80fd\u4f7f\u7528\u7684\uff0c\u597d\u5904\u662f\u80fd\u5b9e\u73b0\u67d0\u4e9b\u514d\u8d39 puppet \u4e0d\u80fd\u5b9e\u73b0\u7684\u529f\u80fd\u3002\u4f46\u662f\u51fa\u4e8e\u9690\u79c1\u5b89\u5168[^7]\u4ee5\u53ca\u7075\u6d3b\u6027\u7684\u8003\u8651\uff0c\u6211\u6ca1\u6709\u4f7f\u7528\u8fd9\u4e9b\u670d\u52a1\u3002\\n\\n## \u4e0d\u8981\u7528\u6765\u505a\u4ec0\u4e48\uff1f\\n\\n\u6700\u540e\u8bb2\u8bb2\u4e0d\u8981\u7528\u6765\u505a\u4ec0\u4e48\uff0c\u6280\u672f\u53ef\u4ee5\u63a8\u52a8\u8fdb\u6b65\uff0c\u4e5f\u53ef\u4ee5\u6210\u4e3a\u300c\u5bb3\u4eba\u300d\u7684\u5de5\u5177\u3002\u4f60\u7684\u6240\u6709\u884c\u4e3a\u90fd\u4e0d\u80fd\u8fdd\u53cd\u5fae\u4fe1\u5bf9\u4e8e\u4e00\u4e2a\u6b63\u5e38\u7528\u6237\u7684\u5224\u5b9a\uff0c\u5426\u5219\u4f60\u5c06\u4f1a\u9762\u4e34\u5fae\u4fe1\u5bf9\u4f60\u7684\u60e9\u5904\uff0c\u8bf7\u9075\u5b88\u4e00\u4e2a\u666e\u901a\u7528\u6237\u5e94\u6709\u7684\u884c\u4e3a\u89c4\u8303\u3002\\n\\nP.S. \u6700\u65b0\u4e00\u671f Maybe News \u5df2\u7ecf\u9e3d\u4e86\u5f88\u4e45\u4e86\uff0c\u5176\u5b9e\u5185\u5bb9\u5f88\u65e9\u5c31\u5df2\u7ecf\u786e\u5b9a\u4e0b\u6765\uff0c\u53ea\u662f\u4e00\u76f4\u6ca1\u6709\u5b8c\u5de5\uff0c\u5728\u8fd9\u91cc\u5c31\u4e0d\u505a\u627f\u8bfa\uff0c\u53ea\u5e0c\u671b\u80fd\u591f\u5c3d\u5feb\u5b8c\u6210\u3002\\n\\n[^1]: \u5047\u88c5\u52a0\u4e86\u5f88\u591a~~\u91d1\u4e3b\u7238\u7238~~\u6295\u8d44\u4eba\\n[^2]: \u66fe\u7ecf\u8ddf\u8001\u677f\u5efa\u8bae\u8fc7\u591a\u6b21\u6362\u5230\u4f01\u4e1a\u5fae\u4fe1\\n[^3]: \u771f\u76f8\u662f\u8be5\u5206\u5fc3\u65f6\u8fd8\u662f\u4f1a\u5206\u5fc3\\n[^4]: \u8fd9\u90fd 1202 \u5e74\u4e86\u8fd8\u8981\u4ed8\u8d39\u540c\u6b65\u804a\u5929\u8bb0\u5f55\uff1f\\n[^5]: \u6240\u8c13\u300c\u5ff5\u5ff5\u4e0d\u5fd8\uff0c\u5fc5\u6709\u56de\u54cd\u300d\\n[^6]: \u5982\u679c\u4e0d\u80fd\u56de\u590d\u90a3\u5c31\u592a\u86cb\u75bc\u4e86\\n[^7]: \u4f60\u7684\u6d88\u606f\u90fd\u9700\u8981\u7ecf\u8fc7\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684\u670d\u52a1\u4e2d\u8f6c"},{"id":"/2021/07/08/maybe-news-issue-11","metadata":{"permalink":"/blog/2021/07/08/maybe-news-issue-11","source":"@site/blog/2021-07-08-maybe-news-issue-11.md","title":"Maybe News Issue #11","description":"\u672c\u671f\u5173\u952e\u8bcd\uff1aProcella\u3001PrestoDB@Facebook\u3001Apache Arrow\u3001S3 Consistency\u3001Feast\u3001Uptown Records\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1ahttps://maybe.news/issues/11\u3002","date":"2021-07-08T14:20:18.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":0.085,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Maybe News Issue #11","date":"2021-07-08 14:20:18 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"\u4e0d\u5728\u5fae\u4fe1\u91cc\u804a\u5fae\u4fe1","permalink":"/blog/2021/09/09/do-not-chat-on-wechat"},"nextItem":{"title":"Maybe News Issue #10","permalink":"/blog/2021/04/29/maybe-news-issue-10"}},"content":"\u672c\u671f\u5173\u952e\u8bcd\uff1aProcella\u3001PrestoDB@Facebook\u3001Apache Arrow\u3001S3 Consistency\u3001Feast\u3001Uptown Records\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1a[https://maybe.news/issues/11](https://maybe.news/issues/11)\u3002"},{"id":"/2021/04/29/maybe-news-issue-10","metadata":{"permalink":"/blog/2021/04/29/maybe-news-issue-10","source":"@site/blog/2021-04-29-maybe-news-issue-10.md","title":"Maybe News Issue #10","description":"\u4ece\u672c\u671f\u5f00\u59cb Maybe News \u5c06\u4f1a\u542f\u7528\u65b0\u7684\u57df\u540d\u548c\u7f51\u7ad9\uff1ahttps://maybe.news\uff0c\u4e2a\u4eba\u535a\u5ba2\u4f9d\u7136\u4f1a\u7ee7\u7eed\u66f4\u65b0\uff0c\u4e0d\u8fc7\u4e0d\u4f1a\u5168\u6587\u8f6c\u8f7d\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u8ba2\u9605\u8fc7\u90a3\u4e48\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u4e5f\u6b22\u8fce\u8bbf\u95ee\u65b0\u7ad9\u70b9\u8fdb\u884c\u8ba2\u9605\u3002","date":"2021-04-29T16:50:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":0.44,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Maybe News Issue #10","date":"2021-04-29 16:50:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #11","permalink":"/blog/2021/07/08/maybe-news-issue-11"},"nextItem":{"title":"\u6211\u7684\u4e00\u4e9b\u9605\u8bfb\u4e60\u60ef","permalink":"/blog/2021/04/08/some-of-my-reading-habits"}},"content":"> \u4ece\u672c\u671f\u5f00\u59cb Maybe News \u5c06\u4f1a\u542f\u7528\u65b0\u7684\u57df\u540d\u548c\u7f51\u7ad9\uff1a[https://maybe.news](https://maybe.news)\uff0c\u4e2a\u4eba\u535a\u5ba2\u4f9d\u7136\u4f1a\u7ee7\u7eed\u66f4\u65b0\uff0c\u4e0d\u8fc7\u4e0d\u4f1a\u5168\u6587\u8f6c\u8f7d\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u8ba2\u9605\u8fc7\u90a3\u4e48\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u4e5f\u6b22\u8fce\u8bbf\u95ee\u65b0\u7ad9\u70b9\u8fdb\u884c\u8ba2\u9605\u3002\\n\\n\u672c\u671f\u5173\u952e\u8bcd\uff1aTectonic\u3001Redlock\u3001Flexible Paxos\u3001\u660e\u5929\u7684\u76d0\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u8bbf\u95ee\uff1a[https://maybe.news/issues/10](https://maybe.news/issues/10)\u3002"},{"id":"/2021/04/08/some-of-my-reading-habits","metadata":{"permalink":"/blog/2021/04/08/some-of-my-reading-habits","source":"@site/blog/2021-04-08-some-of-my-reading-habits.md","title":"\u6211\u7684\u4e00\u4e9b\u9605\u8bfb\u4e60\u60ef","description":"\u4e0d\u77e5\u4e0d\u89c9 Maybe News \u5df2\u7ecf\u8981\u53d1\u5e03\u7b2c 10 \u671f\u4e86\uff08\u5176\u5b9e\u662f\u7b2c 11 \u671f\uff0c\u8d77\u59cb\u4e0b\u6807\u4e3a 0\uff09\uff0c\u672c\u6765\u8ba1\u5212\u5468\u66f4\uff0c\u4e00\u5ea6\u62d6\u5ef6\u5230\u5b63\u5ea6\u66f4\u611f\u89c9\u751a\u662f\u60ed\u6127\uff0c\u76ee\u524d\u7684\u613f\u671b\u662f\u80fd\u5c3d\u91cf\u4fdd\u6301\u534a\u6708\u66f4\u7684\u8282\u594f\u3002\u4eca\u5929\u8fd9\u7bc7\u662f\u60f3\u804a\u804a\u6211\u76ee\u524d\u7684\u4e00\u4e9b\u9605\u8bfb\u4e60\u60ef\uff0c\u6b63\u6240\u8c13\u300cYou are how you read\u300d\uff08\u4f60\u8bfb\u5565\u5c31\u662f\u5565\uff09\u3002\u6211\u5e76\u4e0d\u662f\u60f3\u8981\u4ecb\u7ecd\u4ec0\u4e48\u300c\u6210\u529f\u7ecf\u9a8c\u300d\uff0c\u4e5f\u4e0d\u662f\u7c7b\u4f3c\u300a\u641e\u7b11\u9ad8\u6548\u4eba\u58eb\u7684 X \u4e2a\u4e60\u60ef\u300b\u8fd9\u79cd\u9ad8\u6d53\u9e21\u6c64\uff0c\u53ea\u662f\u6211\u76ee\u524d\u4e0e\u9605\u8bfb\u6709\u5173\u7684\u4e00\u4e9b\u4e2a\u4eba\u603b\u7ed3\u3002","date":"2021-04-08T18:20:13.000Z","tags":[{"inline":true,"label":"reading","permalink":"/blog/tags/reading"},{"inline":true,"label":"thought","permalink":"/blog/tags/thought"}],"readingTime":11.96,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6211\u7684\u4e00\u4e9b\u9605\u8bfb\u4e60\u60ef","date":"2021-04-08 18:20:13 +0800","tags":["reading","thought"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #10","permalink":"/blog/2021/04/29/maybe-news-issue-10"},"nextItem":{"title":"Maybe News Issue #9","permalink":"/blog/2021/03/23/maybe-news-issue-9"}},"content":"\u4e0d\u77e5\u4e0d\u89c9 [Maybe News](/blog/tags/maybe-news) \u5df2\u7ecf\u8981\u53d1\u5e03\u7b2c 10 \u671f\u4e86\uff08\u5176\u5b9e\u662f\u7b2c 11 \u671f\uff0c\u8d77\u59cb\u4e0b\u6807\u4e3a 0\uff09\uff0c\u672c\u6765\u8ba1\u5212\u5468\u66f4\uff0c\u4e00\u5ea6\u62d6\u5ef6\u5230\u5b63\u5ea6\u66f4\u611f\u89c9\u751a\u662f\u60ed\u6127\uff0c\u76ee\u524d\u7684\u613f\u671b\u662f\u80fd\u5c3d\u91cf\u4fdd\u6301\u534a\u6708\u66f4\u7684\u8282\u594f\u3002\u4eca\u5929\u8fd9\u7bc7\u662f\u60f3\u804a\u804a\u6211\u76ee\u524d\u7684\u4e00\u4e9b\u9605\u8bfb\u4e60\u60ef\uff0c\u6b63\u6240\u8c13[\u300cYou are how you read\u300d](/blog/2020/06/10/maybe-news-issue-3)\uff08\u4f60\u8bfb\u5565\u5c31\u662f\u5565\uff09\u3002\u6211\u5e76\u4e0d\u662f\u60f3\u8981\u4ecb\u7ecd\u4ec0\u4e48\u300c\u6210\u529f\u7ecf\u9a8c\u300d\uff0c\u4e5f\u4e0d\u662f\u7c7b\u4f3c\u300a~~\u641e\u7b11~~\u9ad8\u6548\u4eba\u58eb\u7684 X \u4e2a\u4e60\u60ef\u300b\u8fd9\u79cd\u9ad8\u6d53\u9e21\u6c64\uff0c\u53ea\u662f\u6211\u76ee\u524d\u4e0e\u9605\u8bfb\u6709\u5173\u7684\u4e00\u4e9b\u4e2a\u4eba\u603b\u7ed3\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u8bba\u6587\\n\\n\u9996\u5148\u8bb2\u8bb2\u8bba\u6587\u9605\u8bfb\u3002\u6211\u9605\u8bfb\u8bba\u6587\u7684\u7ecf\u5386\u6700\u65e9\u5e94\u8be5\u8ffd\u6eaf\u5230\u672c\u79d1\u4e0a\u5b66\u7684\u65f6\u5019\uff0c\u5f53\u65f6\u56e0\u4e3a\u6bd5\u4e1a\u8bbe\u8ba1\u7684\u9700\u8981\u8bfb\u4e86 [Bigtable](https://research.google/pubs/pub27898) \u7684\u8bba\u6587\uff0c\u5e76\u7167\u732b\u753b\u864e\u7528 Go \u5199\u4e86\u4e00\u4e2a\u73b0\u5728\u53ea\u80fd\u79f0\u4e4b\u4e3a\u73a9\u5177\u7684\u5b9e\u73b0\u3002\u540e\u6765\u5de5\u4f5c\u4e2d\u65ad\u65ad\u7eed\u7eed\u4e5f\u4f1a\u542c\u8bf4\u4e00\u4e9b\u597d\u7684\u8bba\u6587\uff0c\u4f46\u5e76\u6ca1\u6709\u7cfb\u7edf\u5730\u53bb\u9605\u8bfb\u548c\u6574\u7406\u3002\u6700\u8fd1\u51e0\u5e74\u7684\u4e00\u4efd\u5de5\u4f5c\u56e0\u4e3a\u548c AI \u6709\u5173\uff0c\u624d\u5f00\u59cb\u6bd4\u8f83\u9891\u7e41\u5730\u63a5\u89e6\u4e1a\u754c\u7684\u8bba\u6587\uff0c\u5e76\u6709\u610f\u8bc6\u5730\u6536\u96c6\u4e00\u4e9b\u6211\u8ba4\u4e3a\u6bd4\u8f83\u597d\u7684\u8bba\u6587\u3002\u6536\u96c6\u7684\u6e20\u9053\u5176\u5b9e\u53ef\u4ee5\u6709\u5f88\u591a\u79cd\uff0c\u6700\u76f4\u63a5\u7684\u5c31\u662f\u53bb\u770b\u6bcf\u5e74\u5404\u4e2a\u9876\u4f1a\u7684\u7f51\u7ad9\uff0c\u4e0a\u9762\u90fd\u4f1a\u5217\u51fa\u4eca\u5e74\u5df2\u7ecf\u63a5\u53d7\u7684\u8bba\u6587\uff0c\u7c7b\u4f3c OSDI \u8fd9\u79cd\u4f1a\u8bae\u8fd8\u4f1a\u76f4\u63a5\u9644\u5e26 PDF \u94fe\u63a5\uff0c\u8282\u7701\u4e86\u4e0d\u5c11\u627e\u8bba\u6587\u7684\u65f6\u95f4\u3002\u53e6\u5916\u6bcf\u7bc7\u8bba\u6587\u6700\u540e\u7684\u300c\u5f15\u7528\u300d\u5176\u5b9e\u4e5f\u662f\u4e00\u4e2a\u53d1\u73b0\u5b9d\u85cf\u7684\u597d\u573a\u6240\uff0c\u4e00\u822c\u88ab\u597d\u8bba\u6587\u5f15\u7528\u7684\u8bba\u6587\u4e5f\u90fd\u4e0d\u4f1a\u5dee\uff0c\u5982\u679c\u4f60\u9605\u8bfb\u7684\u90fd\u662f\u540c\u4e00\u4e2a\u9886\u57df\u7684\u8bba\u6587\u4f1a\u53d1\u73b0\u6709\u4e9b\u8bba\u6587\u662f\u4f1a\u88ab\u53cd\u590d\u9891\u7e41\u5f15\u7528\u7684\u3002[The Morning Paper](https://blog.acolyer.org) \u662f\u6211\u6700\u559c\u6b22\u7684\u535a\u5ba2\u4e4b\u4e00\uff0c\u4f5c\u8005 [Adrian Colyer](https://accel.com/people/adrian-colyer) \u76ee\u524d\u662f Accel \u7684\u5408\u4f19\u4eba\uff0c\u4e4b\u524d\u662f Pivotal\u3001VMware \u548c SpringSource \u7684 CTO\uff0c\u53bb\u5e74\u75ab\u60c5\u671f\u95f4\u505c\u6b62\u66f4\u65b0\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u540e\u6765\u6062\u590d\u4e86\u6bcf\u6708\u66f4\u65b0 2~5 \u7bc7\u7684\u8282\u594f\uff0c\u4e0d\u8fc7\u73b0\u5728\u53c8[\u505c\u66f4](https://blog.acolyer.org/2021/02/08/the-ants-and-the-pheromones)\u4e86\uff08\u975e\u5e38\u60b2\u75db\uff09\u3002\u56fd\u5185\u7684\u8bdd D \u795e\u7684[\u300c\u9762\u5411\u4fe1\u4ef0\u7f16\u7a0b\u300d](https://draveness.me)\u535a\u5ba2\u4e5f\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u5730\u65b9\uff0c\u4e0d\u8fc7\u76f8\u6bd4\u4e4b\u4e0b\u8bba\u6587\u6570\u5c31\u5c11\u4e86\u5f88\u591a\u3002\\n\\n\u6b63\u5982\u5404\u4f4d\u6240\u770b\u5230\u7684\uff0c\u6211\u4f1a\u56fa\u5b9a\u5728\u6bcf\u4e00\u671f Maybe News \u7684\u5f00\u5934\u63a8\u8350\u4e00\u7bc7\u6211\u8fd1\u671f\u9605\u8bfb\u7684\u8ba4\u4e3a\u6bd4\u8f83\u597d\u7684\u8bba\u6587\uff0c\u6211\u5173\u6ce8\u7684\u9886\u57df\u4e5f\u57fa\u672c\u56f4\u7ed5\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u3001\u6570\u636e\u5e93\u3001\u5927\u6570\u636e\u3001AI \u8fd9\u51e0\u5757\u3002\u8fd9\u4e9b\u8bba\u6587\u6709\u65b0\u6709\u65e7\uff0c\u6bd5\u7adf\u9003\u4e0b\u7684\u8bfe\u8fd8\u662f\u5f97\u8865\u4e0a\u7684\u3002\u6bcf\u6b21\u9605\u8bfb\u5176\u5b9e\u90fd\u4f1a\u6709\u5f88\u591a\u7591\u95ee\uff0c\u5982\u679c\u6709\u673a\u4f1a\u7684\u8bdd\u6211\u4f1a\u5c3d\u91cf\u8054\u7cfb\u4e0a\u4f5c\u8005\u5bfb\u6c42\u7b54\u6848\uff08\u6bd4\u5982\u6700\u65b0\u7684[\u7b2c 9 \u671f](/blog/2021/03/23/maybe-news-issue-9)\uff09\uff0c\u6216\u8005\u53bb\u7ffb\u9605\u4f5c\u8005\u4ee5\u524d\u5199\u7684\u76f8\u5173\u8bba\u6587\uff0c\u5982\u679c\u662f\u5f00\u6e90\u8f6f\u4ef6\u4e5f\u4f1a\u53bb\u793e\u533a\u6216\u8005\u4ee3\u7801\u91cc\u627e\u627e\u3002\u9605\u8bfb\u7279\u522b\u662f\u7cbe\u8bfb\u4e00\u7bc7\u8bba\u6587\u662f\u9700\u8981\u975e\u5e38\u4e13\u6ce8\u7684\u73af\u5883\u7684\uff0c\u6211\u73b0\u5728\u6bd4\u8f83\u4e60\u60ef\u4e8e\u5728\u4e0a\u4e0b\u73ed\u7684\u5730\u94c1\u4e0a\u9605\u8bfb\uff0c\u7528\u7684\u8bbe\u5907\u662f\u4e00\u53f0 6 \u5bf8\u7684 Kindle\u3002\u53ef\u80fd\u4f1a\u6709\u4eba\u89c9\u5f97\u770b\u8bba\u6587\u662f\u4e0d\u662f\u6700\u597d\u7528\u5927\u5c4f\uff0c\u4f46\u6839\u636e\u6211\u7684\u4f53\u9a8c 6 \u5bf8 Kindle \u9664\u4e86\u5728\u6ed1\u52a8\u7684\u65f6\u5019\u5361\u4e00\u70b9\u4ee5\u5916\u5176\u5b83\u90fd\u8fd8\u597d\uff0c\u5e76\u4e14\u8fd9\u4e2a\u5c3a\u5bf8\u548c\u91cd\u91cf\u5728\u4fbf\u643a\u6027\u4e0a\u662f\u975e\u5e38\u6709\u4f18\u52bf\u7684\uff0c\u5982\u679c\u6362\u6210\u4e00\u53f0 10 \u5bf8\u6216\u8005\u66f4\u5927\u5c3a\u5bf8\u7684\u5e73\u677f\u5c31\u6ca1\u6709\u8fd9\u4e48\u65b9\u4fbf\u4e86\u3002\u4e3a\u4e86\u5b8c\u6210\u4e00\u7bc7\u8bba\u6587\u7684\u7b14\u8bb0\uff0c\u8fd9\u7bc7\u8bba\u6587\u4f1a\u88ab\u81f3\u5c11\u9605\u8bfb\u4e24\u904d\uff0c\u591a\u7684\u65f6\u5019\u8bfb\u4e0a\u56db\u4e94\u904d\u4e5f\u662f\u6709\u53ef\u80fd\u7684\u3002\\n\\n## \u90ae\u4ef6\u8ba2\u9605\\n\\n\u90ae\u4ef6\u8ba2\u9605\u662f\u6211\u53e6\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u9605\u8bfb\u6765\u6e90\uff0c\u65e5\u5e38\u8ba2\u9605\u4e86\u5982 [Golang Weekly](https://golangweekly.com)\u3001[KubeWeekly](https://kubeweekly.io)\u3001[SRE Weekly](https://sreweekly.com)\u3001[Data Science Weekly](https://www.datascienceweekly.org) \u7b49\u3002\u8fd9\u4e9b\u5185\u5bb9\u6211\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u7acb\u5373\u67e5\u770b\uff0c\u5927\u90e8\u5206\u65f6\u5019\u5b83\u4eec\u90fd\u662f\u5446\u5728\u6211\u7684\u6536\u4ef6\u7bb1\u91cc[^1]\u3002\u4e00\u822c\u6211\u4f1a\u5b9a\u671f\u53bb\u67e5\u770b\uff0c\u5982\u679c\u770b\u5230\u611f\u5174\u8da3\u7684\u5185\u5bb9\u4f1a\u5148\u653e\u5230 Instapaper \u91cc\uff08\u6216\u8005\u7c7b\u4f3c\u7684 Read It Later \u670d\u52a1\uff09\u3002\u653e\u5230 Instapaper \u91cc\u6709\u51e0\u4e2a\u597d\u5904\uff1a\u9996\u5148\u5982\u679c\u65f6\u95f4\u6765\u4e0d\u53ca\u53ef\u4ee5\u4e0d\u7528\u7acb\u5373\u90fd\u770b\u5b8c\uff0c\u4ee5\u524d\u6211\u6709\u4e00\u4e2a\u4e60\u60ef\u662f\u6ca1\u770b\u5b8c\u7684\u6d4f\u89c8\u5668 tab \u5c31\u8fd9\u6837\u4e00\u76f4\u5f00\u7740\uff0c\u65f6\u95f4\u957f\u4e86\u4f1a\u53d1\u73b0\u6d4f\u89c8\u5668\u91cc\u4fdd\u7559\u4e86\u5f88\u591a tab\uff0c\u4e0d\u4ec5\u5f71\u54cd\u673a\u5668\u6027\u80fd\u67e5\u627e\u7684\u65f6\u5019\u4e5f\u5f88\u4e0d\u65b9\u4fbf\uff1b\u53e6\u5916\u5c31\u662f Instapaper \u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u7edf\u4e00\u7684\u5f52\u6863\uff0c\u4fbf\u4e8e\u641c\u7d22\u66fe\u7ecf\u770b\u8fc7\u7684\u5185\u5bb9\uff1b\u6700\u540e\u6211\u53ef\u4ee5\u7528\u4efb\u4f55\u6211\u559c\u6b22\u7684\u9605\u8bfb\u5668\u5728\u4efb\u4f55\u8bbe\u5907\u4e0a\u9605\u8bfb\uff0c\u73b0\u5728\u6211\u7528\u7684\u662f [Reeder](https://reederapp.com)\uff0c\u652f\u6301 macOS \u548c iOS\uff0c\u652f\u6301 RSS \u8ba2\u9605\uff0c\u4e5f\u652f\u6301\u5305\u62ec Instapaper \u5728\u5185\u7684\u591a\u79cd\u670d\u52a1\uff0c\u8fd9\u6837\u5f88\u591a\u788e\u7247\u65f6\u95f4\u4e5f\u53ef\u4ee5\u7528\u6765\u9605\u8bfb\u6587\u7ae0\u3002\u4e0d\u8fc7 Reeder \u6709\u4e00\u4e2a\u9700\u8981\u5410\u69fd\u7684\u5730\u65b9\u5728\u4e8e\u4e0d\u80fd\u8bb0\u4f4f\u6587\u7ae0\u7684\u9605\u8bfb\u4f4d\u7f6e\uff0c\u8fd9\u6837\u5f53\u6211\u4e0b\u6b21\u6253\u5f00\u7684\u65f6\u5019\u6709\u53ef\u80fd\u9700\u8981\u518d\u91cd\u65b0\u6eda\u52a8\u5230\u4e0a\u6b21\u9605\u8bfb\u7684\u5730\u65b9\u3002\u9664\u6b64\u4e4b\u5916\uff0cReeder \u662f\u4e00\u4e2a\u4f53\u9a8c\u975e\u5e38\u68d2\u7684\u5de5\u5177\uff0c\u6211\u4ece\u6700\u65e9\u7684\u7248\u672c\u4e00\u76f4\u7528\u5230\u73b0\u5728\u7684 Reeder 5\u3002\\n\\n## \u5fae\u4fe1\u516c\u4f17\u53f7\\n\\n\u5fae\u4fe1\u516c\u4f17\u53f7\u662f\u4e00\u4e2a\u6bd4\u8f83\u7279\u522b\u7684\u5b58\u5728\uff0c\u4e0d\u77e5\u9053\u4ece\u4ec0\u4e48\u65f6\u5019\u5f00\u59cb\uff0c\u5927\u5bb6\u90fd\u559c\u6b22\u901a\u8fc7\u516c\u4f17\u53f7\u6765\u53d1\u5e03\u6d88\u606f\u548c\u6587\u7ae0\u3002\u5982\u679c\u8bf4 Web 2.0 \u7684\u4ee3\u8868\u4e4b\u4e00\u662f\u535a\u5ba2\uff0c\u90a3 Web 3.0 \u53ef\u80fd\u5c31\u662f\u5fae\u4fe1\u516c\u4f17\u53f7[^2]\uff1f\u4f46\u6211\u4e00\u76f4\u8ba4\u4e3a\u5fae\u4fe1\u516c\u4f17\u53f7\u662f\u8fdd\u80cc\u4e07\u7ef4\u7f51[^3]\u7cbe\u795e\u7684\uff0c\u6216\u8005\u8bf4\u6574\u4e2a\u79fb\u52a8\u4e92\u8054\u7f51\u90fd\u662f\uff0c\u4e5f\u6709\u4eba[\u8bf4](https://www.wired.com/2010/08/ff-webrip)\u4e07\u7ef4\u7f51\u65e9\u5c31\u5df2\u7ecf\u6b7b\u4e86[^4]\u3002\u6211\u66fe\u7ecf\u5c1d\u8bd5\u8fc7\u8fd0\u8425\u4e00\u4e2a\u81ea\u5df1\u7684\u516c\u4f17\u53f7\uff0c\u57fa\u4e8e\u79cd\u79cd\u539f\u56e0\u76ee\u524d\u5df2\u7ecf\u5e9f\u5f03[^5]\u3002\u4e00\u4e9b\u532a\u5937\u6240\u601d\u7684\u9650\u5236\u4f7f\u5f97\u5728\u516c\u4f17\u53f7\u91cc\u64b0\u5199\u548c\u9605\u8bfb\u6587\u7ae0\u53d8\u5f97\u6781\u4e0d\u6109\u5feb\uff0c\u6bd4\u5982\u4e0d\u652f\u6301\u4efb\u4f55\u5f62\u5f0f\u7684\u5916\u94fe\u3001\u53d1\u5e03\u540e\u4e0d\u80fd\u7f16\u8f91[^6]\u3001\u5f3a\u5236\u9700\u8981\u4e00\u4e2a\u5934\u56fe\u3001\u6bcf\u5929\u63a8\u9001\u6b21\u6570\u9650\u5236\u3001\u9605\u8bfb\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u6d88\u606f\u901a\u77e5[^7]\u3001\u5728\u684c\u9762\u7aef\u6ca1\u6709\u4e00\u4e2a\u597d\u7684\u9605\u8bfb\u5165\u53e3[^8]\u3001\u5c01\u95ed\u7684\u751f\u6001[^9]\u3002\u5728\u6211\u770b\u6765\u516c\u4f17\u53f7\u5e76\u4e0d\u9002\u5408\u6df1\u5ea6\u9605\u8bfb\uff0c\u66f4\u9002\u5408\u53d1\u5e03\u4e00\u4e9b\u65f6\u6548\u6027\u7684\u6d88\u606f[^10]\uff0c\u4f46\u786e\u5b9e\u6709\u4e00\u4e9b\u597d\u7684\u5185\u5bb9\u751f\u4ea7\u8005\u9009\u62e9\u4e86\u7528\u516c\u4f17\u53f7\u4f5c\u4e3a\u552f\u4e00\u7684\u53d1\u5e03\u5e73\u53f0\u3002\u56e0\u6b64\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5173\u4e8e\u600e\u4e48\u6bd4\u8f83\u8212\u9002\u5730\u9605\u8bfb\u516c\u4f17\u53f7\u6587\u7ae0\u6210\u4e86\u56f0\u6270\u6211\u7684\u95ee\u9898[^11]\uff0c\u76f4\u5230\u6700\u8fd1\u5728\u770b\u4e00\u7bc7[\u6587\u7ae0](https://www.zmonster.me/2020/04/17/wechat-articles-rss-solution.html)\u4ecb\u7ecd\u5982\u4f55\u81ea\u5df1\u642d\u5efa\u4e00\u4e2a\u516c\u4f17\u53f7\u7684 RSS \u670d\u52a1\u65f6\uff0c\u77e5\u9053\u4e86\u4e00\u4e9b\u53ef\u4ee5\u8f6c\u6210 RSS \u7684\u65b9\u6cd5\u3002\u672c\u6765\u4e5f\u60f3\u7167\u7740\u5f04\u4e00\u4e2a\uff0c\u4f46\u662f\u56e0\u4e3a\u8001\u5e74\u4eba\u6bd4\u8f83\u61d2\uff0c\u4e0d\u592a\u60f3 DIY\uff0c\u4e8e\u662f\u8bd5\u7528\u4e86\u6587\u7ae0\u4e2d\u63d0\u5230\u7684\u4ed8\u8d39\u670d\u52a1 [WeRSS](https://werss.app)\u3002\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u7684\u4f53\u9a8c\uff0c\u9664\u4e86\u6587\u7ae0\u66f4\u65b0\u6709\u4e00\u5b9a\u5ef6\u65f6[^12]\u4ee5\u53ca\u770b\u4e0d\u5230\u8bc4\u8bba\u4ee5\u5916\uff0c\u5176\u5b83\u90fd\u6ca1\u5565\u95ee\u9898\u3002\u76ee\u524d\u6211\u8fd8\u662f\u4f1a\u7ee7\u7eed\u7528\u5fae\u4fe1\u6765\u9605\u8bfb\u90e8\u5206\u516c\u4f17\u53f7\uff0c\u4f46\u57fa\u672c\u4ec5\u9650\u4e8e\u65f6\u6548\u7c7b\u7684\u6d88\u606f\uff0c\u8ba9\u5fae\u4fe1\u56de\u5f52\u804a\u5929\u7684\u672c\u8d28\u800c\u4e0d\u662f\u4e00\u4e2a\u5565\u90fd\u5f80\u91cc\u585e\u7684\u5927\u6742\u70e9\u3002\\n\\n## RSS\\n\\n[Google Reader](https://en.wikipedia.org/wiki/Google_Reader) \u867d\u7136\u6b7b\u4e86\uff0c\u4f46\u662f RSS \u8fd8\u6d3b\u7740\u3002\u4f5c\u4e3a Web 2.0 \u65f6\u4ee3\u7684\u300c\u9057\u8001\u300d\uff0c\u6211\u4f9d\u7136\u4fdd\u7559\u4e86\u7528 RSS \u7684\u4e60\u60ef\u3002\u524d\u9762\u63d0\u5230\u5fae\u4fe1\u516c\u4f17\u53f7\u6587\u7ae0\u76ee\u524d\u6211\u5df2\u7ecf\u662f\u901a\u8fc7 RSS \u7684\u65b9\u5f0f\u6765\u9605\u8bfb\uff0c\u9664\u6b64\u4e4b\u5916\u6211\u8fd8\u8ba2\u9605\u4e86\u4e00\u4e9b\u611f\u5174\u8da3\u7684\u81f3\u4eca\u4f9d\u7136\u5728\u66f4\u65b0\u7684\u535a\u5ba2\u3002\u4f46\u603b\u7684\u6765\u8bf4\uff0c\u7528 RSS \u7684\u9891\u7387\u5df2\u7ecf\u6bd4\u4ee5\u524d\u5c11\u4e86\u5f88\u591a\u3002\\n\\n## \u7eb8\u8d28\u4e66\u7c4d\\n\\n\u81ea\u9ad8\u4e2d\u6bd5\u4e1a\u4ee5\u540e\uff0c\u6211\u9605\u8bfb\u7eb8\u8d28\u4e66\u7c4d\u7684\u9891\u7387\u5c31\u5f00\u59cb\u5927\u5e45\u964d\u4f4e\uff08\u5927\u5b66\u7684\u4e13\u4e1a\u4e66\u7c4d\u9664\u5916\uff09\uff0c\u4ee5\u524d\u4fdd\u6301\u7684\u6bcf\u6708\u56fa\u5b9a\u8d2d\u4e70\u671f\u520a\u6742\u5fd7\u7684\u4e60\u60ef\u4e5f\u6ca1\u80fd\u5f97\u4ee5\u5ef6\u7eed\uff0c\u8c46\u74e3\u7684[\u8bfb\u4e66\u5217\u8868](https://book.douban.com/people/xiaogaozi/collect)\u4e5f\u8fd8\u505c\u7559\u5728 2018 \u5e74\u3002\u5f52\u6839\u7ed3\u5e95\u53ef\u80fd\u8fd8\u662f\u6ca1\u6709\u517b\u6210\u5b9a\u671f\u8bfb\u4e66\u7684\u4e60\u60ef[^13]\uff0c\u76f8\u6bd4\u4e4b\u4e0b\u6211\u7684\u53e6\u4e00\u4e2a\u670b\u53cb\u5728\u6bd5\u4e1a\u591a\u5e74\u4ee5\u540e\u4f9d\u7136\u4fdd\u6301\u7740\u6bcf\u5e74\u9605\u8bfb\u4e00\u5b9a\u6570\u91cf\u7684\u4e66\u7c4d\u3002\u770b\u4e86\u4e0b\u5bb6\u91cc\u4e66\u67b6\u4e0a\u7684\u85cf\u4e66\uff0c\u57fa\u672c\u5305\u542b\u8fd9\u4e48\u51e0\u7c7b\uff1a\u4e13\u4e1a\u5de5\u5177\u4e66\u3001\u91d1\u878d\u3001\u88c5\u4fee\u3001\u5c0f\u8bf4\u3001\u6f2b\u753b\u3001\u5409\u4ed6\u8c31\u3002\u6700\u8fd1\u5728\u8e6d\u8001\u5a46\u7684\u6f2b\u753b\u4e66\u770b\uff0c\u662f\u5927\u53cb\u514b\u6d0b\u7684\u300a\u963f\u57fa\u62c9\u300b\uff0c\u867d\u7136\u5df2\u7ecf\u770b\u8fc7\u52a8\u753b\uff0c\u4f46\u611f\u89c9\u6f2b\u753b\u7684\u5185\u5bb9\u66f4\u52a0\u4e30\u5bcc\u3002\u8fd9\u91cc\u5c31\u4e0d\u7acb\u4ec0\u4e48 flag \u4e86\uff0c\u6709\u673a\u4f1a\u7684\u8bdd\u8fd8\u662f\u5e0c\u671b\u4ee5\u540e\u5c3d\u91cf\u591a\u770b\u4e66\uff0c\u628a\u9ad8\u4e2d\u7684\u4e60\u60ef\u91cd\u65b0\u6361\u8d77\u6765\u3002\\n\\n\u9664\u4e86\u9605\u8bfb\uff0c\u6700\u8fd1\u51e0\u5e74\u4e5f\u517b\u6210\u4e86\u542c\u64ad\u5ba2\u7684\u4e60\u60ef\uff0c\u5173\u4e8e\u8fd9\u4e2a\u53ef\u4ee5\u4ee5\u540e\u518d\u8bf4\uff0c\u5982\u679c\u4f60\u559c\u6b22\u6b22\u8fce\u8ba2\u9605\u6211\u7684\u535a\u5ba2\u3002\\n\\n[^1]: \u6240\u4ee5 [Inbox Zero](https://www.youtube.com/watch?v=z9UjeTMb3Yk) \u57fa\u672c\u8ddf\u6211\u4e5f\u6ca1\u5565\u5173\u7cfb\u4e86\\n[^2]: \u4e0d\u8fc7\u4e5f\u6709\u4eba\u8bf4 Web 3.0 \u7684\u4ee3\u8868\u662f\u533a\u5757\u94fe\uff0cV \u795e\u4e07\u5bff\u65e0\u7586\uff01\\n[^3]: \u73b0\u5728\u8fd8\u6709\u591a\u5c11\u4eba\u63d0\u5230\u8fd9\u4e2a\u8bcd\u6c47\uff1f\\n[^4]: \u6216\u8005[\u6ca1\u6b7b](https://www.wired.com/insights/2014/02/web-dead)\\n[^5]: \u6211\u5f53\u7136\u4e0d\u4f1a\u628a\u539f\u56e0\u5f52\u7ed3\u4e3a\u81ea\u5df1\u592a\u61d2\\n[^6]: \u53ea\u80fd\u6539\u51e0\u4e2a\u5b57\u4e5f\u80fd\u53eb\u7f16\u8f91\uff1f\\n[^7]: \u4e3a\u6b64\u6211\u7ecf\u5e38\u9519\u8fc7\u91cd\u8981\u7684\u6d88\u606f\\n[^8]: \u522b\u8ddf\u6211\u63d0\u684c\u9762\u7248\u5fae\u4fe1\uff0c\u8fd9\u73a9\u610f\u513f\u53ea\u80fd\u52c9\u5f3a\u53eb\u80fd\u7528\u3002\\n[^9]: \u67d0\u79cd\u7a0b\u5ea6\u4e0a\u6765\u8bf4\u5df2\u7ecf\u6253\u9020\u4e86\u4e00\u4e2a\u95ed\u73af\uff01\\n[^10]: \u6bd4\u5982\u653f\u5e9c\u53c8\u6743\u5a01\u53d1\u5e03\u4e86\u4ec0\u4e48\u65b0\u95fb\u3001\u4f60\u5bb6\u5bf9\u9762\u5546\u573a\u7684\u4fc3\u9500\u6d3b\u52a8\u3001\u4f60\u7684\u4fe1\u7528\u5361\u8be5\u8fd8\u94b1\u4e86\u3001\u4f60\u8be5\u53bb\u62ff\u5feb\u9012\u4e86\\n[^11]: \u4e4b\u524d\u5728 Twitter \u4e0a\u6709\u8fc7\u4e00\u4e2a[\u8ba8\u8bba](https://twitter.com/xiaogaozi/status/1270657764709355520)\\n[^12]: \u8fd9\u4e2a\u662f\u76ee\u524d\u5927\u90e8\u5206\u89e3\u51b3\u65b9\u6848\u7684\u901a\u75c5\\n[^13]: \u5f52\u6839\u7ed3\u5e95\u8fd8\u662f\u61d2"},{"id":"/2021/03/23/maybe-news-issue-9","metadata":{"permalink":"/blog/2021/03/23/maybe-news-issue-9","source":"@site/blog/2021-03-23-maybe-news-issue-9.md","title":"Maybe News Issue #9","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2021-03-23T12:30:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":25.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #9","date":"2021-03-23 12:30:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"\u6211\u7684\u4e00\u4e9b\u9605\u8bfb\u4e60\u60ef","permalink":"/blog/2021/04/08/some-of-my-reading-habits"},"nextItem":{"title":"Maybe News Issue #8","permalink":"/blog/2021/02/04/maybe-news-issue-8"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Virtual Consensus in Delos\\n\\n[[\u94fe\u63a5]](https://www.usenix.org/conference/osdi20/presentation/balakrishnan)\\n\\n\u4e00\u81f4\u6027\u534f\u8bae\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u9886\u57df\u7684\u6838\u5fc3\u6982\u5ff5\uff0c\u5728\u4e4b\u524d\u4ecb\u7ecd\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\u7684[\u4e00\u7bc7\u6587\u7ae0](/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5)\u4e2d\u5df2\u7ecf\u7b80\u5355\u68b3\u7406\u4e86\u4e00\u81f4\u6027\u534f\u8bae\u7684\u4e0d\u540c\u7c7b\u522b\u4ee5\u53ca\u4e00\u4e9b\u7ecf\u5178\u7684\u5171\u8bc6\u7b97\u6cd5\u3002\u4eca\u5929\u8981\u4ecb\u7ecd\u7684\u8fd9\u7bc7\u8bba\u6587\u5e76\u4e0d\u662f\u53d1\u660e\u4e86\u4e00\u79cd\u65b0\u7684\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u800c\u662f\u5bf9\u4e00\u81f4\u6027\u534f\u8bae\u8fdb\u884c\u4e86\u62c6\u89e3\u548c\u62bd\u8c61\uff08\u5373\u8bba\u6587\u6807\u9898\u4e2d Virtual Consensus \u7684\u542b\u4e49\uff09\uff0c\u8fd9\u4e2a\u62bd\u8c61\u53ef\u4ee5\u7b80\u5316\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u5f00\u53d1\u548c\u52a0\u5feb\u8fed\u4ee3\u901f\u5ea6\u3002Delos \u76ee\u524d\u5df2\u7ecf\u4f5c\u4e3a Facebook \u96c6\u7fa4\u8c03\u5ea6\u7ba1\u7406\u7cfb\u7edf [Twine](https://www.usenix.org/conference/osdi20/presentation/tang) \u7684\u63a7\u5236\u5e73\u9762\uff08control plane\uff09\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7a33\u5b9a\u8fd0\u884c\u6570\u5e74\uff08Delos \u662f\u5e0c\u814a Cyclades \u7fa4\u5c9b\u4e2d\u4e00\u4e2a\u5c9b\u5c7f\u7684\u540d\u79f0\uff0c\u79bb Paxos \u5c9b\u4e0d\u8fdc\uff09\u3002\u672c\u7bc7\u8bba\u6587\u53d1\u8868\u5728 2020 \u5e74\u7684 OSDI \u4f1a\u8bae\uff0c\u5e76\u83b7\u5f97\u4e86\u5f53\u5e74\u7684\u6700\u4f73\u8bba\u6587\u3002\\n\\n\u5728\u4ecb\u7ecd Delos \u7cfb\u7edf\u4e4b\u524d\u5148\u8bb2\u8bb2\u4e3a\u4ec0\u4e48\u8981\u6709 Virtual Consensus \u8fd9\u4e2a\u6982\u5ff5\u3002\u73b0\u6709\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u901a\u5e38\u90fd\u662f\u57fa\u4e8e\u67d0\u4e00\u79cd\u4e00\u81f4\u6027\u534f\u8bae\u6765\u5f00\u53d1\u7684\uff0c\u6bd4\u5982 ZooKeeper \u662f\u57fa\u4e8e Zab\u3001etcd \u662f\u57fa\u4e8e Raft\u3001Chubby \u662f\u57fa\u4e8e Paxos\u3002\u540c\u65f6\u5b66\u672f\u754c\u5bf9\u4e8e\u4e00\u81f4\u6027\u534f\u8bae\u7684\u7814\u7a76\u5e76\u6ca1\u6709\u4e2d\u6b62\uff0c\u4e0d\u65ad\u4f1a\u6709\u65b0\u7684\u534f\u8bae\u51fa\u73b0\uff08[\u5927\u90e8\u5206](https://vadosware.io/post/paxosmon-gotta-concensus-them-all)\u53ef\u80fd\u90fd\u662f\u57fa\u4e8e Paxos \u8fdb\u884c\u6539\u826f\uff09\u3002\u56e0\u4e3a\u8fd9\u4e9b\u7cfb\u7edf\u7684\u5206\u5e03\u5f0f\u534f\u8bae\u5c42\u548c\u72b6\u6001\u590d\u5236\u5c42\u662f\u7d27\u8026\u5408\u7684\uff0c\u5982\u679c\u60f3\u8981\u4ece\u4e00\u79cd\u4e00\u81f4\u6027\u534f\u8bae\u5207\u6362\u5230\u53e6\u4e00\u79cd\uff0c\u57fa\u672c\u4e0a\u662f\u9700\u8981\u91cd\u5199\u7cfb\u7edf\u7684\uff08\u5f53\u7136\u5f88\u591a\u4eba\u4e5f\u559c\u6b22\u91cd\u590d\u9020\u8f6e\u5b50\uff09\u3002\u65f6\u95f4\u56de\u6eaf\u5230 2017 \u5e74\uff0c\u5f53\u65f6\u7684 Facebook \u9700\u8981\u4e00\u4e2a\u4fdd\u8bc1\u4e00\u81f4\u6027\u3001\u53ef\u7528\u6027\u3001\u6301\u4e45\u6027\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u4f5c\u4e3a\u4ed6\u4eec\u7684\u6838\u5fc3\u63a7\u5236\u5e73\u9762\u6765\u5b58\u50a8\u5143\u6570\u636e\uff0c\u8fd9\u4e2a\u7cfb\u7edf\u8981\u5728 6-9 \u4e2a\u6708\u4e4b\u5185\u4e0a\u7ebf\uff0c\u5e76\u4e14\u652f\u6301\u6301\u7eed\u7684\u8fed\u4ee3\u3002\u867d\u7136\u5f53\u65f6\u5df2\u7ecf\u6709\u4e00\u4e9b\u73b0\u6210\u7684\u7cfb\u7edf\u53ef\u4ee5\u9009\u62e9\uff0c\u6bd4\u5982 ZooKeeper\u3001[ZippyDB](https://www.usenix.org/conference/osdi18/presentation/annamalai)\u3001[UDB](https://www.usenix.org/conference/fast20/presentation/cao-zhichao)\uff08\u5206\u5e03\u5f0f MySQL\uff09\u3001[LogDevice](https://logdevice.io)\uff0c\u4f46\u8fd9\u4e9b\u7cfb\u7edf\u8981\u4e48\u4e0d\u652f\u6301\u590d\u6742\u7684 API\uff08\u6bd4\u5982 get\u3001put\u3001multi-get\u3001multi-put\u3001scan \u7b49\uff09\uff0c\u8981\u4e48\u53ef\u7528\u6027\u8fbe\u4e0d\u5230\u8981\u6c42\u3002\u66f4\u91cd\u8981\u7684\u662f\u6bcf\u4e2a\u7cfb\u7edf\u90fd\u548c\u67d0\u79cd\u4e00\u81f4\u6027\u534f\u8bae\u7ed1\u5b9a\uff0c\u6ca1\u6cd5\u5e73\u6ed1\u8fc7\u6e21\u5230\u65b0\u7684\u534f\u8bae\u3002\\n\\n\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c Delos \u63d0\u51fa\u4e86 Virtual Consensus \u8fd9\u4e2a\u6982\u5ff5\uff08\u4ee5\u4e0b\u7b80\u79f0 VC\uff09\uff0cVC \u7684\u76ee\u6807\u662f\u53ef\u4ee5\u5e73\u6ed1\u5207\u6362\u4e00\u81f4\u6027\u534f\u8bae\uff08\u751a\u81f3\u540c\u65f6\u4f7f\u7528\u591a\u79cd\u534f\u8bae\uff09\uff0c\u5e76\u628a\u4e00\u81f4\u6027\u534f\u8bae\u4e2d\u5f88\u591a\u53ef\u4ee5\u590d\u7528\u7684\u903b\u8f91\u62bd\u51fa\u6765\uff0c\u4ece\u800c\u964d\u4f4e\u5b9e\u73b0\u65b0\u534f\u8bae\u7684\u6210\u672c\u3002 VC \u628a\u4e00\u81f4\u6027\u534f\u8bae\u5206\u89e3\u4e3a\u4e86\u63a7\u5236\u5e73\u9762\u548c\u6570\u636e\u5e73\u9762\u4e24\u90e8\u5206\uff0c\u63a7\u5236\u5e73\u9762\u8d1f\u8d23 leader \u9009\u4e3e\u3001\u914d\u7f6e\u53c2\u6570\u3001\u6210\u5458\u7ba1\u7406\u7b49\uff0c\u6570\u636e\u5e73\u9762\u8d1f\u8d23\u4fdd\u8bc1\u6570\u636e\u7684\u987a\u5e8f\uff08ordering\uff09\u4ee5\u53ca\u6301\u4e45\u6027\u3002\u5728 VC \u4e2d\u63a7\u5236\u5e73\u9762\u79f0\u4f5c\u300cVirtualLog\u300d\uff0c\u8fd9\u662f\u53ef\u4ee5\u590d\u7528\u7684\u90e8\u5206\uff1b\u6570\u636e\u5e73\u9762\u79f0\u4f5c\u300cLoglet\u300d\uff0cLoglet \u53ef\u4ee5\u7528\u4e0d\u540c\u7684\u4e00\u81f4\u6027\u534f\u8bae\uff08\u6bd4\u5982 Raft\u3001Paxos\uff09\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u662f\u5bf9\u5176\u5b83\u5206\u5e03\u5f0f\u7cfb\u7edf\uff08\u6bd4\u5982 ZooKeeper\u3001HDFS\uff09\u7684\u5c01\u88c5\u3002\u5982\u540c\u865a\u62df\u5185\u5b58\u4e00\u6837\uff0cVirtualLog \u628a\u591a\u4e2a\u7269\u7406\u7684 Logets \u6620\u5c04\u5230\u4e00\u4e2a\u8fde\u7eed\u7684\u865a\u62df\u7684 VirtualLog \u5730\u5740\u7a7a\u95f4\u4e2d\u3002\u5bf9 VirtualLog \u7684\u7528\u6237\u6765\u8bf4\uff0c\u8fd9\u4e9b Loglets \u7684\u7ec6\u8282\u88ab VirtualLog \u9690\u85cf\u4e86\u8d77\u6765 \uff0c\u770b\u8d77\u6765\u5c31\u50cf\u662f\u4e00\u4e2a\u8fde\u7eed\u7684 log\u3002\\n\\nVirtualLog \u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u4e00\u4e2a\u5ba2\u6237\u7aef\u5c42\u66b4\u9732\u8bbf\u95ee log \u7684 API\uff0c\u4ee5\u53ca\u4e00\u4e2a\u7ba1\u7406\u5143\u6570\u636e\u7684 MetaStore\u3002\u8fd9\u91cc\u7684\u5143\u6570\u636e\u662f\u6307\u4ece VirtualLog \u5730\u5740\u5230 Loglet \u7684\u6620\u5c04\u5173\u7cfb\uff0c\u591a\u4e2a Loglets \u7ec4\u6210\u4e86\u4e00\u4e2a\u94fe\uff08chain\uff09\uff0c\u7c7b\u4f3c\u4e00\u4e2a\u5355\u5411\u94fe\u8868\u3002\u968f\u7740\u65f6\u95f4\u63a8\u79fb\uff0c\u94fe\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u52a8\uff08\u6bd4\u5982\u4ece 1 \u4e2a Loglet \u53d8\u6210 2 \u4e2a\uff09\uff0cMetaStore \u5728\u4fdd\u5b58\u6bcf\u4e2a\u94fe\u65f6\u4e5f\u4f1a\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u7248\u672c\u53f7\uff0c\u6bcf\u5f53\u9700\u8981\u66f4\u65b0\u94fe\u65f6\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u66f4\u5927\u7684\u7248\u672c\u53f7\uff0c\u8fd9\u4e2a\u66f4\u65b0\u64cd\u4f5c\u662f\u4e00\u4e2a\u7c7b\u4f3c CAS\uff08compare-and-swap\uff09\u7684\u8fc7\u7a0b\uff0c\u4f1a\u548c\u5f53\u524d\u7248\u672c\u53f7\u8fdb\u884c\u6bd4\u8f83\uff0c\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u907f\u514d\u5e76\u53d1\u51b2\u7a81\u3002\u5f53\u9700\u8981\u4fee\u6539\u94fe\u65f6\u5c31\u4f1a\u89e6\u53d1\u300c\u91cd\u65b0\u914d\u7f6e\uff08reconfiguration\uff09\u300d\u6d41\u7a0b\uff0c\u8fd9\u4e2a\u6d41\u7a0b\u5206\u4e3a 3 \u6b65\uff1a\u5bc6\u5c01\uff08sealing\uff09\u5f53\u524d\u94fe\u3001\u628a MetaStore \u4e2d\u7684\u94fe\u4fee\u6539\u4e3a\u65b0\u7684\u94fe\u3001\u4ece MetaStore \u83b7\u53d6\u65b0\u7684\u94fe\u3002MetaStore \u9700\u8981\u4fdd\u8bc1\u5bb9\u9519\u4e00\u81f4\u6027\uff08fault-tolerant consensus\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u5f97\u901a\u8fc7\u7c7b\u4f3c Paxos \u8fd9\u6837\u7684\u4e00\u81f4\u6027\u534f\u8bae\u53bb\u5b9e\u73b0\uff0c\u540e\u9762\u4f1a\u8bb2\u5230\u5177\u4f53\u5982\u4f55\u5b9e\u73b0\u3002\\n\\n\u56e0\u4e3a VirtualLog \u5df2\u7ecf\u8d1f\u8d23\u4e86\u63a7\u5236\u5e73\u9762\u7684\u5de5\u4f5c\uff0cLoglet \u7684\u804c\u8d23\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u6570\u636e\u7684\u5168\u5c40\u987a\u5e8f\u6027\uff08total order\uff09\u4ee5\u53ca\u6301\u4e45\u6027\uff0c\u4e0d\u9700\u8981\u627f\u62c5 leader \u9009\u4e3e\u3001\u6210\u5458\u53d8\u66f4\u7ba1\u7406\u7b49\u5de5\u4f5c\uff0c\u4e5f\u4e0d\u9700\u8981\u5b9e\u73b0\u5bb9\u9519\u4e00\u81f4\u6027\uff0c\u56e0\u6b64\u5b9e\u73b0\u4e00\u4e2a Loglet \u7684\u6210\u672c\u975e\u5e38\u4f4e\uff08\u76f8\u6bd4\u5b9e\u73b0\u4e00\u4e2a\u5b8c\u6574\u7684\u4e00\u81f4\u6027\u534f\u8bae\uff09\u3002\u4f46\u6709\u4e00\u4e2a\u8981\u6c42\u5fc5\u987b\u6ee1\u8db3\uff0c\u524d\u9762\u63d0\u5230\u5728\u91cd\u65b0\u914d\u7f6e\u65f6\u9700\u8981\u5bc6\u5c01\u94fe\uff0c\u8fd9\u4e2a\u5bc6\u5c01\u64cd\u4f5c\u662f\u901a\u8fc7\u53d1\u9001 `seal` \u547d\u4ee4\u7ed9 Loglet \u5b9e\u73b0\u7684\uff0cLoglet \u8d1f\u8d23\u66f4\u65b0\u672c\u5730\u7684 seal \u72b6\u6001\uff0cseal \u72b6\u6001\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u4f1a\u6709\u4e24\u79cd\u53d6\u503c\u3002\u4e3a\u4e86\u4fdd\u8bc1\u540e\u7eed\u4e0d\u4f1a\u9519\u8bef\u5730\u628a\u65b0\u6570\u636e\u6dfb\u52a0\u5230\u5df2\u7ecf\u5bc6\u5c01\u7684\u94fe\uff0cLoglet \u9700\u8981\u4fdd\u8bc1 `seal` \u547d\u4ee4\u662f\u9ad8\u53ef\u7528\u7684\uff08highly available\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u786e\u4fdd\u5927\u591a\u6570\uff08quorum\uff09\u7684 Loglet \u90fd\u66f4\u65b0\u5b8c\u6210\u3002\\n\\n\u5728\u4e86\u89e3\u5b8c VC \u7684\u6982\u5ff5\u4ee5\u540e\u6765\u770b\u770b Delos \u662f\u5982\u4f55\u5b9e\u73b0\u7684\u3002Delos \u662f\u4e00\u4e2a\u57fa\u4e8e VC \u601d\u60f3\u5b9e\u73b0\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\uff0c\u53ef\u4ee5\u7b80\u5355\u628a\u5b83\u7406\u89e3\u6210\u7c7b\u4f3c etcd\u3001ZooKeeper \u7684\u7cfb\u7edf\u3002Delos \u5206\u4e3a 3 \u5c42\uff1aAPI\u3001Core \u548c Loglet\u3002API \u5c42\u63d0\u4f9b\u591a\u79cd\u7c7b\u578b\u7684\u63a5\u53e3\uff0c\u4f8b\u5982 table API\u3001ZooKeeper API\uff1bCore \u5c42\u9664\u4e86\u5305\u542b VirtualLog \u4ee5\u5916\uff0c\u8fd8\u6709 Delos \u81ea\u5df1\u7684 runtime\uff0c\u4ee5\u53ca\u57fa\u4e8e RocksDB \u7684\u672c\u5730\u5b58\u50a8\uff1bLoglet \u5c42\u5c31\u662f\u5404\u79cd\u4e0d\u540c\u7684 Loglet \u5b9e\u73b0\u3002\u5f53 Delos \u63a5\u6536\u5230\u8bfb\u5199\u4e8b\u52a1\uff08read-write transaction\uff09\u65f6\u4f1a\u5148\u5c06\u6570\u636e\u8ffd\u52a0\uff08append\uff09\u5230 VirtualLog\uff0cVirtualLog \u8d1f\u8d23\u628a\u6570\u636e\u53d1\u9001\u7ed9\u5e95\u5c42\u7684 Loglet\uff08\u5177\u4f53 Loglet \u600e\u4e48\u5904\u7406 append \u8bf7\u6c42\u540e\u9762\u4f1a\u8bb2\uff09\uff0c\u7136\u540e Delos \u5f00\u59cb\u4ece VirtualLog \u540c\u6b65\uff08synchronize\uff09\u65e5\u5fd7\uff0c\u6bcf\u5f53\u8bfb\u5230\u4e00\u4e2a\u4e8b\u52a1\uff08\u8fd9\u4e2a\u4e8b\u52a1\u65e2\u53ef\u80fd\u662f\u5f53\u524d Delos \u8282\u70b9\u4e5f\u53ef\u80fd\u662f\u5176\u5b83\u8282\u70b9\u5199\u7684\uff09\u5c31\u4f1a\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\u5e76\u4fdd\u5b58\u5230\u672c\u5730\u7684 RocksDB \u4e2d\uff0c\u6700\u540e\u5f53\u628a\u5f53\u524d Delos \u8282\u70b9\u81ea\u5df1\u5199\u5165\u7684\u6700\u540e\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u5b8c\u6bd5\u540e\u5c31\u8fd4\u56de\u8bf7\u6c42\u3002\u5bf9\u5e94\u7684\uff0cDelos \u63a5\u6536\u5230\u53ea\u8bfb\u4e8b\u52a1\uff08read-only transaction\uff09\u65f6\uff0c\u9996\u5148\u901a\u8fc7 VirtualLog \u68c0\u67e5\u5168\u5c40\u65e5\u5fd7\u7684\u672b\u5c3e\uff08tail\uff09\u4f4d\u7f6e\u662f\u591a\u5c11\uff0c\u7136\u540e\u4e0e VirtualLog \u540c\u6b65\u65e5\u5fd7\u76f4\u5230\u8fbe\u5230\u4e0a\u4e00\u6b65\u5f97\u5230\u7684\u4f4d\u7f6e\uff08\u540c\u6b65\u8fc7\u7a0b\u4e2d\u5982\u679c\u9047\u5230\u5199\u4e8b\u52a1\u5c31\u9700\u8981\u66f4\u65b0 RocksDB\uff09\uff0c\u6700\u540e\u5728\u672c\u5730\u7684 RocksDB \u4e2d\u6267\u884c\u8fd9\u4e2a\u8bfb\u8bf7\u6c42\u5e76\u8fd4\u56de\u7ed3\u679c\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u5904\u7406\u53ea\u8bfb\u4e8b\u52a1\u65f6 Delos \u8282\u70b9\u53ef\u80fd\u9700\u8981\u4e0e\u5e95\u5c42 Loglet \u540c\u6b65\u65e5\u5fd7\uff0c\u8fd9\u663e\u7136\u4f1a\u5bf9\u8bfb\u6027\u80fd\u9020\u6210\u5f71\u54cd\uff0c\u4e3a\u4e86\u4f18\u5316\u8fd9\u4e00\u6b65 Delos \u4f1a\u5728\u4e0e VirtualLog \u7684\u4e00\u6b21\u540c\u6b65\u8bf7\u6c42\u4e2d\u5305\u542b\u591a\u4e2a\u53ea\u8bfb\u4e8b\u52a1\uff0c\u800c\u4e0d\u662f\u4e00\u6b21\u540c\u6b65\u8bf7\u6c42\u53ea\u5904\u7406\u4e00\u4e2a\u4e8b\u52a1\uff0c\u6781\u7aef\u60c5\u51b5\u4e0b\u5982\u679c\u9700\u8981\u540c\u6b65\u7684\u65e5\u5fd7\u4e2d\u4e0d\u5305\u542b\u4efb\u4f55\u5199\u4e8b\u52a1\u90a3\u5176\u5b9e\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u6b65\u3002\\n\\n\u524d\u9762\u63d0\u5230 VirtualLog \u9700\u8981\u4e00\u4e2a MetaStore \u6765\u4fdd\u5b58\u5f53\u524d\u7684\u94fe\u72b6\u6001\uff0cDelos \u6700\u521d\u662f\u901a\u8fc7\u5916\u90e8\u7684 ZooKeeper \u670d\u52a1\u6765\u4f5c\u4e3a MetaStore\u3002\u540e\u6765\u4e3a\u4e86\u53bb\u6389\u5bf9\u5916\u90e8\u7cfb\u7edf\u7684\u4f9d\u8d56\u6539\u4e3a\u4e86\u5728 Delos \u670d\u52a1\u4e2d\u5185\u5d4c\u4e00\u4e2a MetaStore\uff0c\u591a\u4e2a Delos \u670d\u52a1\u4fbf\u6784\u6210\u4e86\u4e00\u4e2a MetaStore \u96c6\u7fa4\uff0c\u5e76\u901a\u8fc7 Paxos \u6765\u4fdd\u8bc1\u5bb9\u9519\u4e00\u81f4\u6027\u3002\\n\\nDelos \u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u4e86 5 \u79cd Loglet\uff1aZKLoglet \u57fa\u4e8e ZooKeeper \u5b9e\u73b0\uff0c\u8fd9\u662f Delos \u6700\u521d\u4e0a\u7ebf\u65f6\u4f7f\u7528\u7684 Loglet\uff1bLogDeviceLoglet \u57fa\u4e8e LogDevice \u5b9e\u73b0\uff1bBackupLoglet \u57fa\u4e8e\u7c7b\u4f3c HDFS \u7684\u7cfb\u7edf\u5b9e\u73b0\uff0c\u76ee\u7684\u662f\u4f5c\u4e3a\u65e5\u5fd7\u7684\u51b7\u5b58\uff1bNativeLoglet \u987e\u540d\u601d\u4e49\u662f\u6700\u539f\u751f\u7684 Loglet\uff0c\u53ea\u5305\u542b\u6700\u5fc5\u8981\u7684\u529f\u80fd\uff0c\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5916\u90e8\u7cfb\u7edf\uff0c\u4e5f\u662f\u76ee\u524d Delos \u5728\u4f7f\u7528\u7684 Loglet\uff08\u66ff\u4ee3 ZKLoglet\uff09\uff1b\u6700\u540e\u662f StripedLoglet\uff0c\u8fd9\u4e2a Loglet \u5176\u5b9e\u662f\u591a\u4e2a\u5176\u5b83 Loglet \u7684\u7ec4\u5408\uff0c\u53ef\u4ee5\u6709\u591a\u79cd\u7ec4\u5408\u65b9\u5f0f\u3002\u8bba\u6587\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u540e\u4e24\u79cd Loglet\u3002\\n\\nNativeLoglet \u7531\u4e24\u4e2a\u7ec4\u4ef6\u7ec4\u6210\uff1aLogServer \u548c Sequencer\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u90fd\u662f\u72ec\u7acb\u7684\u670d\u52a1\uff0c\u5e76\u4e14\u548c Delos \u670d\u52a1\u90e8\u7f72\u5728\u4e00\u8d77\uff08\u5f53\u7136\u4e5f\u53ef\u4ee5\u5206\u5f00\uff09\u3002LogServer \u8d1f\u8d23\u5904\u7406\u6709\u5173\u65e5\u5fd7\u7684\u5404\u79cd\u8bf7\u6c42\uff0c\u5e76\u5c06\u65e5\u5fd7\u6301\u4e45\u5316\u5230\u672c\u5730\u78c1\u76d8\uff0cLogServer \u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u4e14\u9700\u8981\u4e3a\u5947\u6570\u4e2a\uff08\u56e0\u4e3a\u6d89\u53ca\u5230\u7c7b\u4f3c\u6295\u591a\u6570\u7968\u7684\u573a\u666f\uff09\uff1bSequencer \u53ea\u6709 1 \u4e2a\uff0c\u804c\u8d23\u4e5f\u53ea\u6709\u4e00\u4e2a\uff0c\u5c31\u662f\u5904\u7406 `append` \u8bf7\u6c42\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u5904\u7406\u6d41\u7a0b\u3002\\n\\n\u8fd9\u91cc\u6709\u51e0\u4e2a\u6982\u5ff5\u9700\u8981\u5148\u4ecb\u7ecd\u4e00\u4e0b\u3002\u5f53\u8bf4\u5230\u4e00\u4e2a\u547d\u4ee4\u88ab\u300c\u672c\u5730\u63d0\u4ea4\uff08locally committed\uff09\u300d\u65f6\u8868\u793a\u7684\u662f\u4e00\u4e2a LogServer \u5df2\u7ecf\u5c06\u8fd9\u4e2a\u547d\u4ee4\u540c\u6b65\u5230\u4e86\u5b83\u7684\u672c\u5730\u65e5\u5fd7\u4e2d\u3002\u5f53\u8bf4\u5230\u4e00\u4e2a\u547d\u4ee4\u88ab\u300c\u5168\u5c40\u63d0\u4ea4\uff08globally committed\uff09\u300d\u65f6\u8868\u793a\u8fd9\u4e2a\u547d\u4ee4\u5df2\u7ecf\u88ab\u5927\u591a\u6570\u7684 LogServer \u672c\u5730\u63d0\u4ea4\uff0c\u5e76\u4e14\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u524d\u7684\u6240\u6709\u547d\u4ee4\u4e5f\u90fd\u5df2\u7ecf\u5168\u5c40\u63d0\u4ea4\u3002\u300c\u5168\u5c40\u672b\u5c3e\uff08global tail\uff09\u300d\u8868\u793a\u6700\u8fd1\u4e00\u4e2a\u8fd8\u6ca1\u6709\u88ab\u5168\u5c40\u63d0\u4ea4\u7684\u65e5\u5fd7\u4f4d\u7f6e\uff0cNativeLoglet \u7684\u65e5\u5fd7\u662f\u6ca1\u6709\u7a7a\u9699\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ece\u4f4d\u7f6e 0 \u5f00\u59cb\u5230\u5168\u5c40\u672b\u5c3e\u7ed3\u675f\u4e2d\u95f4\u7684\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u90fd\u6709\u65e5\u5fd7\u6570\u636e\u3002\u540c\u65f6\u6bcf\u4e2a\u7ec4\u4ef6\uff08LogServer\u3001Sequencer\u3001Delos \u670d\u52a1\u7b49\uff09\u90fd\u7ef4\u62a4\u4e86\u4e00\u4e2a `knownTail` \u53d8\u91cf\uff0c\u8fd9\u4e2a\u53d8\u91cf\u4fdd\u5b58\u7684\u662f\u5f53\u524d\u8fd9\u4e2a\u7ec4\u4ef6\u83b7\u53d6\u5230\u7684\u5168\u5c40\u672b\u5c3e\u7684\u503c\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u4e4b\u95f4\u5728\u4ea4\u4e92\u65f6\u90fd\u4f1a\u5e26\u4e0a\u5404\u81ea\u7684 `knownTail`\uff0c\u5982\u679c\u53d1\u73b0\u81ea\u5df1\u672c\u5730\u7684\u503c\u66f4\u5c0f\u5c31\u66f4\u65b0\u5230\u6700\u65b0\u7684\u503c\u3002\\n\\n\u63a5\u4e0b\u6765\u8bb2\u4e00\u4e0b NativeLoglet \u652f\u6301\u7684\u51e0\u79cd\u8bf7\u6c42\u3002\u9996\u5148\u662f `append` \u8bf7\u6c42\uff0cDelos \u670d\u52a1\u4f1a\u5c06\u8bf7\u6c42\u53d1\u9001\u7ed9 Sequencer\uff0cSequencer \u4f1a\u7ed9\u6bcf\u4e2a\u547d\u4ee4\u5206\u914d\u4e00\u4e2a\u4f4d\u7f6e\uff08\u7c7b\u4f3c\u4e00\u4e2a\u8ba1\u6570\u5668\uff09\uff0c\u7136\u540e Sequencer \u8d1f\u8d23\u8f6c\u53d1\u547d\u4ee4\u7ed9\u6240\u6709 LogServer\uff0c\u5f53\u5927\u591a\u6570 LogServer \u90fd\u6b63\u5e38\u8fd4\u56de\u65f6\u5373\u8868\u793a\u8bf7\u6c42\u6210\u529f\u3002\u5982\u679c\u5927\u591a\u6570 LogServer \u90fd\u8fd4\u56de\u8bf4\u5df2\u7ecf\u5bc6\u5c01\u4e86\uff0c\u8bf7\u6c42\u4f1a\u5931\u8d25\u3002\u9664\u6b64\u4e4b\u5916\u7684\u5176\u5b83\u60c5\u51b5\uff08\u6bd4\u5982\u8d85\u65f6\u3001LogServer \u8bf7\u6c42\u5931\u8d25\u7b49\uff09Sequencer \u90fd\u4f1a\u4e0d\u65ad\u91cd\u8bd5\u76f4\u5230\u8bf7\u6c42\u6210\u529f\u6216\u8005 NativeLoglet \u88ab\u5bc6\u5c01\uff0c\u91cd\u8bd5\u662f\u5e42\u7b49\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u540c\u6837\u7684\u547d\u4ee4\u4e00\u5b9a\u4f1a\u5199\u5165\u540c\u6837\u7684\u4f4d\u7f6e\u3002Sequencer \u7ef4\u62a4\u4e86\u4e00\u4e2a\u8bf7\u6c42\u961f\u5217\uff0c\u5f53\u6536\u5230\u5927\u591a\u6570 LogServer \u7684\u8fd4\u56de\u65f6\u5373\u8ba4\u4e3a\u8fd9\u4e2a\u547d\u4ee4\u5df2\u7ecf\u5168\u5c40\u63d0\u4ea4\uff0c\u90a3\u4e9b\u53d1\u9001\u7ed9\u8fd8\u6ca1\u6709\u8fd4\u56de\u7ed3\u679c\u7684 LogServer \u7684\u8bf7\u6c42\u5c31\u53ef\u4ee5\u5ffd\u7565\u4e86\uff0c\u8fd9\u6837\u5904\u7406\u53ef\u4ee5\u9632\u6b62\u67d0\u4e9b\u7279\u522b\u6162\u7684 LogServer \u5f71\u54cd\u6574\u4f53\u6027\u80fd\uff0c\u540c\u65f6\u4ece\u8fd9\u91cc\u4e5f\u80fd\u770b\u5230\u6bcf\u4e2a LogServer \u4fdd\u5b58\u7684\u547d\u4ee4\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u7f3a\u5931\u7684\u547d\u4ee4\u4e5f\u4e0d\u9700\u8981\u8865\u4e0a\u3002\\n\\n\u7136\u540e\u662f `seal` \u8bf7\u6c42\u3002\u6b63\u5982\u524d\u9762\u6240\u4ecb\u7ecd\u7684\uff0c\u8fd9\u4e2a\u8bf7\u6c42\u662f\u7528\u4e8e\u5bc6\u5c01 Loglet\u3002\u4efb\u4f55\u5ba2\u6237\u7aef\u90fd\u53ef\u4ee5\u53d1\u9001\u8fd9\u4e2a\u8bf7\u6c42\u7ed9 LogServer\uff0c\u5f53\u5927\u591a\u6570 LogServer \u90fd\u6b63\u5e38\u8fd4\u56de\u65f6\u5373\u8868\u793a\u8bf7\u6c42\u6210\u529f\uff0c\u540e\u7eed\u7684 `append` \u8bf7\u6c42\u4e5f\u4f1a\u5931\u8d25\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u5f53 LogServer \u88ab\u5bc6\u5c01\u4ee5\u540e\uff0c\u6bcf\u4e2a LogServer \u672c\u5730\u65e5\u5fd7\u7684\u672b\u5c3e\uff08tail\uff09\u53ef\u80fd\u662f\u4e0d\u540c\u7684\u3002\\n\\n\u63a5\u7740\u662f `checkTail` \u8bf7\u6c42\u3002\u8fd9\u4e2a\u8bf7\u6c42\u4f1a\u8fd4\u56de\u5168\u5c40\u672b\u5c3e\u4ee5\u53ca\u5f53\u524d NativeLoglet \u7684\u5bc6\u5c01\u72b6\u6001\u3002\u4efb\u4f55\u5ba2\u6237\u7aef\u90fd\u53ef\u4ee5\u53d1\u9001\u8fd9\u4e2a\u8bf7\u6c42\u7ed9 LogServer\uff0c\u5e76\u7b49\u5f85\u5927\u591a\u6570 LogServer \u8fd4\u56de\u3002\u4e00\u65e6\u5927\u591a\u6570 LogServer \u8fd4\u56de\uff0c`checkTail` \u8bf7\u6c42\u4f1a\u6839\u636e\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u4e0d\u540c\u7684\u540e\u7eed\u5904\u7406\uff0c\u8fd9\u4e9b\u8fd4\u56de\u7ed3\u679c\u4f1a\u6709 3 \u79cd\u53ef\u80fd\uff1a\u5168\u90e8\u5bc6\u5c01\u3001\u90e8\u5206\u5bc6\u5c01\u3001\u5168\u90e8\u672a\u5bc6\u5c01\u3002\u300c\u5168\u90e8\u5bc6\u5c01\u300d\u5373\u6240\u6709 LogServer \u90fd\u5df2\u7ecf\u5904\u4e8e\u5bc6\u5c01\u72b6\u6001\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u540c\u65f6\u4e5f\u4f1a\u5305\u542b\u6bcf\u4e2a LogServer \u7684\u672b\u5c3e\u4f4d\u7f6e\uff0c\u524d\u9762\u4ecb\u7ecd `seal` \u8bf7\u6c42\u5df2\u7ecf\u63d0\u5230\u4e0d\u540c LogServer \u5bc6\u5c01\u540e\u7684\u672b\u5c3e\u53ef\u80fd\u662f\u4e0d\u540c\u7684\uff0c\u5f53 `checkTail` \u53d1\u73b0\u8fd9\u79cd\u60c5\u51b5\u65f6\u4f1a\u89e6\u53d1\u4e00\u4e2a\u4fee\u590d\uff08repair\uff09\u64cd\u4f5c\uff0c\u5bf9\u90a3\u4e9b\u6709\u6f0f\u6389\u547d\u4ee4\u7684 LogServer \u8fdb\u884c\u8865\u5168\uff08\u901a\u8fc7\u4ece\u5176\u5b83 LogServer \u62f7\u8d1d\u6570\u636e\u8fc7\u6765\uff09\u3002\u300c\u90e8\u5206\u5bc6\u5c01\u300d\u5373\u8fd4\u56de\u7ed3\u679c\u4e2d\u540c\u65f6\u5b58\u5728\u5bc6\u5c01\u548c\u672a\u5bc6\u5c01\u4e24\u79cd\u72b6\u6001\uff0c\u9488\u5bf9\u8fd9\u79cd\u60c5\u51b5\u5ba2\u6237\u7aef\u4f1a\u5148\u53d1\u9001 `seal` \u8bf7\u6c42\u7ed9 LogServer\uff0c\u7136\u540e\u518d\u6b21\u53d1\u9001 `checkTail`\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u90fd\u4f1a\u5f97\u5230\u5168\u90e8\u5bc6\u5c01\u7684\u7ed3\u679c\u3002\u300c\u5168\u90e8\u672a\u5bc6\u5c01\u300d\u5373\u6240\u6709 LogServer \u90fd\u5904\u4e8e\u672a\u5bc6\u5c01\u72b6\u6001\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u4f1a\u4ece\u6240\u6709 LogServer \u8fd4\u56de\u7684\u672b\u5c3e\u4f4d\u7f6e\u4e2d\u6311\u9009\u6700\u5927\u7684\u90a3\u4e2a\u503c\uff0c\u7136\u540e\u7b49\u5f85\u5b83\u81ea\u5df1\u7684 `knownTail` \u8fbe\u5230\u8fd9\u4e2a\u503c\uff08\u8bba\u6587\u4e2d\u5e76\u6ca1\u6709\u5177\u4f53\u4ecb\u7ecd\u5ba2\u6237\u7aef\u7684 `knownTail` \u662f\u5982\u4f55\u66f4\u65b0\uff09\uff0c\u5982\u679c\u7b49\u5f85\u8fc7\u7a0b\u4e2d\u6709 LogServer \u88ab\u5bc6\u5c01\u4e86\u5c31\u4f1a\u53d8\u6210\u300c\u90e8\u5206\u5bc6\u5c01\u300d\u7684\u72b6\u6001\uff0c\u6b64\u65f6\u5c31\u4f1a\u6309\u7167\u521a\u624d\u63cf\u8ff0\u7684\u6d41\u7a0b\u8fdb\u884c\u5904\u7406\u3002\\n\\n\u6700\u540e\u662f `readNext` \u8bf7\u6c42\u3002\u5ba2\u6237\u7aef\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7 `checkTail` \u83b7\u53d6\u5230\u5168\u5c40\u672b\u5c3e\uff0c\u56e0\u6b64\u5b83\u4f1a\u6839\u636e\u8fd9\u4e2a\u672b\u5c3e\u4f4d\u7f6e\u9996\u5148\u8bf7\u6c42\u672c\u5730\u7684 LogServer\uff08\u524d\u9762\u63d0\u5230\u8fc7 LogServer \u548c Delos \u670d\u52a1\u662f\u90e8\u7f72\u5728\u4e00\u8d77\u7684\uff09\uff0c\u5982\u679c\u672c\u5730\u7684 LogServer \u6ca1\u6709\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u6570\u636e\uff0c\u5c31\u4f1a\u518d\u53d1\u9001\u8bf7\u6c42\u7ed9\u5176\u5b83 LogServer\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f NativeLoglet \u7684\u8bbe\u8ba1\uff0c\u56e0\u4e3a\u5b83\u4e0d\u9700\u8981\u5177\u5907\u7c7b\u4f3c\u5bb9\u9519\u4e00\u81f4\u6027\u8fd9\u6837\u7684\u7279\u6027\uff0cFacebook \u4ec5\u4ec5\u7528\u4e86 4 \u4e2a\u6708\u5c31\u5b9e\u73b0\u5b8c\u6210\u5e76\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u3002\u5f53\u7136 LogServer\u3001Sequencer \u90fd\u6709\u53ef\u80fd\u51fa\u95ee\u9898\uff0c\u8fd9\u4e9b\u9519\u8bef\u7684\u68c0\u6d4b\u65e2\u6709\u4e00\u4e9b\u5185\u90e8\u673a\u5236\u6765\u4fdd\u8bc1\uff0c\u4e5f\u6709\u4e00\u4e9b\u5916\u90e8\u76d1\u63a7\u7cfb\u7edf\u6765\u89e6\u53d1\u3002\u4e00\u65e6\u53d1\u73b0\u95ee\u9898\u5c31\u4f1a\u8fdb\u5165\u91cd\u65b0\u914d\u7f6e\u6d41\u7a0b\uff0c\u5373\u5bc6\u5c01\u73b0\u6709 Loglet\uff0c\u521b\u5efa\u65b0\u7684 Loglet \u5e76\u66f4\u65b0\u94fe\u3002\\n\\nStripedLoglet \u662f\u591a\u4e2a Loglet \u7684\u7ec4\u5408\uff0c\u5b9e\u9645\u4e0a\u53ea\u7528\u4e86 300 \u884c\u5de6\u53f3\u7684\u4ee3\u7801\u5c31\u5b9e\u73b0\u5b8c\u6210\u3002Loglet \u7684\u7ec4\u5408\u53ef\u4ee5\u6709\u591a\u79cd\u65b9\u5f0f\uff0c\u6bd4\u5982\u4e3a\u4e86\u907f\u514d\u5355\u4e2a Sequencer \u6210\u4e3a\u74f6\u9888\uff0c\u53ef\u4ee5\u628a\u76f8\u540c\u7684\u4e00\u7ec4 LogServer \u770b\u4f5c\u4e0d\u540c\u7684 NativeLoglet \u96c6\u7fa4\uff0c\u533a\u522b\u5728\u4e8e\u4e0d\u540c\u96c6\u7fa4\u7684 Sequencer \u4e0d\u4e00\u6837\uff1b\u518d\u6bd4\u5982\u4e3a\u4e86\u5bf9 Loglet \u8fdb\u884c\u5206\u7247\uff0c\u8fbe\u5230\u6a2a\u5411\u6269\u5c55\u7684\u76ee\u7684\uff0c\u53ef\u4ee5\u7528\u591a\u7ec4 LogServer\uff0c\u6bcf\u7ec4\u53ea\u5b58\u50a8\u90e8\u5206\u65e5\u5fd7\u3002StripedLoglet \u76ee\u524d\u5e76\u6ca1\u6709\u5728\u5b9e\u9645\u751f\u4ea7\u4e2d\u4f7f\u7528\uff0c\u66f4\u591a\u662f\u4f5c\u4e3a\u8bc4\u4f30\u9636\u6bb5\u7684\u4e00\u4e2a\u65b9\u6848\u3002\\n\\n\u5230\u8fd9\u91cc\u672c\u7bc7\u8bba\u6587\u4e2d\u5173\u4e8e VC \u548c Delos \u7684\u4ecb\u7ecd\u5c31\u5dee\u4e0d\u591a\u8bb2\u5b8c\u4e86\uff0c\u4f46\u5176\u5b9e\u8fd8\u6709\u5f88\u591a\u7ec6\u8282\u6ca1\u6709\u63d0\u5230\uff0c\u4f8b\u5982 leader \u5982\u4f55\u9009\u4e3e\u3001\u5982\u679c\u5904\u7406\u7f51\u7edc\u5206\u533a\u3001\u96c6\u7fa4\u6210\u5458\u5982\u4f55\u53d8\u66f4\u3001\u4e3a\u4ec0\u4e48\u8981\u6709\u5bc6\u5c01\u64cd\u4f5c\u3001\u5177\u4f53\u4ec0\u4e48\u65f6\u5019\u89e6\u53d1\u91cd\u65b0\u914d\u7f6e\u3001\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a RaftLoglet\u3002Delos \u5176\u5b9e\u662f\u5efa\u7acb\u5728\u8bba\u6587\u7b2c\u4e00\u4f5c\u8005 Mahesh Balakrishnan \u591a\u5e74\u7684\u7814\u7a76\u4e4b\u4e0a\uff0c\u5728\u6765\u5230 Facebook \u4e4b\u524d\u4ed6\u66fe\u7ecf\u5728\u5fae\u8f6f\u7845\u8c37\u7814\u7a76\u9662\u4ee5\u53ca VMware \u7814\u7a76\u9662\u5de5\u4f5c\uff0cDelos \u7684\u5f88\u591a\u601d\u60f3\u6765\u6e90\u4e8e 2012 \u5e74\u7684\u300cFrom Paxos to CORFU: A Flash-Speed Shared Log\u300d\u8fd9\u7bc7\u8bba\u6587\uff08\u4e00\u4e2a\u5c0f\u516b\u5366\uff0c\u8fd9\u7bc7\u8bba\u6587\u7684\u7b2c\u4e00\u4f5c\u8005 Dahlia Malkhi \u4e5f\u662f\u5b66\u672f\u754c\u5927\u725b\uff0c\u76ee\u524d\u662f Diem Association \u7684 CTO\uff09\uff0c\u4ee5\u53ca[\u540e\u7eed\u591a\u7bc7\u8bba\u6587](https://github.com/CorfuDB/CorfuDB/wiki/White-papers)\u3002\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u7ee7\u7eed\u9605\u8bfb\u8fd9\u4e9b\u8bba\u6587\uff0c\u53e6\u5916 OSDI \u6bcf\u7bc7\u8bba\u6587\u90fd\u4f1a\u6709\u4e00\u4e2a\u6765\u81ea\u8bba\u6587\u4f5c\u8005\u7684\u6f14\u8bb2\uff0c\u53ef\u4ee5\u70b9\u51fb[\u8fd9\u91cc](https://www.youtube.com/watch?v=wd-GC_XhA2g)\u67e5\u770b\u89c6\u9891\u3002\\n\\n\u6700\u540e\u7279\u522b\u611f\u8c22 Delos \u4f5c\u8005\u4e4b\u4e00 Chen Shen \u5bf9\u672c\u6587\u63d0\u51fa\u7684\u7ec6\u81f4\u53ca\u5b9d\u8d35\u7684\u4fee\u6539\u610f\u89c1\u3002\\n\\n## Virtualizing Consensus in Delos for Rapid Upgrades and Happy Engineers\\n\\n[[\u94fe\u63a5]](https://atscaleconference.com/2021/03/15/virtualizing-consensus)\\n\\n\u5728\u652f\u6301 table API \u5e76\u6210\u529f\u5728 Twine \u4e0a\u5e94\u7528\u4e4b\u540e\uff0cDelos \u7684\u4e0b\u4e00\u4e2a\u76ee\u6807\u662f\u63d0\u4f9b ZooKeeper API\uff0c\u5e76\u66ff\u4ee3 Facebook \u5185\u90e8\u4f7f\u7528 ZooKeeper \u7684\u573a\u666f\u3002Delos \u76ee\u524d\u5df2\u7ecf\u6210\u4e3a\u4e86\u4e00\u4e2a\u6784\u5efa\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7684\u300c\u5e73\u53f0\u300d\uff0c\u57fa\u4e8e\u8fd9\u4e2a\u5e73\u53f0\u5b9e\u73b0\u4e0d\u540c\u7684 API \u5373\u53ef\u6ee1\u8db3\u4e0d\u540c\u7684\u573a\u666f\u9700\u6c42\uff0c\u5927\u90e8\u5206\u903b\u8f91\u90fd\u53ef\u4ee5\u590d\u7528\uff0c\u6bd4\u5982\u652f\u6301 table API \u7684\u6570\u636e\u5e93 DelosTable\uff0c\u652f\u6301 ZooKeeper API \u7684\u6570\u636e\u5e93 Zelos\u3002\u628a Delos \u5e73\u53f0\u5316\u4ee5\u540e\u4e5f\u80fd\u8ba9\u4e0d\u540c\u56e2\u961f\u66f4\u52a0\u4e13\u6ce8\u4e8e\u5404\u81ea\u7684\u76ee\u6807\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff08\u8f6f\u4ef6\u5de5\u7a0b\u7b2c\u4e00\u51c6\u5219\u300c\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u300d\uff09\u3002\u4e0d\u8fc7\u7406\u60f3\u5f52\u7406\u60f3\uff0c\u73b0\u5b9e\u5f52\u73b0\u5b9e\uff0c\u5728 Zelos \u7684\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9010\u6e10\u53d1\u73b0\u7ec4\u4ef6\u7684\u8fb9\u754c\u5e76\u6ca1\u6709\u90a3\u4e48\u6e05\u6670\uff0c\u5f88\u591a\u65f6\u5019 Zelos \u9700\u8981\u4f9d\u8d56\u5bf9 Delos \u5e73\u53f0\u6838\u5fc3\u8fdb\u884c\u4fee\u6539\uff0c\u4f7f\u5f97\u5f00\u53d1\u6d41\u7a0b\u53d7\u5230\u4e86\u5f88\u5927\u963b\u788d\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cDelos \u56e2\u961f\u53d1\u660e\u4e86\u4e00\u4e2a\u65b0\u7684\u62bd\u8c61\u53eb\u505a\u300clog-structured protocol\u300d\uff08LSP\uff1f\uff09\uff0c\u4e00\u5c42\u53e0\u52a0\u5728 VirtualLog \u4e4b\u4e0a\u7684\u534f\u8bae\uff0c\u6bcf\u4e2a\u534f\u8bae\u90fd\u4f1a\u5305\u542b\u4e00\u4e2a\u5f15\u64ce\uff08engine\uff09\uff0c\u4e14\u53ef\u4ee5\u50cf\u7f51\u7edc\u6808\u4e00\u6837\u628a\u4e0d\u540c\u534f\u8bae\u8fdb\u884c\u7ec4\u5408\u3002\u5f53\u5e94\u7528\u5728\u8bf7\u6c42\u65f6\uff0c\u4f1a\u81ea\u4e0a\u800c\u4e0b\u7ecf\u8fc7\u4e0d\u540c\u7684\u534f\u8bae\uff0c\u6bcf\u4e00\u5c42\u534f\u8bae\u4e5f\u80fd\u5e26\u4e0a\u81ea\u5df1\u7684\u534f\u8bae\u5934\uff08header\uff09\uff0c\u6700\u7ec8\u5230\u8fbe VirtualLog\u3002\u8fd9\u4e2a\u8bbe\u8ba1\u6709\u70b9\u7c7b\u4f3c\u4e8e\u628a Delos runtime \u63d2\u4ef6\u5316\uff0c\u4e0d\u540c\u56e2\u961f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u5f00\u53d1\u4e0d\u540c\u7684\u63d2\u4ef6\uff0c\u8fd9\u4e9b\u63d2\u4ef6\u4e5f\u53ef\u4ee5\u540c\u65f6\u88ab\u4e0d\u540c\u56e2\u961f\u5171\u4eab\u3002\\n\\n## RFC: Elastic Horovod\\n\\n[[\u94fe\u63a5]](https://docs.google.com/document/d/15ZoHA5AeSI_boeyIBapg9WPXKrYXMRvPytPzQWTCTn4/edit?usp=sharing)\\n\\n\u5728[\u7b2c 7 \u671f](/blog/2020/11/15/maybe-news-issue-7)\u4ecb\u7ecd\u8fc7 Horovod \u80cc\u540e\u7684 Ring Allreduce \u7b97\u6cd5\uff0c\u4ece [v0.20.0](https://github.com/horovod/horovod/releases/tag/v0.20.0) \u5f00\u59cb Horovod \u4ece\u6846\u67b6\u4e0a\u539f\u751f\u652f\u6301\u4e86\u6a21\u578b\u8bad\u7ec3\u5f39\u6027\u4f38\u7f29\u3002\u4e0d\u7ba1\u662f\u57fa\u4e8e PS \u8fd8\u662f Ring Allreduce \u67b6\u6784\uff0c\u5f39\u6027\u4f38\u7f29\u4e00\u76f4\u662f\u5206\u5e03\u5f0f\u6a21\u578b\u8bad\u7ec3\u9886\u57df\u7684\u70ed\u95e8\u95ee\u9898\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u4e00\u4e2a AI \u5e73\u53f0\u6765\u8bf4\uff0c\u5f39\u6027\u4f38\u7f29\u80fd\u6700\u5927\u7a0b\u5ea6\u63d0\u9ad8\u96c6\u7fa4\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002\u5f53\u7136\u4e3a\u4e86\u5b9e\u73b0\u5f39\u6027\u5e76\u4e0d\u662f\u8bf4\u80fd\u591f\u52a8\u6001\u6269\u7f29\u5bb9\u5c31\u597d\u4e86\uff0c\u6846\u67b6\u4e5f\u8981\u505a\u5230\u8db3\u591f\u597d\u7684\u5bb9\u9519\u6027\uff0c\u624d\u80fd\u4e0d\u5bf9\u8bad\u7ec3\u6548\u679c\u9020\u6210\u5f71\u54cd\u3002\u8fd9\u7bc7 RFC \u8be6\u7ec6\u4ecb\u7ecd\u4e86 Elastic Horovod \u7684\u8bbe\u8ba1\u80cc\u666f\u53ca\u67b6\u6784\u3002\u76ee\u524d\u963f\u91cc\u4e91\u5bb9\u5668\u56e2\u961f\u5f00\u6e90\u7684 [et-operator](https://github.com/AliyunContainerService/et-operator) \u5df2\u7ecf\u652f\u6301\u5728 K8s \u4e2d\u4f7f\u7528 Elastic Horovod\uff0c\u901a\u8fc7 `TrainingJob`\u3001`ScaleIn` \u548c `ScaleOut` \u8fd9 3 \u4e2a CRD \u6765\u52a8\u6001\u63a7\u5236\u8bad\u7ec3\u96c6\u7fa4\u7684\u89c4\u6a21\uff0c\u4e0d\u8fc7 et-operator \u6682\u65f6\u8fd8\u4e0d\u652f\u6301\u81ea\u52a8\u4f38\u7f29\uff0c\u793e\u533a\u6709[\u4e00\u4e2a PR](https://github.com/AliyunContainerService/et-operator/pull/6) \u6b63\u5728\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n## Scaling Kubernetes to 7,500 Nodes\\n\\n[[\u94fe\u63a5]](https://openai.com/blog/scaling-kubernetes-to-7500-nodes)\\n\\nOpenAI \u56e2\u961f\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u5206\u4eab\u4e86\u4ed6\u4eec\u662f\u5982\u4f55\u5c06 K8s \u6269\u5c55\u5230 7500 \u4e2a\u8282\u70b9\uff0c\u5728 2018 \u5e74\u5176\u5b9e\u4ed6\u4eec\u5df2\u7ecf[\u5206\u4eab](https://openai.com/blog/scaling-kubernetes-to-2500-nodes)\u8fc7\u6269\u5c55\u5230 2500 \u4e2a\u8282\u70b9\u7684\u7ecf\u9a8c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cOpenAI \u7684 K8s \u96c6\u7fa4\u4e3b\u8981\u670d\u52a1\u4e8e AI \u4efb\u52a1\uff0c\u6bcf\u4e2a pod \u4f1a\u72ec\u5360\u4e00\u4e2a node \u7684\u6240\u6709\u8d44\u6e90\uff0c\u7c7b\u4f3c\u8d44\u6e90\u788e\u7247\u3001bin-packing \u8fd9\u6837\u7684\u95ee\u9898\u90fd\u4e0d\u5b58\u5728\uff0c\u8c03\u5ea6\u5668\u5e76\u4e0d\u4f1a\u6210\u4e3a\u74f6\u9888\uff0c\u56e0\u6b64\u4ed6\u4eec\u7684\u7ecf\u9a8c\u4e0d\u4e00\u5b9a\u9002\u7528\u4e8e\u6240\u6709\u573a\u666f\u3002\u51e0\u4e2a\u6709\u8da3\u7684\u5730\u65b9\uff1a\u5f53\u96c6\u7fa4\u89c4\u6a21\u5230\u8fbe 7500 \u8282\u70b9\u65f6\uff0cAPI server \u5360\u7528\u5927\u7ea6 70GB \u7684\u5185\u5b58\uff1b\u5c3d\u91cf\u907f\u514d\u4efb\u4f55 DaemonSet \u4e0e API server \u8fdb\u884c\u4ea4\u4e92\uff0c\u5982\u679c\u6709\u9700\u8981\u53ef\u4ee5\u501f\u52a9\u4e00\u4e2a\u4e2d\u95f4\u7684\u7f13\u5b58\u670d\u52a1\uff1b[kube-prometheus](https://github.com/prometheus-operator/kube-prometheus) \u6536\u96c6\u4e86\u5f88\u591a\u6709\u7528\u7684\u6570\u636e\uff0c\u4f46\u662f\u5176\u4e2d\u6709\u5f88\u591a\u5bf9\u4e8e OpenAI \u6765\u8bf4\u90fd\u662f\u6ca1\u7528\u7684\uff0c\u56e0\u6b64\u4ed6\u4eec\u9009\u62e9\u901a\u8fc7 [P8s rules](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config) \u6765\u4e22\u5f03\u4e00\u4e9b\u6307\u6807\uff1bP8s \u7ecf\u5e38\u6027\u51fa\u73b0 OOM\uff0c\u6700\u7ec8\u5b9a\u4f4d\u5230\u95ee\u9898\u51fa\u5728 Grafana \u548c P8s \u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f [patch P8s](https://github.com/openai/prometheus/pull/1)\uff1bGang scheduling \u7528\u5230\u4e86 K8s 1.15 \u4ee5\u540e\u652f\u6301\u7684 scheduling framework \u4ee5\u53ca\u5176\u4e2d\u7531\u963f\u91cc\u4e91\u548c\u817e\u8baf\u8d21\u732e\u7684 [coscheduling \u63d2\u4ef6](https://github.com/kubernetes-sigs/scheduler-plugins/tree/master/pkg/coscheduling)\uff08[\u7b2c 2 \u671f](/blog/2020/06/02/maybe-news-issue-2)\u4e5f\u6709\u505a\u4ecb\u7ecd\uff09\u3002\\n\\n## \u64ad\u5ba2\u6587\u5b57\u56de\u987e | Late Troubles \u662f\u9648\u66e6\u7684\u201c\u4e2d\u5e74\u670b\u514b\u8f9b\u9178\u201d\u5417\uff1f\\n\\n[[\u4e0a\u96c6]](https://mp.weixin.qq.com/s/ZS5GjlskTBH1DS52iss9yQ) [[\u4e0b\u96c6]](https://mp.weixin.qq.com/s/KiuoI6NfCHbTeuceHBggyQ)\\n\\n\u672c\u7bc7\u53c8\u540d\u300c\u5fae\u8f6f\u4ea7\u54c1\u7ecf\u7406\u6559\u4f60\u5982\u4f55\u4e0a\u73ed\u6478\u9c7c\u505a\u97f3\u4e50\u300d\uff0cLate Troubles \u662f Snapline \u4e50\u961f\u4e3b\u5531\u9648\u66e6\u7684\u4e2a\u4eba\u8ba1\u5212\uff0c\u76f8\u6bd4 Snapline \u7684\u97f3\u4e50\u98ce\u683c\uff0cLate Troubles \u66f4\u52a0\u6e29\u548c\u3002\u76ee\u524d\u9648\u66e6\u5df2\u7ecf\u79fb\u5c45\u897f\u96c5\u56fe\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u97f3\u4e50\u4eba\u3001\u4e00\u4e2a\u7236\u4eb2\u3001\u4e00\u4e2a\u4e0a\u73ed\u65cf\uff0c\u4ed6\u5728\u8fd9\u4e2a\u8bbf\u8c08\u4e2d\u8868\u8fbe\u4e86\u81ea\u5df1\u4f5c\u4e3a\u5f02\u4e61\u5f02\u5ba2\u7684\u601d\u8003\u3001\u5173\u4e8e\u5bb6\u5ead\u7684\u601d\u8003\u3001\u5173\u4e8e\u97f3\u4e50\u5236\u4f5c\u7684\u601d\u8003\u3001\u75ab\u60c5\u5bf9\u751f\u6d3b\u7684\u5f71\u54cd\u7b49\u7b49\u5185\u5bb9\uff0c\u53ef\u80fd\u5c31\u50cf Late Troubles \u7684\u97f3\u4e50\u4e00\u6837\uff0c\u8fd9\u7bc7\u8bbf\u8c08\u8ba9\u6211\u89c9\u5f97\u5e73\u5b9e\u53ca\u5766\u8bda\uff0c\u4efb\u4f55\u5149\u9c9c\u7684\u5916\u8868\u4e0b\u90fd\u4f1a\u6709\u4e0d\u5c3d\u76f8\u540c\u7684\u6545\u4e8b\uff0c\u5e0c\u671b\u6709\u4e00\u5929\u80fd\u5728\u56fd\u5185\u770b\u5230 Late Troubles \u7684\u73b0\u573a\u6f14\u51fa\u3002"},{"id":"/2021/02/04/maybe-news-issue-8","metadata":{"permalink":"/blog/2021/02/04/maybe-news-issue-8","source":"@site/blog/2021-02-04-maybe-news-issue-8.md","title":"Maybe News Issue #8","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2021-02-04T10:07:06.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":24.125,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #8","date":"2021-02-04 10:07:06 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #9","permalink":"/blog/2021/03/23/maybe-news-issue-9"},"nextItem":{"title":"\u76f4\u64ad\u56de\u987e\uff1a\u5982\u4f55\u4f7f\u7528 JuiceFS \u4f18\u5316 Kylin 4.0 \u7684\u5b58\u50a8\u6027\u80fd","permalink":"/blog/2021/02/01/kylin-meetup-write-up"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## The Google File System\\n\\n[[\u94fe\u63a5]](https://research.google/pubs/pub51)\\n\\n2003 \u5e74\u7684 SOSP \u4f1a\u8bae\u4e0a\u4f5c\u4e3a\u4e00\u5bb6\u521a\u6210\u7acb 5 \u5e74\u7684\u521b\u4e1a\u516c\u53f8\uff0cGoogle \u53d1\u8868\u4e86\u8fd9\u7bc7\u5f71\u54cd\u6df1\u8fdc\u7684\u8bba\u6587\u3002\u8bba\u6587\u7684\u7b2c\u4e00\u4f5c\u8005 Sanjay Ghemawat \u76f8\u6bd4\u4ed6\u7684\u540c\u4e8b Jeff Dean \u53ef\u80fd\u4e0d\u592a\u4e3a\u5916\u754c\u6240\u77e5\uff0c\u4f46\u770b\u8fc7\u4ed6\u7684\u5c65\u5386\u4ee5\u540e\u5c31\u4f1a\u53d1\u73b0\u65e9\u5728 DEC \u5de5\u4f5c\u671f\u95f4\u4ed6\u5c31\u5df2\u7ecf\u4e0e Jeff Dean \u5171\u4e8b\uff0c\u5f53 Jeff Dean \u5728 1999 \u5e74\u52a0\u5165 Google \u540e\u4e0d\u4e45 Sanjay Ghemawat \u4e5f\u968f\u5373\u52a0\u5165\uff0c\u5e76\u4e00\u8d77\u7814\u53d1\u4e86 Google File System\uff08\u4ee5\u4e0b\u7b80\u79f0 GFS\uff09\u3001MapReduce\u3001Bigtable\u3001Spanner\u3001TensorFlow \u8fd9\u4e9b\u6bcf\u4e00\u4e2a\u90fd\u9f0e\u9f0e\u5927\u540d\u7684\u7cfb\u7edf\uff0c\u662f\u5f53\u4e4b\u65e0\u6127\u7684 Google \u5143\u8001\u3002\\n\\n18 \u5e74\u540e\u7684\u4eca\u5929\u518d\u6765\u56de\u987e\u8fd9\u7bc7\u8bba\u6587\u4f9d\u7136\u80fd\u53d1\u73b0\u5f88\u591a\u503c\u5f97\u501f\u9274\u7684\u5730\u65b9\uff0c\u4f5c\u4e3a GFS \u6700\u8457\u540d\u7684\u5f00\u6e90\u5b9e\u73b0\uff0cHDFS \u8fd1\u5e74\u6765\u867d\u7136\u5df2\u7ecf\u6709\u4e86\u5f88\u591a\u81ea\u5df1\u7684\u6539\u8fdb\uff0c\u4f46\u6838\u5fc3\u67b6\u6784\u4f9d\u7136\u6cbf\u7528\u7684\u662f\u8fd9\u7bc7\u8bba\u6587\u7684\u601d\u60f3\u3002\u8ba9\u6211\u4eec\u56de\u5230\u5341\u51e0\u5e74\u524d\uff0c\u53bb\u63a2\u6c42\u4e3a\u4ec0\u4e48 Google \u5f53\u65f6\u8981\u7814\u53d1\u8fd9\u6837\u4e00\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u3002\\n\\n> GFS shares many of the same goals as previous distributed file systems such as performance, scalability, reliability, and availability. However, its design has been driven by key observations of our application workloads and technological environment, both current and anticipated, that reflect a marked departure from some earlier file system design assumptions.\\n\\n\u8bba\u6587\u5f00\u7bc7\u7684\u7b2c\u4e00\u6bb5\u8bdd\u5df2\u7ecf\u5f88\u597d\u5730\u6982\u62ec\u4e86 GFS \u8bbe\u8ba1\u7684\u521d\u8877\uff0c\u8fd9\u662f\u4e00\u4e2a\u5b8c\u5168\u57fa\u4e8e Google \u4e1a\u52a1\u7279\u70b9\u8bbe\u8ba1\u7684\u7cfb\u7edf\u3002\u56de\u60f3\u4e00\u4e0b Google \u7684\u4e1a\u52a1\u662f\u4ec0\u4e48\uff1f\u641c\u7d22\u5f15\u64ce\u3002\u641c\u7d22\u5f15\u64ce\u4f9d\u9760\u7684\u662f\u722c\u866b\u6293\u53d6\u5927\u91cf\u6570\u636e\uff0c\u901a\u8fc7\u7528\u6237\u8f93\u5165\u7684\u5173\u952e\u8bcd\u5728\u8fd9\u4e2a\u5e9e\u5927\u7684\u6570\u636e\u5e93\u4e2d\u68c0\u7d22\uff0c\u6700\u540e\u901a\u8fc7 Google \u72ec\u6709\u7684[\u6392\u5e8f\u7b97\u6cd5](https://en.wikipedia.org/wiki/PageRank)\u628a\u641c\u7d22\u7ed3\u679c\u5c55\u793a\u7ed9\u7528\u6237\u3002GFS \u9762\u5bf9\u7684\u4e1a\u52a1\u573a\u666f\u6709\u4e0b\u9762\u51e0\u4e2a\u7279\u70b9\uff1a\\n\\n- **\u7ec4\u4ef6\u6545\u969c\u968f\u5904\u53ef\u89c1**\uff1a\u5b58\u50a8\u96c6\u7fa4\u7531\u6210\u767e\u4e0a\u5343\u53f0\u666e\u901a\u5546\u7528\u673a\u5668\u7ec4\u6210\uff08\u4e0e\u4e4b\u5bf9\u5e94\u7684\u662f\u6602\u8d35\u7684\u8d85\u7ea7\u8ba1\u7b97\u673a\uff09\uff0c\u518d\u52a0\u4e0a\u5e94\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684 bug\u3001\u4eba\u4e3a\u9519\u8bef\u3001\u5404\u79cd\u786c\u4ef6\u6545\u969c\uff0c\u7cfb\u7edf\u968f\u65f6\u90fd\u9762\u4e34\u7740\u5f88\u591a\u4e0d\u7a33\u5b9a\u7684\u56e0\u7d20\u3002\u56e0\u6b64\u6301\u7eed\u76d1\u63a7\u3001\u9519\u8bef\u68c0\u6d4b\u3001\u5bb9\u9519\u4ee5\u53ca\u81ea\u52a8\u6062\u590d\u5c31\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\\n- **\u5927\u6587\u4ef6\u4e3a\u4e3b**\uff1aGB \u7ea7\u6587\u4ef6\u975e\u5e38\u5e38\u89c1\uff0c\u6bcf\u4e2a\u6587\u4ef6\u901a\u5e38\u5305\u542b\u5f88\u591a\u5e94\u7528\u5bf9\u8c61\uff08application objects\uff09\uff0c\u6bd4\u5982 web \u6587\u6863\u3002\u5bf9\u4e8e\u6570\u5341\u4ebf\u5bf9\u8c61\u7684 TB \u7ea7\u6570\u636e\u96c6\u6765\u8bf4\uff0c\u628a\u6587\u4ef6\u5207\u5206\u6210 KB \u7ea7\u5927\u5c0f\u4f1a\u4f7f\u5f97\u7ba1\u7406\u53d8\u5f97\u975e\u5e38\u590d\u6742\uff0c\u5373\u4f7f\u7cfb\u7edf\u80fd\u591f\u652f\u6491\u8fd9\u6837\u7684\u91cf\u7ea7\u3002\u56e0\u6b64\u7cfb\u7edf\u8bbe\u8ba1\u7684\u5047\u8bbe\u3001\u6587\u4ef6\u5757\u7684\u5927\u5c0f\u90fd\u9700\u8981\u91cd\u65b0\u8861\u91cf\u3002\\n- **\u5927\u591a\u6570\u6587\u4ef6\u90fd\u53ea\u662f\u8ffd\u52a0\u5199\u800c\u4e0d\u662f\u8986\u76d6**\uff1a\u968f\u673a\u5199\u7684\u573a\u666f\u5b8c\u5168\u4e0d\u5b58\u5728\uff0c\u6587\u4ef6\u4e00\u65e6\u5199\u5165\uff0c\u53ea\u4f1a\u6d89\u53ca\u8bfb\u64cd\u4f5c\uff0c\u4e14\u901a\u5e38\u662f\u987a\u5e8f\u8bfb\u3002\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\u90fd\u5177\u6709\u8fd9\u6837\u7684\u7279\u5f81\uff0c\u4f8b\u5982\u67d0\u4e9b\u6570\u636e\u662f\u88ab\u6570\u636e\u5206\u6790\u7a0b\u5e8f\u6279\u91cf\u626b\u63cf\u3001\u67d0\u4e9b\u6570\u636e\u662f\u7531\u6570\u636e\u6d41\u6301\u7eed\u751f\u6210\u3001\u67d0\u4e9b\u6570\u636e\u662f\u5f52\u6863\u6570\u636e\u3001\u67d0\u4e9b\u6570\u636e\u5c5e\u4e8e\u4e2d\u95f4\u7ed3\u679c\uff08\u7531\u67d0\u4e00\u53f0\u673a\u5668\u751f\u6210\u7136\u540e\u88ab\u53e6\u4e00\u53f0\u673a\u5668\u5904\u7406\uff09\u3002\\n\\nGoogle \u5f53\u65f6\u5df2\u7ecf\u90e8\u7f72\u4e86\u591a\u4e2a GFS \u96c6\u7fa4\uff0c\u6700\u5927\u7684\u4e00\u4e2a\u96c6\u7fa4\u6709\u8d85\u8fc7 1000 \u4e2a\u5b58\u50a8\u8282\u70b9\u4ee5\u53ca\u8d85\u8fc7 300TB \u7684\u78c1\u76d8\uff0c\u540c\u65f6\u88ab\u6570\u767e\u4e2a\u5ba2\u6237\u7aef\u8bbf\u95ee\u3002\\n\\n\u8bba\u6587\u7684\u7b2c\u4e8c\u7ae0\u8282\u8be6\u7ec6\u4ecb\u7ecd\u4e86 GFS \u7684\u8bbe\u8ba1\u5047\u8bbe\uff0c\u9664\u4e86\u524d\u9762\u63d0\u5230\u7684 3 \u4e2a\u4ee5\u5916\u8fd8\u5305\u62ec\uff1a\\n\\n- **\u4e1a\u52a1\u573a\u666f\u4e3b\u8981\u5305\u542b\u4e24\u79cd\u8bfb\u53d6\u6a21\u5f0f\uff1a\u5927\u6279\u91cf\u7684\u6d41\u5f0f\u8bfb\u53d6\u548c\u5c0f\u91cf\u7684\u968f\u673a\u8bfb\u53d6\u3002**\u5bf9\u4e8e\u524d\u4e00\u79cd\u6a21\u5f0f\uff0c\u6bcf\u6b21\u8bf7\u6c42\u4e00\u822c\u8bfb\u53d6\u6570\u767e KB \u6216\u8005 MB \u7ea7\u7684\u6570\u636e\uff0c\u540c\u4e00\u4e2a\u5ba2\u6237\u7aef\u7684\u8fde\u7eed\u8bf7\u6c42\u4e00\u822c\u4e5f\u662f\u8bfb\u53d6\u67d0\u4e2a\u6587\u4ef6\u7684\u8fde\u7eed\u533a\u57df\u3002\u800c\u540e\u4e00\u79cd\u6a21\u5f0f\u901a\u5e38\u4ece\u6587\u4ef6\u4efb\u610f\u504f\u79fb\u4f4d\u7f6e\u8bfb\u53d6\u51e0 KB \u6570\u636e\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u6027\u80fd\u654f\u611f\u7684\u5e94\u7528\u4f1a\u628a\u591a\u4e2a\u968f\u673a\u8bfb\u8bf7\u6c42\u6392\u5e8f\u540e\u6279\u91cf\u53d1\u9001\uff0c\u907f\u514d\u5728\u5355\u4e2a\u6587\u4ef6\u4e2d\u6765\u6765\u56de\u56de\u3002\\n- **\u7cfb\u7edf\u9700\u8981\u9488\u5bf9\u5e76\u53d1\u8ffd\u52a0\u5199\u540c\u4e00\u4e2a\u6587\u4ef6\u7684\u573a\u666f\u8bbe\u8ba1\u597d\u7684\u8bed\u4e49**\uff1a\u5178\u578b\u7684\u5e94\u7528\u573a\u666f\u662f\u628a GFS \u4f5c\u4e3a\u6d88\u606f\u961f\u5217\uff0c\u6570\u767e\u4e2a\u751f\u4ea7\u8005\u5e76\u53d1\u8ffd\u52a0\u6570\u636e\u5230\u540c\u4e00\u4e2a\u6587\u4ef6\uff1b\u6216\u8005\u591a\u8def\u5408\u5e76\u6587\u4ef6\uff0c\u60f3\u8c61\u4e00\u4e0b MapReduce \u7684 reduce \u9636\u6bb5\u3002\u8fd9\u4e2a\u6587\u4ef6\u6709\u53ef\u80fd\u662f\u8fb9\u5199\u8fb9\u8bfb\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5199\u5b8c\u4ee5\u540e\u518d\u8bfb\u3002\u56e0\u6b64\u7528\u6700\u5c0f\u7684\u540c\u6b65\u5f00\u9500\u4fdd\u8bc1\u539f\u5b50\u6027\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002\\n- **\u9ad8\u541e\u5410\u6bd4\u4f4e\u5ef6\u65f6\u66f4\u91cd\u8981**\uff1aGFS \u9762\u5bf9\u7684\u5927\u591a\u6570\u5e94\u7528\u8ffd\u6c42\u7684\u662f\u9ad8\u901f\u7387\u6279\u91cf\u5904\u7406\u6570\u636e\uff0c\u53ea\u6709\u5c11\u90e8\u5206\u5e94\u7528\u5bf9\u4e8e\u70b9\u67e5\u6709\u4e25\u683c\u7684\u5ef6\u65f6\u8981\u6c42\u3002\\n\\n\u50cf\u4f20\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u4e00\u6837\uff0cGFS \u63d0\u4f9b\u5305\u62ec\u521b\u5efa\u3001\u5220\u9664\u3001\u6253\u5f00\u3001\u5173\u95ed\u3001\u8bfb\u53d6\u3001\u5199\u5165\u8fd9\u6837\u7684\u63a5\u53e3\uff0c\u4f46\u662f GFS \u5e76\u4e0d\u63d0\u4f9b POSIX \u8fd9\u6837\u7684\u6807\u51c6 API\u3002\u6587\u4ef6\u901a\u8fc7\u76ee\u5f55\u7ed3\u6784\u7ec4\u7ec7\uff0c\u53ef\u4ee5\u901a\u8fc7\u8def\u5f84\u540d\u6765\u6807\u8bc6\u67d0\u4e00\u4e2a\u6587\u4ef6\u3002\u9664\u6b64\u4e4b\u5916\uff0cGFS \u8fd8\u63d0\u4f9b\u5feb\u7167\uff08snapshot\uff09\u548c\u539f\u5b50\u8ffd\u52a0\u5199\uff08record append\uff09\u529f\u80fd\u3002\\n\\n\u5728\u4ecb\u7ecd\u5b8c GFS \u7684\u8bbe\u8ba1\u80cc\u666f\u4ee5\u53ca\u5047\u8bbe\u4ee5\u540e\uff0c\u63a5\u4e0b\u6765\u662f\u8be6\u7ec6\u7684 GFS \u67b6\u6784\u8bb2\u89e3\u3002**GFS \u670d\u52a1\u7aef\u7531\u4e00\u4e2a master \u548c\u591a\u4e2a chunkserver \u7ec4\u6210\uff0c\u901a\u8fc7\u7279\u5b9a\u7684 client \u5e93\uff08\u5b9e\u73b0\u4e86 GFS \u7684\u6587\u4ef6\u7cfb\u7edf API\uff09\u4e0e\u5e94\u7528\u96c6\u6210\u3002**GFS \u662f\u975e\u5e38\u7ecf\u5178\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u67b6\u6784\uff0c\u5f71\u54cd\u4e86\u540e\u6765\u5f88\u591a\u7cfb\u7edf\u7684\u8bbe\u8ba1\u3002\\n\\nMaster \u8d1f\u8d23\u7ef4\u62a4\u6574\u4e2a\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\uff08metadata\uff09\uff0c\u5305\u62ec\u547d\u540d\u7a7a\u95f4\uff08namespace\uff09\u3001\u8bbf\u95ee\u63a7\u5236\uff08access control\uff09\u4fe1\u606f\u3001\u6587\u4ef6\u5230 chunk \u7684\u6620\u5c04\u4ee5\u53ca\u6bcf\u4e00\u4e2a chunk \u7684\u5177\u4f53\u4f4d\u7f6e\uff08location\uff09\u3002\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u7406\u89e3\u4e3a\u76ee\u5f55\u7ed3\u6784\u3001\u6587\u4ef6\u540d\u7b49\u4fe1\u606f\u3002\u9664\u6b64\u4e4b\u5916\uff0cmaster \u8fd8\u627f\u62c5\u4e00\u4e9b\u7cfb\u7edf\u7ea7\u7684\u6d3b\u52a8\uff0c\u4f8b\u5982 chunk \u7684\u79df\u7ea6\uff08lease\uff09\u7ba1\u7406\u3001\u5783\u573e\u56de\u6536\u65e0\u6548 chunk\u3001\u5728\u4e0d\u540c chunkserver \u4e4b\u95f4\u8fc1\u79fb chunk\u3002Master \u4f1a\u5468\u671f\u6027\u5730\u4e0e\u6bcf\u4e00\u4e2a chunkserver \u8fdb\u884c\u5fc3\u8df3\u901a\u4fe1\uff0c\u5fc3\u8df3\u4fe1\u606f\u4e2d\u540c\u65f6\u8fd8\u4f1a\u5305\u542b master \u4e0b\u53d1\u7684\u6307\u4ee4\u4ee5\u53ca chunkserver \u4e0a\u62a5\u7684\u72b6\u6001\u3002\u5143\u6570\u636e\u90fd\u662f\u4fdd\u5b58\u5728 master \u7684\u5185\u5b58\u4e2d\uff0c\u56e0\u6b64 master \u7684\u64cd\u4f5c\u90fd\u975e\u5e38\u5feb\u3002\u6bcf\u4e2a chunk \u7684\u5143\u6570\u636e\u5927\u7ea6\u4f1a\u5360\u7528 64 \u5b57\u8282\u5185\u5b58\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7684\u547d\u540d\u7a7a\u95f4\u4fe1\u606f\u4e5f\u662f\u5360\u7528 64 \u5b57\u8282\u5de6\u53f3\uff08\u56e0\u4e3a master \u9488\u5bf9\u6587\u4ef6\u540d\u8fdb\u884c\u4e86\u524d\u7f00\u538b\u7f29\uff09\uff0c\u76f8\u5bf9\u6765\u8bf4\u5185\u5b58\u7684\u5f00\u9500\u662f\u5f88\u5c0f\u7684\uff0c\u968f\u7740\u6587\u4ef6\u6570\u7684\u589e\u52a0\u5bf9 master \u8282\u70b9\u8fdb\u884c\u7eb5\u5411\u6269\u5c55\u5373\u53ef\u3002\u6bd4\u8f83\u91cd\u8981\u7684\u5143\u6570\u636e\u4fe1\u606f\uff08\u6bd4\u5982\u547d\u540d\u7a7a\u95f4\u3001\u6587\u4ef6\u5230 chunk \u7684\u6620\u5c04\uff09\u8fd8\u4f1a\u540c\u6b65\u6301\u4e45\u5316\u64cd\u4f5c\u65e5\u5fd7\uff08operation log\uff09\u5230 master \u7684\u672c\u5730\u78c1\u76d8\u4ee5\u53ca\u590d\u5236\u5230\u8fdc\u7aef\u673a\u5668\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u53ef\u9760\u6027\uff0c\u907f\u514d\u5143\u6570\u636e\u4e22\u5931\u3002\u5f53\u64cd\u4f5c\u65e5\u5fd7\u589e\u957f\u5230\u4e00\u5b9a\u5927\u5c0f\uff0cmaster \u4f1a\u751f\u6210\u4e00\u4e2a\u68c0\u67e5\u70b9\uff08checkpoint\uff09\u7528\u4e8e\u52a0\u5feb\u72b6\u6001\u6062\u590d\uff0c\u68c0\u67e5\u70b9\u6587\u4ef6\u662f\u4e00\u4e2a\u7c7b\u4f3c B \u6811\u7684\u7ed3\u6784\uff0c\u53ef\u4ee5\u4e0d\u7ecf\u8fc7\u89e3\u6790\u6620\u5c04\u5230\u5185\u5b58\u76f4\u63a5\u67e5\u8be2\u3002\u6bcf\u4e2a chunk \u7684\u5177\u4f53\u4f4d\u7f6e\u4e0d\u4f1a\u88ab\u6301\u4e45\u5316\uff0cmaster \u6bcf\u6b21\u542f\u52a8\u65f6\u4f1a\u901a\u8fc7\u8bf7\u6c42\u6240\u6709 chunkserver \u6765\u83b7\u53d6\u8fd9\u4e9b\u4fe1\u606f\u3002\u6700\u521d\u8bbe\u8ba1\u65f6\u5176\u5b9e\u8003\u8651\u8fc7\u6301\u4e45\u5316 chunk \u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u4f46\u662f\u540e\u6765\u53d1\u73b0\u5728 chunkserver \u62d3\u6251\u7ecf\u5e38\u53d8\u5316\uff08\u6bd4\u5982\u5b95\u673a\u3001\u6269\u7f29\u5bb9\uff09\u7684\u60c5\u51b5\u4e0b\u5982\u4f55\u4fdd\u6301 master \u548c chunkserver \u4e4b\u95f4\u7684\u6570\u636e\u540c\u6b65\u662f\u4e00\u4e2a\u96be\u9898\u3002\u6b64\u5916 GFS \u8fd8\u63d0\u4f9b\u4ec5\u7528\u4e8e\u53ea\u8bfb\u573a\u666f\u7684\u5f71\u5b50\uff08shadow\uff09master\uff0c\u5f71\u5b50 master \u7684\u6570\u636e\u4e0d\u662f\u5b9e\u65f6\u540c\u6b65\uff0c\u56e0\u6b64\u4e0d\u4fdd\u8bc1\u662f\u6700\u65b0\u7684\u6570\u636e\u3002\\n\\n\u91c7\u7528\u5355 master \u7684\u67b6\u6784\u6781\u5927\u5730\u7b80\u5316\u4e86 GFS \u7684\u8bbe\u8ba1\uff08\u4e5f\u6210\u4e3a\u4e86\u4e4b\u540e\u88ab\u4eba\u8bdf\u75c5\u7684\u56e0\u7d20\uff09\uff0cmaster \u4f5c\u4e3a\u638c\u63e1\u5168\u5c40\u4fe1\u606f\u7684\u552f\u4e00\u5165\u53e3\uff0c\u5fc5\u987b\u786e\u4fdd\u6700\u5c0f\u7a0b\u5ea6\u5f71\u54cd\u8bfb\u5199\u64cd\u4f5c\uff0c\u5426\u5219\u5c31\u4f1a\u53d8\u6210\u6574\u4e2a\u7cfb\u7edf\u7684\u74f6\u9888\u3002**\u56e0\u6b64 GFS \u7684\u8bbe\u8ba1\u662f client \u8bfb\u5199\u6570\u636e\u6c38\u8fdc\u4e0d\u4f1a\u7ecf\u8fc7 master\u3002**\u5b9e\u73b0\u65b9\u5f0f\u5f88\u7b80\u5355\uff0cclient \u8bf7\u6c42 master \u83b7\u53d6\u5230\u5177\u4f53\u9700\u8981\u901a\u4fe1\uff08\u4e0d\u7ba1\u662f\u8bfb\u8fd8\u662f\u5199\uff09\u7684 chunkserver \u5217\u8868\uff0c\u628a\u8fd9\u4e2a\u5217\u8868\u7f13\u5b58\u5728\u672c\u5730\uff0c\u4e4b\u540e\u5c31\u76f4\u63a5\u8bf7\u6c42 chunkserver\u3002\\n\\nChunkserver \u8fd9\u4e2a\u540d\u5b57\u7684\u6765\u5386\u5176\u5b9e\u662f\u56e0\u4e3a GFS \u628a\u6587\u4ef6\u5206\u5272\u6210\u4e86\u591a\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684 chunk\u3002\u6bcf\u4e2a chunk \u7684\u5927\u5c0f\u662f 64MiB\uff0c\u76f8\u6bd4\u4f20\u7edf\u6587\u4ef6\u7cfb\u7edf\u7684\u5757\uff08block\uff09\u5927\u5c0f\u5927\u4e86\u5f88\u591a\uff08\u6bd4\u5982 ext4 \u9ed8\u8ba4\u7684\u5757\u5927\u5c0f\u662f 4KiB\uff09\uff0c\u540c\u65f6 master \u4f1a\u4e3a\u6bcf\u4e00\u4e2a chunk \u5206\u914d\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684 64 \u4f4d ID\u3002Chunkserver \u9664\u4e86\u5c06 chunk \u5b58\u50a8\u5230\u672c\u5730\u78c1\u76d8\u4e0a\uff0c\u8fd8\u4f1a\u590d\u5236\u5230\u5176\u5b83 chunkserver\uff0cGFS \u9ed8\u8ba4\u4f1a\u5b58\u50a8 3 \u4e2a\u526f\u672c\uff0c\u5f53\u7136\u7528\u6237\u4e5f\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u76ee\u5f55\u6307\u5b9a\u4e0d\u540c\u7684\u590d\u5236\u7b49\u7ea7\u3002\u4e3a\u4ec0\u4e48 GFS \u4f1a\u9009\u62e9 64MiB \u8fd9\u4e48\u5927\u7684 chunk \u5927\u5c0f\u5462\uff1f\u8bba\u6587\u4e2d\u5217\u4e3e\u4e86\u51e0\u4e2a\u539f\u56e0\uff1a\\n\\n- **\u51cf\u5c11 client \u4e0e master \u7684\u4ea4\u4e92**\uff1a\u524d\u9762\u63d0\u5230 client \u4e0d\u7ba1\u662f\u8bfb\u8fd8\u662f\u5199\u6570\u636e\u90fd\u9700\u8981\u9996\u5148\u4e0e master \u901a\u4fe1\uff0cGFS \u7684\u4e1a\u52a1\u573a\u666f\u901a\u5e38\u90fd\u662f\u987a\u5e8f\u8bfb\u5199\u5927\u6587\u4ef6\uff0cchunk \u5927\u5c0f\u8d8a\u5927 client \u5c31\u80fd\u5728 1 \u6b21\u8bf7\u6c42\u4e2d\u83b7\u53d6\u5230\u66f4\u591a\u7684\u4fe1\u606f\u3002\u5373\u4f7f\u662f\u968f\u673a\u8bfb\u7684\u573a\u666f\uff0cclient \u4e5f\u80fd\u66f4\u591a\u5730\u7f13\u5b58 chunk \u4f4d\u7f6e\u4fe1\u606f\u3002\\n- **\u964d\u4f4e chunkserver \u7684\u7f51\u7edc\u5f00\u9500**\uff1a\u66f4\u5927\u7684 chunk\uff0cclient \u8d8a\u53ef\u80fd\u6267\u884c\u66f4\u591a\u7684\u64cd\u4f5c\uff0c\u56e0\u6b64\u53ef\u4ee5\u964d\u4f4e client \u4e0e chunkserver \u4e4b\u95f4\u7684 TCP \u957f\u8fde\u63a5\u7684\u7f51\u7edc\u5f00\u9500\u3002\\n- **\u51cf\u5c11 master \u7ef4\u62a4\u7684\u5143\u6570\u636e\u5927\u5c0f**\uff1achunk \u8d8a\u5927\uff0cmaster \u5c31\u53ef\u4ee5\u5728\u5185\u5b58\u4e2d\u4fdd\u5b58\u66f4\u591a\u5143\u6570\u636e\u3002\\n\\n\u6bcf\u4e2a chunk \u4ee5\u53ca\u5b83\u7684\u526f\u672c\u6709\u4e24\u79cd\u89d2\u8272\uff1a\u4e3b\u526f\u672c\uff08primary replica\uff09\u548c\u4ece\u526f\u672c\uff08secondary replica\uff09\uff0c\u4e3b\u526f\u672c\u53ea\u6709 1 \u4e2a\uff0c\u5176\u5b83\u7684\u90fd\u662f\u4ece\u526f\u672c\uff0c\u81f3\u4e8e\u5177\u4f53\u54ea\u4e2a\u662f\u4e3b\u526f\u672c\u662f\u7531 master \u51b3\u5b9a\u7684\u3002master \u4f1a\u6388\u6743\u4e00\u4e2a\u79df\u7ea6\uff08lease\uff09\u7ed9\u4e3b\u526f\u672c\uff0c\u79df\u7ea6\u7684\u521d\u59cb\u8d85\u65f6\u65f6\u95f4\u662f 60 \u79d2\uff0c\u4f46\u662f\u53ea\u8981 chunk \u8fd8\u5728\u88ab\u4fee\u6539\uff0c\u4e3b\u526f\u672c\u53ef\u4ee5\u65e0\u9650\u7eed\u79df\uff0cmaster \u4e5f\u53ef\u4ee5\u968f\u65f6\u5e9f\u9664\u79df\u7ea6\u3002\u57fa\u4e8e\u4e3b\u4ece\u526f\u672c\u548c\u79df\u7ea6\u7684\u6982\u5ff5\uff0c\u6570\u636e\u5199\u5165 GFS \u7684\u6d41\u7a0b\u662f\uff1a\\n\\n1. Client \u8bf7\u6c42 master \u83b7\u53d6\u5f53\u524d chunk \u6240\u6709\u526f\u672c\u6240\u5728\u7684 chunkserver \u5217\u8868\uff0c\u5982\u679c\u76ee\u524d\u8fd8\u6ca1\u6709\u79df\u7ea6\uff0cmaster \u4f1a\u6388\u6743\u7ed9\u5176\u4e2d\u4e00\u4e2a\u526f\u672c\uff08\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u526f\u672c\u5347\u7ea7\u4e3a\u4e3b\u526f\u672c\uff09\u3002\\n2. Master \u5c06\u4e3b\u526f\u672c\u7684 ID \u4ee5\u53ca\u4ece\u526f\u672c\u7684\u4f4d\u7f6e\u56de\u590d\u7ed9 client\uff0cclient \u4f1a\u5c06\u8fd9\u4e9b\u4fe1\u606f\u7f13\u5b58\u5728\u672c\u5730\uff0c\u53ea\u6709\u5f53\u4e3b\u526f\u672c\u65e0\u6cd5\u901a\u4fe1\u6216\u8005\u79df\u7ea6\u5931\u6548\u65f6\u624d\u4f1a\u518d\u6b21\u8bf7\u6c42 master\u3002\\n3. Client \u53d1\u9001**\u6570\u636e**\u7ed9\u4e3b\u4ece\u526f\u672c\u6240\u5728\u7684\u5168\u90e8 chunkserver\u3002\u53d1\u9001\u987a\u5e8f\u65e0\u6240\u8c13\uff0c\u4e00\u822c\u662f\u53d1\u9001\u7ed9\u79bb client \u6700\u8fd1\u7684\u4e00\u4e2a chunkserver\uff0c\u7136\u540e\u8fd9\u4e2a chunkserver \u4f1a\u4f20\u9012\u7ed9\u79bb\u5b83\u6700\u8fd1\u7684\u4e0b\u4e00\u4e2a chunkserver\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002Chunkserver \u4e4b\u95f4\u7684\u8ddd\u79bb\u662f\u901a\u8fc7 IP \u5730\u5740\u4f30\u7b97\u51fa\u6765\u7684\uff0c\u4e4b\u6240\u4ee5\u91c7\u7528\u8fd9\u79cd\u7ebf\u6027\u4f20\u9012\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u76ee\u7684\u662f\u6700\u5927\u5316\u7f51\u7edc\u541e\u5410\u3002Chunkserver \u4e0d\u4f1a\u7b49\u5230\u4e00\u4e2a chunk \u5168\u90e8\u63a5\u6536\u5b8c\u6bd5\u624d\u53d1\u9001\u51fa\u53bb\uff0c\u800c\u662f\u91c7\u7528\u7ba1\u9053\uff08pipeline\uff09\u7684\u65b9\u5f0f\uff0c\u53ea\u8981\u63a5\u6536\u5230\u4e00\u5b9a\u7684\u6570\u636e\u5c31\u7acb\u5373\u53d1\u9001\u3002**\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5f53\u65f6 Google \u7684\u7f51\u7edc\u5e26\u5bbd\u662f 100Mbps\uff0c\u800c\u73b0\u5728\uff082021 \u5e74\uff09AWS \u4e0a\u7684\u673a\u5668\u7f51\u7edc\u5e26\u5bbd\u80fd\u8fbe\u5230 25Gbps\uff0c\u662f\u5f53\u5e74\u7684 250 \u500d\u3002**\\n4. \u4e00\u65e6\u6240\u6709\u526f\u672c\u90fd\u56de\u590d\u6536\u5230\u4e86\u6570\u636e\uff0cclient \u5c31\u53d1\u9001**\u5199\u8bf7\u6c42**\u7ed9\u4e3b\u526f\u672c\u3002\u8fd9\u4e2a\u8bf7\u6c42\u5305\u542b\u4e86\u4e0a\u4e00\u6b65\u53d1\u9001\u7684\u6240\u6709\u6570\u636e\u7684\u6807\u8bc6\u7b26\uff0c\u4e3b\u526f\u672c\u4f1a\u5206\u914d\u8fde\u7eed\u7684\u5e8f\u5217\u53f7\u7ed9\u5199\u8bf7\u6c42\uff0c\u5e76\u6309\u7167\u5e8f\u5217\u53f7\u7684\u987a\u5e8f\u4fee\u6539\u5b83\u7684\u72b6\u6001\u3002\\n5. \u4e3b\u526f\u672c\u8f6c\u53d1\u5199\u8bf7\u6c42\u7ed9\u5176\u5b83\u4ece\u526f\u672c\uff0c\u4ece\u526f\u672c\u4e5f\u4f1a\u6309\u7167\u76f8\u540c\u7684\u5e8f\u5217\u53f7\u987a\u5e8f\u4fee\u6539\u72b6\u6001\u3002\\n6. \u5f53\u6240\u6709\u4ece\u526f\u672c\u90fd\u56de\u590d\u7ed9\u4e3b\u526f\u672c\uff0c\u5373\u8868\u793a\u8fd9\u6b21\u5199\u8bf7\u6c42\u5df2\u7ecf\u5b8c\u6210\u3002\\n7. \u4e3b\u526f\u672c\u56de\u590d\u8bf7\u6c42\u7ed9 client\u3002\u5982\u679c\u4efb\u4f55\u526f\u672c\u53d1\u751f\u4e86\u9519\u8bef\u4e5f\u4f1a\u4e00\u5e76\u56de\u590d\uff0cGFS \u7684\u5ba2\u6237\u7aef\u4f1a\u5c1d\u8bd5\u91cd\u8bd5\u3002\u6b65\u9aa4 3~\u6b65\u9aa4 7 \u6267\u884c\u65f6\u4e5f\u4f1a\u6709\u4e00\u5b9a\u7684\u91cd\u8bd5\u673a\u5236\uff0c\u907f\u514d\u6bcf\u6b21\u90fd\u4ece\u5934\u5f00\u59cb\u3002\\n\\n\u539f\u5b50\u8ffd\u52a0\u5199\uff08record append\uff09\u7684\u6d41\u7a0b\u5927\u4f53\u4e0a\u548c\u4e0a\u9762\u4ecb\u7ecd\u7684\u4e00\u6837\uff0c\u533a\u522b\u5728\u4e8e\u7b2c 4 \u6b65\u65f6\u4e3b\u526f\u672c\u4f1a\u68c0\u67e5\u5199\u5165\u4ee5\u540e\u662f\u5426\u4f1a\u8d85\u8fc7\u6700\u540e\u4e00\u4e2a chunk \u7684\u5927\u5c0f\uff0864MiB\uff09\uff0c\u5982\u679c\u6ca1\u8d85\u8fc7\u5c31\u8ffd\u52a0\u5230\u540e\u9762\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\u4f1a\u628a\u6700\u540e\u4e00\u4e2a chunk \u586b\u5145\uff08pad\uff09\u6ee1\uff0c\u5e76\u56de\u590d client \u91cd\u8bd5\u3002\\n\\n\u5feb\u7167\uff08snapshot\uff09\u529f\u80fd\u57fa\u4e8e copy-on-write \u5b9e\u73b0\uff0cmaster \u901a\u8fc7\u4ec5\u4ec5\u590d\u5236\u5143\u6570\u636e\u7684\u65b9\u5f0f\u80fd\u591f\u5728\u77ed\u65f6\u95f4\u5185\u5b8c\u6210\u5feb\u7167\u7684\u521b\u5efa\u3002\u5f53 client \u9700\u8981\u4fee\u6539\u5feb\u7167\u6570\u636e\u65f6\uff0cmaster \u4f1a\u901a\u77e5\u6240\u6709 chunkserver \u672c\u5730\u590d\u5236\u5bf9\u5e94\u7684 chunk\uff0c\u65b0\u7684\u4fee\u6539\u4f1a\u5728\u590d\u5236\u540e\u7684 chunk \u4e0a\u8fdb\u884c\u3002\\n\\n\u9650\u4e8e\u672c\u671f\u7684\u7bc7\u5e45\uff0c\u8fd8\u6709\u5f88\u591a GFS \u7684\u7279\u6027\u6ca1\u6709\u4ecb\u7ecd\uff0c\u4f8b\u5982\u547d\u540d\u7a7a\u95f4\u7ba1\u7406\u4e0e\u9501\u3001\u526f\u672c\u653e\u7f6e\u7b56\u7565\uff08placement policy\uff09\u3001chunk \u91cd\u65b0\u590d\u5236\uff08re-replication\uff09\u3001\u6570\u636e\u5747\u8861\uff08rebalancing\uff09\u3001\u5783\u573e\u56de\u6536\u3001\u9ad8\u53ef\u7528\u7b49\u3002\u6700\u540e\u662f\u4e00\u4e2a\u5f69\u86cb\uff0c\u5982\u679c\u4f60\u4ed4\u7ec6\u770b\u8bba\u6587\u6700\u540e\u7684\u611f\u8c22\u540d\u5355\uff0c\u4f1a\u53d1\u73b0\u4e00\u4e2a\u719f\u6089\u7684\u540d\u5b57\uff08\u5f53\u7136\u4e0d\u662f Jeff Dean\uff09\u3002\\n\\n## Colossus: Successor to the Google File System\\n\\n[[\u94fe\u63a5]](https://www.systutorials.com/colossus-successor-to-google-file-system-gfs)\\n\\n\u81ea\u4ece GFS \u7684\u8bba\u6587\u53d1\u5e03\u4ee5\u6765\uff0cGoogle \u7684\u6570\u636e\u5df2\u7ecf\u589e\u957f\u4e86\u597d\u51e0\u4e2a\u6570\u91cf\u7ea7\uff0c\u5f88\u663e\u7136 GFS \u7684\u67b6\u6784\u5df2\u7ecf\u65e0\u6cd5\u652f\u6491\u5982\u6b64\u5927\u89c4\u6a21\u7684\u6570\u636e\u5b58\u50a8\u3002\u90a3 Google \u4e0b\u4e00\u4ee3\u7684\u6587\u4ef6\u5b58\u50a8\u662f\u4ec0\u4e48\u5462\uff1f\u7b54\u6848\u5c31\u662f Colossus\u3002\u8fd9\u4e2a\u795e\u79d8\u7684\u9879\u76ee\u76f4\u5230\u76ee\u524d\u4e3a\u6b62\u90fd\u6ca1\u6709\u5728\u516c\u5f00\u573a\u5408\u88ab\u5168\u9762\u6b63\u5f0f\u5730\u4ecb\u7ecd\u8fc7\uff0c\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u5f88\u591a\u788e\u7247\u7684\u4fe1\u606f\u6765\u62fc\u51d1\u51fa\u5b83\u7684\u6a21\u6837\uff0c\u4e0a\u9762\u94fe\u63a5\u4e2d\u7684\u5185\u5bb9\u5373\u662f\u901a\u8fc7\u8fd9\u4e9b\u4fe1\u606f\u6574\u7406\u51fa\u6765\u7684\u3002\u4e00\u4e9b\u6709\u8da3\u7684\u4fe1\u606f\u662f\uff1a\u5143\u6570\u636e\u670d\u52a1\uff08Curators\uff09\u57fa\u4e8e Bigtable\uff1b\u76f8\u6bd4 GFS \u81f3\u5c11\u53ef\u4ee5\u6a2a\u5411\u6269\u5c55 100 \u500d\uff1bGFS \u4f9d\u7136\u5b58\u5728\uff0c\u53ea\u4e0d\u8fc7\u662f\u7528\u6765\u5b58\u50a8\u6587\u4ef6\u7cfb\u7edf\u5143\u6570\u636e\u7684\u5143\u6570\u636e\uff08metametadata\uff09\uff1bColossus \u53ef\u4ee5\u57fa\u4e8e\u53e6\u4e00\u4e2a Colossus \u6784\u5efa\uff0c\u5c31\u50cf\u4fc4\u7f57\u65af\u5957\u5a03\u4e00\u6837\u65e0\u9650\u5d4c\u5957\uff08\u8ba9\u6211\u60f3\u5230\u4e86\u5206\u5f62\uff09\uff1b\u5b58\u50a8\u6570\u636e\u7684\u670d\u52a1\u53eb\u505a D server\uff1b\u9ed8\u8ba4\u4f7f\u7528 Reed-Solomon \u7f16\u7801\u5b58\u50a8\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u901a\u5e38\u6240\u8bf4\u7684\u7ea0\u5220\u7801\uff08erasure code\uff09\u3002\u5efa\u8bae\u914d\u5408\u8fd9\u4e2a 2017 \u5e74\u7684 [slide](http://www.pdsw.org/pdsw-discs17/slides/PDSW-DISCS-Google-Keynote.pdf) \u4ee5\u53ca\u8fd9\u7bc7[\u4e2d\u6587\u535a\u5ba2](https://levy.at/blog/22)\u4e00\u8d77\u9605\u8bfb\u3002\\n\\n## Storage Reimagined for a Streaming World\\n\\n[[\u94fe\u63a5]](https://blog.pravega.io/2017/04/09/storage-reimagined-for-a-streaming-world)\\n\\n\u6d41\u5f0f\u8ba1\u7b97\u8fd9\u51e0\u5e74\u5e94\u8be5\u7b97\u662f\u7ea2\u5230\u53d1\u7d2b\uff1f\u770b\u770b Flink \u793e\u533a\u7684\u53d1\u5c55\u4fbf\u53ef\u77e5\u6653\u3002\u4e0d\u8fc7\u672c\u671f\u8981\u4ecb\u7ecd\u7684\u4e0d\u662f\u6d41\u5f0f\u8ba1\u7b97\uff0c\u800c\u662f\u6d41\u5f0f\u5b58\u50a8\u3002\u8bf4\u5230\u4e0e\u6d41\u5f0f\u8ba1\u7b97\u6709\u5173\u7684\u5b58\u50a8\uff0c\u9996\u5148\u60f3\u5230\u7684\u53ef\u80fd\u662f Kafka\uff0c\u4f5c\u4e3a\u5b9e\u65f6\u6570\u636e\u6d41\u7684\u6d88\u606f\u603b\u7ebf\uff0cKafka \u627f\u62c5\u7740\u975e\u5e38\u91cd\u8981\u7684\u89d2\u8272\u3002\u4f46\u662f Kafka \u4e5f\u4e0d\u662f\u5b8c\u7f8e\u7684\uff0c\u5b83\u7684\u8bde\u751f\u5176\u5b9e\u6bd4\u6d41\u5f0f\u8ba1\u7b97\u66f4\u65e9\u3002Kafka 2011 \u5e74[\u5f00\u6e90](https://blog.linkedin.com/2011/01/11/open-source-linkedin-kafka)\uff0cSpark [v0.7.0](https://spark.apache.org/news/spark-0-7-0-released.html) 2013 \u5e74\u53d1\u5e03\u5f00\u59cb\u652f\u6301 streaming\uff0cFlink [v0.7.0](https://flink.apache.org/news/2014/11/04/release-0.7.0.html) 2014 \u5e74\u53d1\u5e03\u5f00\u59cb\u652f\u6301 streaming\uff08\u8ddf Spark \u662f\u540c\u4e00\u4e2a\u7248\u672c\u53f7\u4e0d\u77e5\u662f\u5426\u662f\u5de7\u5408\uff09\u3002\u56e0\u6b64 Kafka \u7684\u5f88\u591a\u8bbe\u8ba1\u5e76\u4e0d\u662f\u9488\u5bf9\u6d41\u5f0f\u8ba1\u7b97\u573a\u666f\u4f18\u5316\u3002\u6bd4\u5982 topic partition \u8fd9\u4e2a\u6982\u5ff5\uff0c\u672c\u8d28\u4e0a\u662f\u4e3a\u4e86\u63d0\u9ad8\u8bfb\u6216\u8005\u5199\u7684\u5e76\u53d1\uff0c\u4f46\u662f partition \u672c\u8eab\u662f\u4e00\u4e2a\u9759\u6001\u914d\u7f6e\uff0c\u5e76\u4e0d\u80fd\u505a\u5230\u52a8\u6001\u4f38\u7f29\u3002\u518d\u6bd4\u5982 Kafka \u7684\u6570\u636e\u5b58\u50a8\uff0c\u76ee\u524d\u53ea\u652f\u6301\u5185\u5b58\u548c\u672c\u5730\u78c1\u76d8\u4e24\u79cd\uff0c\u6d88\u8d39\u65b0\u6570\u636e\u90fd\u662f\u4ece\u5185\u5b58\uff0c\u5982\u679c\u662f\u65e7\u6570\u636e\u5c31\u53ef\u80fd\u8bfb\u78c1\u76d8\uff0c\u4f46\u662f Kafka \u96c6\u7fa4\u7684\u5b58\u50a8\u5bb9\u91cf\u4e0a\u9650\u6bd5\u7adf\u8fd8\u662f\u53d7\u9650\u4e8e\u78c1\u76d8\u7a7a\u95f4\uff0c\u5728\u6d41\u5f0f\u8ba1\u7b97\u8d8a\u6765\u8d8a\u91cd\u4ee5\u53ca\u4e91\u8ba1\u7b97\u5927\u884c\u5176\u9053\u7684\u4eca\u5929\u96c6\u7fa4\u8fd0\u7ef4\u662f\u4e00\u4e2a\u96be\u9898\uff08\u67d0\u4e9b\u516c\u53f8\u5df2\u7ecf\u81ea\u7814\u4e86 Kafka on HDFS \u7684\u65b9\u6848\uff0c\u6bd4\u5982[\u5feb\u624b](https://cloud.tencent.com/developer/news/599446)\uff09\u3002Pravega \u4fbf\u8fd9\u6837\u5e94\u8fd0\u800c\u751f\uff0c\u8fd9\u662f\u4e00\u4e2a\u6765\u81ea\u6234\u5c14\u7684[\u5f00\u6e90\u9879\u76ee](https://github.com/pravega/pravega)\uff0c\u4e00\u4e9b\u8bbe\u8ba1\u4eae\u70b9\u662f\u52a8\u6001 partition \u4ee5\u53ca\u81ea\u52a8\u6570\u636e\u5206\u5c42\uff08Apache BookKeeper + HDFS\uff09\u3002\\n\\n## Why We Built lakeFS: Atomic and versioned Data Lake Operations\\n\\n[[\u94fe\u63a5]](https://lakefs.io/why-we-built-lakefs-atomic-and-versioned-data-lake-operations)\\n\\n\u5728\u6570\u636e\u5e93\u9886\u57df ACID \u548c MVCC \u5df2\u7ecf\u4e0d\u662f\u4ec0\u4e48\u65b0\u9c9c\u7684\u6982\u5ff5\uff0c\u4f46\u662f\u6587\u4ef6\u7cfb\u7edf\u9886\u57df\u4f3c\u4e4e\u8fd8\u662f\u4e00\u4e2a\u5c5e\u4e8e\u6bd4\u8f83\u300c\u65e9\u671f\u300d\u7684\u9636\u6bb5\uff0c\u867d\u7136\u8fc7\u53bb\u5df2\u7ecf\u6709\u7c7b\u4f3c [ZFS](https://en.wikipedia.org/wiki/ZFS)\u3001[Btrfs](https://en.wikipedia.org/wiki/Btrfs) \u8fd9\u6837\u521b\u65b0\u7684\u8bbe\u8ba1\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u662f\u5e7f\u6cdb\u88ab\u5927\u4f17\u4e86\u89e3\u4ee5\u53ca\u4f7f\u7528\u7684\u6280\u672f\u3002\u7279\u522b\u662f\u5f53\u4e91\u8ba1\u7b97\u4ee5\u53ca S3 \u8fd9\u6837\u7684\u300c\u50bb\u74dc\u300d\u65b9\u6848\u51fa\u73b0\u540e\uff0c\u4eba\u4eec\u4f3c\u4e4e\u5df2\u7ecf\u4e60\u60ef\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u4ea7\u54c1\u3002\u6570\u636e\u6e56\uff08data lake\uff09\u8fd9\u4e2a\u8bcd\u6c47\u4e0d\u77e5\u9053\u4ece\u4ec0\u4e48\u65f6\u5019\u5f00\u59cb\u6d41\u884c\uff0c\u5bf9\u8c61\u5b58\u50a8\u7684\u89d2\u8272\u53d8\u5f97\u8d8a\u6765\u8d8a\u91cd\uff08\u81f3\u5c11\u4e91\u5382\u5546\u662f\u8fd9\u6837\u5e0c\u671b\u7684\uff1f\uff09\u3002\u4eba\u4eec\u5bf9\u8fd9\u4e2a\u300c\u4e07\u80fd\u300d\u7684\u5b58\u50a8\u6709\u7740\u8d8a\u6765\u8d8a\u591a\u7684\u671f\u671b\uff0c\u4f46\u662f\u5bf9\u8c61\u5b58\u50a8\u5e76\u4e0d\u662f\u4e07\u80fd\u7684\u3002\u4e3a\u4e86\u89e3\u51b3\u5bf9\u8c61\u5b58\u50a8\u7684\u5404\u79cd\u95ee\u9898\uff08\u8fd9\u91cc\u4e0d\u8d58\u8ff0\u5177\u4f53\u95ee\u9898\uff09\u6216\u8005\u8bf4\u586b\u8865\u5b83\u7684\u4e00\u4e9b\u7f3a\u5931\uff0c\u8d8a\u6765\u8d8a\u591a\u57fa\u4e8e\u5bf9\u8c61\u5b58\u50a8\u7684\u9879\u76ee\u8bde\u751f\u3002[lakeFS](https://lakefs.io) \u5373\u662f\u5176\u4e2d\u4e00\u4e2a\uff0clakeFS \u5e0c\u671b\u901a\u8fc7\u63d0\u4f9b\u7c7b\u4f3c Git \u7684\u4f53\u9a8c\u6765\u7ba1\u7406\u5bf9\u8c61\u5b58\u50a8\u4e2d\u7684\u6570\u636e\uff0c\u5e76\u4e14\u4fdd\u8bc1 ACID\u3002\u6bd4\u5982\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u7684\u300c\u5206\u652f\u300d\u5373\u53ef\u5b9e\u73b0\u591a\u7248\u672c\u7ba1\u7406\u3002lakeFS \u7684\u5f00\u53d1\u56e2\u961f\u6765\u81ea\u4ee5\u8272\u5217\uff08[\u516c\u53f8\u5b98\u7f51](https://www.treeverse.io)\u633a\u6709\u610f\u601d\uff09\uff0c\u9879\u76ee\u4f7f\u7528 Go \u8bed\u8a00\u5b9e\u73b0\u3002\u4e00\u4e9b\u7c7b\u4f3c\u7684\u9879\u76ee\u8fd8\u6709 [DVC](https://dvc.org)\u3001[Quilt](https://github.com/quiltdata/quilt) \u4ee5\u53ca [Hanger](https://github.com/tensorwerk/hangar-py)\u3002\\n\\n## Magnet: A scalable and performant shuffle architecture for Apache Spark\\n\\n[[\u94fe\u63a5]](https://engineering.linkedin.com/blog/2020/introducing-magnet)\\n\\n\u5728[\u7b2c 6 \u671f](/blog/2020/09/15/maybe-news-issue-6) Maybe News \u66fe\u7ecf\u4ecb\u7ecd\u8fc7 Facebook \u7684 Cosco\uff0c\u4e00\u4e2a\u7ed9 Hive/Spark \u4f7f\u7528\u7684 remote shuffle service \u5b9e\u73b0\u3002\u672c\u671f\u4ecb\u7ecd\u7684 Magnet \u6765\u81ea LinkedIn\uff0c\u4e5f\u662f\u4e00\u4e2a shuffle service\u3002\u8ddf Cosco \u7684\u533a\u522b\u5728\u4e8e Magnet \u4e0d\u662f\u5b58\u7b97\u5206\u79bb\u67b6\u6784\uff0c\u4e0d\u4f9d\u8d56\u5916\u90e8\u5b58\u50a8\uff0c\u6838\u5fc3\u601d\u60f3\u662f mapper \u628a shuffle \u6570\u636e\u5148\u5199\u5230\u672c\u5730\u7684 shuffle \u670d\u52a1\uff0c\u7136\u540e\u8fd9\u4e9b shuffle \u6570\u636e\u4f1a\u6839\u636e\u67d0\u79cd\u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\u63a8\u5230\u8fdc\u7aef\u7684 shuffle \u670d\u52a1\u4e0a\uff0c\u8fdc\u7aef shuffle \u670d\u52a1\u4f1a\u5b9a\u671f\u5408\u5e76\uff08merge\uff09\u6570\u636e\uff0c\u6700\u540e reducer \u4ece\u8fdc\u7aef shuffle \u670d\u52a1\u8bfb\u53d6\u6570\u636e\u3002\u8fd9\u91cc\u7684\u300c\u8fdc\u7aef\u300d\u5176\u5b9e\u662f\u4e00\u4e2a\u76f8\u5bf9\u7684\u6982\u5ff5\uff0c\u6709\u53ef\u80fd reducer \u8ddf shuffle \u670d\u52a1\u5728\u540c\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c\u90a3\u5c31\u4e0d\u9700\u8981\u53d1\u9001 RPC \u8bf7\u6c42\u800c\u662f\u76f4\u63a5\u8bfb\u53d6\u672c\u5730\u78c1\u76d8\u7684\u6570\u636e\u3002\u66f4\u591a\u6280\u672f\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003 VLDB 2020 \u7684[\u8bba\u6587](http://www.vldb.org/pvldb/vol13/p3382-shen.pdf)\uff0c\u53e6\u5916 LinkedIn \u7684\u5de5\u7a0b\u5e08\u4e5f\u5728\u79ef\u6781\u5c06 Magnet \u8d21\u732e\u7ed9 Spark \u793e\u533a\uff0c\u76ee\u524d\u5df2\u7ecf\u5408\u5165\u4e86\u51e0\u4e2a PR\uff0c\u5177\u4f53\u8bf7\u53c2\u8003 [SPARK-30602](https://issues.apache.org/jira/browse/SPARK-30602)\u3002\\n\\n## \u652f\u4ed8\u5b9d\u7814\u7a76\u5458\u738b\u76ca\uff1aGo+ \u53ef\u6709\u6548\u8865\u5168 Python \u7684\u4e0d\u8db3\\n\\n[[\u94fe\u63a5]](https://tech.antfin.com/community/articles/993)\\n\\n[\u738b\u76ca](https://github.com/wangkuiyi)\u76ee\u524d\u662f\u8682\u8681\u96c6\u56e2\u7814\u7a76\u5458\uff0c\u540c\u65f6\u4e5f\u662f\u5f00\u6e90\u9879\u76ee [SQLFlow](https://github.com/sql-machine-learning/sqlflow) \u548c [ElasticDL](https://github.com/sql-machine-learning/elasticdl) \u7684\u8d1f\u8d23\u4eba\uff08\u8fd9\u4e24\u4e2a\u9879\u76ee\u4e5f\u5f88\u6709\u610f\u601d\uff0c\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u4e86\u89e3\u4e86\u89e3\uff09\u3002\u8fd9\u91cc\u4ecb\u7ecd\u7684 [Go+](https://github.com/goplus/gop) \u662f\u4e03\u725b\u521b\u59cb\u4eba\u8bb8\u5f0f\u4f1f\u53d1\u8d77\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u4ece Go+ \u7684 slogan\u300cthe language for data science\u300d\u5c31\u80fd\u770b\u51fa\u9879\u76ee\u7684\u8bbe\u8ba1\u521d\u8877\u3002\u5982\u679c\u8bf4\u76ee\u524d\u4ec0\u4e48\u7f16\u7a0b\u8bed\u8a00\u5728\u6570\u636e\u79d1\u5b66\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u6700\u53d7\u6b22\u8fce\uff0c\u90a3\u53ef\u80fd\u5c31\u662f Python \u4e86\u3002\u4f46\u662f Python \u7684\u8bed\u8a00\u7279\u6027\u51b3\u5b9a\u4e86\u5b83\u53ef\u80fd\u5e76\u4e0d\u662f\u6700\u9002\u5408\u7684\uff0cGo+ \u4f9d\u6258 Go \u8bed\u8a00\u4f5c\u4e3a\u57fa\u7840\uff0c\u5f88\u597d\u5730\u5f25\u8865\u4e86 Python \u7684\u7f3a\u5931\u3002\u63a8\u8350\u5bf9\u673a\u5668\u5b66\u4e60\u611f\u5174\u8da3\u7684\u540c\u5b66\u770b\u770b\u8fd9\u7bc7\u6587\u7ae0\uff0c\u5176\u4e2d\u63d0\u5230\u7684\u4e00\u4e9b\u516b\u5366\u5386\u53f2\u4e5f\u5f88\u6709\u8da3\u3002"},{"id":"/2021/02/01/kylin-meetup-write-up","metadata":{"permalink":"/blog/2021/02/01/kylin-meetup-write-up","source":"@site/blog/2021-02-01-kylin-meetup-write-up.md","title":"\u76f4\u64ad\u56de\u987e\uff1a\u5982\u4f55\u4f7f\u7528 JuiceFS \u4f18\u5316 Kylin 4.0 \u7684\u5b58\u50a8\u6027\u80fd","description":"\u672c\u7bc7\u662f 2021 \u5e74 1 \u6708 30 \u65e5 Kylin Meetup \u7684\u76f4\u64ad\u56de\u987e\uff0c\u4e3b\u8981\u4ecb\u7ecd JuiceFS \u5982\u4f55\u4f18\u5316 Kylin 4.0 \u7684\u5b58\u50a8\u6027\u80fd\u3002\u5b8c\u6574 slide \u8bf7\u70b9\u51fb\u8fd9\u91cc\u67e5\u770b\u3002","date":"2021-02-01T17:32:20.000Z","tags":[{"inline":true,"label":"big data","permalink":"/blog/tags/big-data"},{"inline":true,"label":"kylin","permalink":"/blog/tags/kylin"}],"readingTime":19.925,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u76f4\u64ad\u56de\u987e\uff1a\u5982\u4f55\u4f7f\u7528 JuiceFS \u4f18\u5316 Kylin 4.0 \u7684\u5b58\u50a8\u6027\u80fd","date":"2021-02-01 17:32:20 +0800","tags":["big data","kylin"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #8","permalink":"/blog/2021/02/04/maybe-news-issue-8"},"nextItem":{"title":"Maybe News Issue #7","permalink":"/blog/2020/11/15/maybe-news-issue-7"}},"content":"> \u672c\u7bc7\u662f 2021 \u5e74 1 \u6708 30 \u65e5 [Kylin Meetup](https://mp.weixin.qq.com/s/9oFP-RIhc6HS3C9YRiPWYA) \u7684\u76f4\u64ad\u56de\u987e\uff0c\u4e3b\u8981\u4ecb\u7ecd JuiceFS \u5982\u4f55\u4f18\u5316 Kylin 4.0 \u7684\u5b58\u50a8\u6027\u80fd\u3002\u5b8c\u6574 slide \u8bf7\u70b9\u51fb[\u8fd9\u91cc](https://www.slidestalk.com/juicedata/kylinmeetupwriteupoptimizekylinonjuicefs)\u67e5\u770b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u5927\u5bb6\u597d\uff0c\u6211\u662f\u6765\u81ea Juicedata \u7684\u67b6\u6784\u5e08\u9ad8\u660c\u5065\uff0c\u4eca\u5929\u7ed9\u5927\u5bb6\u5206\u4eab\u7684\u4e3b\u9898\u662f\u300c\u5982\u4f55\u4f7f\u7528 JuiceFS \u4f18\u5316 Kylin 4.0 \u7684\u5b58\u50a8\u6027\u80fd\u300d\u3002\\n\\n![Agenda](/img/blog/kylin-meetup-write-up-2.png)\\n\\n\u9996\u5148\u770b\u4e00\u4e0b\u4eca\u5929\u5206\u4eab\u7684\u63d0\u7eb2\uff0c\u4e3b\u8981\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\u3002\u9996\u5148\u5bf9 Kylin 4.0 \u4ee5\u53ca\u5b83\u5728\u4e91\u4e0a\u9762\u4e34\u7684\u6311\u6218\u8fdb\u884c\u7b80\u5355\u4ecb\u7ecd\uff0c\u7136\u540e\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b JuiceFS \u662f\u4ec0\u4e48\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u5728 Kylin \u4e2d\u4f7f\u7528 JuiceFS\uff0c\u6700\u540e\u662f\u4e00\u4e9b benchmark\u3002\\n\\n## Kylin 4.0 \u67b6\u6784\u7b80\u4ecb\\n\\n![Kylin 4.0 Architecture](/img/blog/kylin-meetup-write-up-4.png)\\n\\n\u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0b Kylin 4.0 \u7684\u67b6\u6784\u3002\u8fd9\u662f 4.0 \u7684\u67b6\u6784\u56fe\uff0cKylin 4.0 \u6452\u5f03\u4e86\u4e4b\u524d\u57fa\u4e8e HBase \u7684\u67b6\u6784\uff0c\u6539\u4e3a\u4f7f\u7528 Spark \u4f5c\u4e3a\u6784\u5efa\u4ee5\u53ca\u67e5\u8be2\u5f15\u64ce\uff0c\u5e76\u4e14\u4f7f\u7528 Parquet \u4f5c\u4e3a Cube \u7684\u5b58\u50a8\u683c\u5f0f\u76f4\u63a5\u5199\u5230 HDFS \u6216\u8005\u5bf9\u8c61\u5b58\u50a8\u4e0a\u3002Kylin 4.0 \u7684\u67b6\u6784\u4e0d\u4ec5\u6027\u80fd\u4e0a\u6709\u5927\u5e45\u63d0\u5347\uff0c\u4e5f\u66f4\u52a0\u8d34\u5408\u73b0\u5728\u4e91\u539f\u751f\u7684\u90e8\u7f72\u65b9\u5f0f\u3002\\n\\n![Kylin 4.0 Architecture](/img/blog/kylin-meetup-write-up-5.png)\\n\\n\u8fd9\u91cc\u60f3\u91cd\u70b9\u8bb2\u4e00\u4e0b\u6709\u5173\u5b58\u50a8\u8fd9\u5757\u513f\u7684\u6539\u52a8\uff0c\u65b0\u7684\u5b58\u50a8\u65b9\u5f0f\u5e2e\u52a9 Kylin \u771f\u6b63\u5b9e\u73b0\u4e86\u5b58\u50a8\u4e0e\u8ba1\u7b97\u5206\u79bb\u7684\u67b6\u6784\u3002\u4f20\u7edf\u5927\u6570\u636e\u7684\u67b6\u6784\u90fd\u662f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u8026\u5408\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u6ca1\u6709\u529e\u6cd5\u5355\u72ec\u5bf9\u5b58\u50a8\u6216\u8005\u8ba1\u7b97\u8d44\u6e90\u8fdb\u884c\u6269\u7f29\u5bb9\u3002\u4f46\u662f\u5728\u4e91\u4e0a\u4f7f\u7528\u5bf9\u8c61\u5b58\u50a8\u66ff\u4ee3 HDFS \u4f5c\u4e3a\u5927\u6570\u636e\u5e73\u53f0\u7684\u5e95\u5c42\u5b58\u50a8\u5df2\u7ecf\u8d8a\u6765\u8d8a\u6210\u4e3a\u4e3b\u6d41\uff0c\u4e5f\u5c31\u9700\u8981\u4e0a\u5c42\u8ba1\u7b97\u7ec4\u4ef6\u7684\u67b6\u6784\u66f4\u52a0\u7075\u6d3b\u3002\\n\\n## Kylin on Parquet \u5728\u4e91\u4e0a\u7684\u6311\u6218\\n\\n\u4f46\u662f\u6211\u4eec\u4e5f\u770b\u5230\u4e91\u4e0a\u7684\u5bf9\u8c61\u5b58\u50a8\u6216\u591a\u6216\u5c11\u90fd\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u4e5f\u5c31\u4e3a Kylin 4.0 \u5728\u4e91\u4e0a\u90e8\u7f72\u548c\u4f7f\u7528\u5e26\u6765\u4e86\u4e00\u4e9b\u6311\u6218\u3002\u8fd9\u91cc\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5bf9\u8c61\u5b58\u50a8\u7684\u5177\u4f53\u95ee\u9898\u3002\u9996\u5148\u5f88\u591a\u65f6\u5019\u5927\u5bb6\u4f1a\u8bef\u4ee5\u4e3a\u5bf9\u8c61\u5b58\u50a8\u662f\u5b8c\u5168\u7b49\u4ef7\u4e8e HDFS \u7684\uff0c\u4f46\u5176\u5b9e\u4e0d\u662f\uff0c\u5728\u5f88\u591a\u7ef4\u5ea6\u4e0a\u5bf9\u8c61\u5b58\u50a8\u548c HDFS \u90fd\u662f\u4e0d\u4e00\u6837\u7684\u3002\\n\\n![Object Storage Drawback](/img/blog/kylin-meetup-write-up-7.png)\\n\\n\u6bd4\u5982\u4e00\u81f4\u6027\u6a21\u578b\uff0cHDFS \u662f\u4fdd\u8bc1\u5f3a\u4e00\u81f4\u6027\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f46\u662f\u5bf9\u8c61\u5b58\u50a8\u5f80\u5f80\u662f\u6700\u7ec8\u4e00\u81f4\u6027\uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u4f60\u5f80\u5bf9\u8c61\u5b58\u50a8\u4e2d\u5199\u5165\u65b0\u7684\u6570\u636e\u4ee5\u540e\u5e76\u4e0d\u80fd\u7acb\u5373\u770b\u5230\uff0c\u6709\u53ef\u80fd\u9700\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u5e76\u4e14\u8fd9\u4e2a\u7b49\u5f85\u65f6\u95f4\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u662f\u4e0d\u53ef\u63a7\u7684\uff0c\u6700\u7ec8\u4e00\u81f4\u6027\u4f1a\u7ed9\u5927\u6570\u636e\u5e73\u53f0\u7684\u8ba1\u7b97\u4efb\u52a1\u5e26\u6765\u5f88\u591a\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u5f71\u54cd\u4efb\u52a1\u7684\u7a33\u5b9a\u6027\u3002\\n\\n\u7136\u540e\u662f\u5143\u6570\u636e\u64cd\u4f5c\u6027\u80fd\u3002\u5728\u5927\u6570\u636e\u573a\u666f\u5e38\u89c1\u7684\u4e00\u4e9b\u5143\u6570\u636e\u64cd\u4f5c\uff0c\u6bd4\u5982 list \u662f\u5217\u4e3e\u67d0\u4e2a\u76ee\u5f55\u6709\u4ec0\u4e48\u6587\u4ef6\u3001rename \u662f\u91cd\u547d\u540d\u3001delete \u662f\u5220\u9664\uff0c\u8fd9\u4e9b\u5143\u6570\u636e\u64cd\u4f5c\u5728\u5bf9\u8c61\u5b58\u50a8\u4e0a\u6027\u80fd\u90fd\u662f\u4e0d\u592a\u597d\u7684\uff0c\u672c\u8d28\u4e0a\u662f\u56e0\u4e3a\u5bf9\u8c61\u5b58\u50a8\u662f\u4e00\u4e2a K/V \u5b58\u50a8\uff0c\u6ca1\u6cd5\u9ad8\u6548\u5b9e\u73b0\u521a\u624d\u63d0\u5230\u7684\u8fd9\u4e9b\u5143\u6570\u636e\u64cd\u4f5c\u3002\u8fd9\u91cc\u6bd4\u8f83\u660e\u663e\u7684\u64cd\u4f5c\u662f rename\uff0c\u56e0\u4e3a\u5f88\u591a\u5bf9\u8c61\u5b58\u50a8\u90fd\u4e0d\u652f\u6301\u91cd\u547d\u540d\uff0c\u56e0\u6b64\u771f\u6b63\u5e95\u5c42\u5b9e\u73b0\u7684\u65f6\u5019\u90fd\u662f\u901a\u8fc7\u5148\u62f7\u8d1d\u539f\u59cb\u6570\u636e\u5230\u65b0\u7684\u8def\u5f84\uff0c\u518d\u5220\u9664\u539f\u59cb\u6570\u636e\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u3002\u8fd9\u79cd\u5b9e\u73b0\u5728\u5927\u6570\u636e\u8fd9\u79cd\u5927\u6279\u91cf\u5904\u7406\u6570\u636e\u7684\u573a\u666f\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u4f1a\u6bd4\u8f83\u660e\u663e\u3002\\n\\n\u7136\u540e\u662f\u6570\u636e\u672c\u5730\u6027\u3002Hadoop \u56e0\u4e3a\u662f\u5b58\u50a8\u8ba1\u7b97\u8026\u5408\u7684\u67b6\u6784\uff0c\u56e0\u6b64\u5f53\u8ba1\u7b97\u4efb\u52a1\u88ab\u8c03\u5ea6\u65f6\u4f1a\u5c3d\u91cf\u628a\u8ba1\u7b97\u4efb\u52a1\u5206\u914d\u5230\u6570\u636e\u8282\u70b9\u4e0a\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u63d0\u5347\u6570\u636e\u8bfb\u53d6\u7684\u6027\u80fd\u3002\u4f46\u662f\u5bf9\u8c61\u5b58\u50a8\u5e76\u4e0d\u63d0\u4f9b\u8fd9\u6837\u7684\u80fd\u529b\uff0c\u6240\u6709\u6570\u636e\u90fd\u5fc5\u987b\u901a\u8fc7\u7f51\u7edc\u83b7\u53d6\uff0c\u8fd9\u5bf9\u4e8e\u5bf9\u8c61\u5b58\u50a8\u7684\u5e26\u5bbd\u6709\u5f88\u9ad8\u7684\u8981\u6c42\uff0c\u4e5f\u4f1a\u5bf9\u8ba1\u7b97\u7684\u6027\u80fd\u9020\u6210\u5f71\u54cd\u3002\\n\\n\u5bf9\u8c61\u5b58\u50a8\u8fd8\u6709\u4e00\u4e9b\u9690\u6027\u7684\u70b9\u53ef\u80fd\u4e0d\u4e00\u5b9a\u88ab\u5927\u5bb6\u5173\u6ce8\u3002\u5bf9\u4e8e\u4e00\u4e2a bucket \u4e2d\u7684\u6bcf\u4e2a\u8def\u5f84\u5176\u5b9e\u90fd\u6709\u6700\u5927\u7684 API \u8bf7\u6c42\u9891\u7387\u9650\u5236\uff0c\u5982\u679c\u8ba1\u7b97\u4efb\u52a1\u53d1\u9001\u7684\u8bf7\u6c42\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u9650\u5236\uff0c\u5c31\u4f1a\u62a5\u9519\uff0c\u5f53\u7136\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u91cd\u8bd5\u6216\u8005\u964d\u4f4e\u8bf7\u6c42\u5e76\u53d1\u7684\u65b9\u5f0f\u6765\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u7f13\u89e3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u90fd\u662f\u6cbb\u6807\u4e0d\u6cbb\u672c\uff0c\u5e76\u4e14\u4e5f\u4f1a\u7ed9\u4e1a\u52a1\u5e26\u6765\u5f88\u591a\u4e0d\u4fbf\u3002\u5bf9\u8c61\u5b58\u50a8\u7684 API \u8bf7\u6c42\u4e5f\u4e0d\u662f\u514d\u8d39\u7684\uff0c\u5927\u6570\u636e\u573a\u666f\u5f88\u5bb9\u6613\u4ea7\u751f\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u5e26\u6765\u4e00\u4e9b\u6210\u672c\u3002\\n\\nHadoop \u517c\u5bb9\u6027\u4e5f\u4f1a\u6210\u4e3a\u4e00\u4e2a\u95ee\u9898\uff0cHadoop \u751f\u6001\u5177\u6709\u7e41\u591a\u7684\u7ec4\u4ef6\uff0c\u4e0d\u540c\u4e91\u5382\u5546\u7684\u5bf9\u8c61\u5b58\u50a8\u4e5f\u53ef\u80fd\u90fd\u4f1a\u6709\u4e00\u4e9b\u5dee\u5f02\uff0c\u5bfc\u81f4\u4e0a\u5c42\u7ec4\u4ef6\u5728\u63a5\u5165\u65f6\u4e0d\u4e00\u5b9a\u80fd\u5b8c\u5168\u517c\u5bb9\uff0c\u751a\u81f3\u51fa\u73b0\u7ec4\u4ef6\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u7684\u60c5\u51b5\u3002\\n\\n## JuiceFS \u7b80\u4ecb\\n\\n![Intro to JuiceFS](/img/blog/kylin-meetup-write-up-9.png)\\n\\n\u9488\u5bf9\u521a\u624d\u63d0\u5230\u7684\u8fd9\u4e9b\u95ee\u9898\uff0c\u56e0\u6b64\u6211\u4eec\u5f00\u53d1\u4e86 JuiceFS \u8fd9\u6837\u4e00\u4e2a\u9879\u76ee\u3002\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b JuiceFS\u3002JuiceFS \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u4e91\u539f\u751f\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u4ece\u4eca\u5e74 1 \u6708\u521d\u5f00\u6e90\u4ee5\u6765\u5df2\u7ecf\u5728 GitHub \u4e0a\u79ef\u7d2f\u4e86\u8d85\u8fc7 2700 \u4e2a star\u3002JuiceFS \u521b\u65b0\u6027\u5730\u57fa\u4e8e Redis \u548c\u5bf9\u8c61\u5b58\u50a8\u6784\u5efa\uff0c\u540c\u65f6\u63d0\u4f9b\u4f20\u7edf\u6587\u4ef6\u7cfb\u7edf\u7684\u8bf8\u591a\u7279\u6027\u3002\\n\\n\u4f8b\u5982\u5f3a\u4e00\u81f4\u6027\uff0c\u5229\u7528\u72ec\u7acb\u7684\u5143\u6570\u636e\u7ba1\u7406\u4ee5\u53ca Redis \u7684\u4e8b\u52a1\u7279\u6027\uff0cJuiceFS \u80fd\u591f\u786e\u4fdd\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027\u3002\u76ee\u524d JuiceFS \u5df2\u7ecf\u652f\u6301\u5e02\u9762\u4e0a\u51e0\u4e4e\u6240\u6709\u7684\u5bf9\u8c61\u5b58\u50a8\uff0c\u4e0d\u7ba1\u662f\u516c\u6709\u4e91\u4e0a\u7684\uff0c\u8fd8\u662f\u5f00\u6e90\u5bf9\u8c61\u5b58\u50a8\u7cfb\u7edf\uff0c\u56e0\u6b64\u5bf9\u4e8e\u673a\u623f\u7528\u6237\u6765\u8bf4\u4e5f\u662f\u975e\u5e38\u53cb\u597d\u7684\u3002\\n\\n\u9664\u4e86\u517c\u5bb9 HDFS \u63a5\u53e3\u4ee5\u5916\uff0cJuiceFS \u8fd8\u63d0\u4f9b\u4e86\u6807\u51c6\u7684 POSIX \u63a5\u53e3\uff0c\u8fd9\u662f\u76ee\u524d HDFS \u4ee5\u53ca\u5bf9\u8c61\u5b58\u50a8\u90fd\u4e0d\u652f\u6301\u6216\u8005\u652f\u6301\u5f97\u4e0d\u597d\u7684\u4e00\u5757\u513f\u3002\u501f\u52a9 FUSE \u4f60\u53ef\u4ee5\u50cf\u4f7f\u7528\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e00\u6837\u628a JuiceFS \u6302\u8f7d\u5230\u673a\u5668\u4e0a\uff0c\u518d\u901a\u8fc7\u6807\u51c6\u7684\u547d\u4ee4\u884c\u5de5\u5177\u8bfb\u5199\u6570\u636e\u3002\u6b64\u5916 JuiceFS \u8fd8\u652f\u6301 S3\u3001NFS\u3001Samba \u7b49\u534f\u8bae\uff0c\u591a\u79cd\u534f\u8bae\u7684\u652f\u6301\u4f7f\u5f97\u53ea\u7528 JuiceFS \u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u5c31\u53ef\u4ee5\u540c\u65f6\u6ee1\u8db3\u591a\u79cd\u4e1a\u52a1\u573a\u666f\uff0c\u800c\u4e0d\u7528\u5728\u4e0d\u540c\u5b58\u50a8\u4e4b\u95f4\u91cd\u590d\u62f7\u8d1d\u6570\u636e\u3002\\n\\n\u7528\u6237\u8bbf\u95ee JuiceFS \u662f\u901a\u8fc7\u7279\u5b9a\u7684\u5ba2\u6237\u7aef\uff0c\u8fd9\u4e2a\u5ba2\u6237\u7aef\u672c\u8eab\u4e5f\u662f\u652f\u6301\u591a\u7cfb\u7edf\u7684\uff0c\u5305\u62ec Linux\u3001macOS\u3001Windows\u3002\u5728 CPU \u67b6\u6784\u652f\u6301\u4e0a\uff0c\u9664\u4e86 x86 \u4ee5\u5916\u4e5f\u652f\u6301\u73b0\u5728\u5e94\u7528\u5e7f\u6cdb\u7684 ARM \u5e73\u53f0\u3002\\n\\nJuiceFS \u4e5f\u63d0\u4f9b K8s CSI \u9a71\u52a8\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728 K8s \u5e73\u53f0\u4e0a\u4f60\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u628a JuiceFS \u6302\u8f7d\u5230\u5bb9\u5668\u91cc\uff0c\u8fd9\u4e2a\u6302\u8f7d\u7684 volume \u662f\u652f\u6301\u591a\u4e2a\u5bb9\u5668\u540c\u65f6\u8bfb\u5199\u7684\uff08ReadWriteMany\uff09\u3002\u540c\u65f6\u4f60\u4e5f\u4e0d\u7528\u62c5\u5fc3\u6302\u8f7d\u7684 volume \u5b83\u7684\u4e00\u4e2a\u751f\u547d\u5468\u671f\uff0c\u90fd\u662f\u7531 JuiceFS \u7684 CSI \u9a71\u52a8\u6765\u7ba1\u7406\uff0c\u81ea\u52a8\u5730\u521b\u5efa\u3001\u9500\u6bc1\u3002JuiceFS \u7684 CSI \u9a71\u52a8\u5f88\u597d\u5730\u6ee1\u8db3\u4e86\u5bb9\u5668\u5e73\u53f0\u5171\u4eab\u5b58\u50a8\u7684\u9700\u6c42\u3002\\n\\nJuiceFS \u4e5f\u5177\u5907\u6570\u636e\u7f13\u5b58\u7684\u80fd\u529b\uff0c\u53ef\u4ee5\u628a\u8fdc\u7aef\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u5bf9\u8c61\u5b58\u50a8\u7684\u6570\u636e\u7f13\u5b58\u5230\u672c\u5730\uff0c\u8fd9\u4e2a\u540e\u9762\u5728\u4ecb\u7ecd benchmark \u7684\u65f6\u5019\u4f1a\u518d\u8be6\u7ec6\u8bf4\u660e\u6570\u636e\u7f13\u5b58\u7684\u80fd\u529b\u3002\u6700\u4e0b\u9762\u662f JuiceFS \u7684 [GitHub \u94fe\u63a5](https://github.com/juicedata/juicefs)\u3002\\n\\n![JuiceFS Architecture](/img/blog/kylin-meetup-write-up-10.png)\\n\\n\u8fd9\u662f JuiceFS \u7684\u67b6\u6784\u56fe\u3002\u7ed3\u5408\u521a\u521a\u8bb2\u5230\u7684\uff0cJuiceFS \u5728\u6700\u5e95\u5c42\u4f9d\u8d56\u7684\u662f\u5bf9\u8c61\u5b58\u50a8\u6765\u4f5c\u4e3a\u6700\u57fa\u672c\u7684\u6570\u636e\u5757\u5b58\u50a8\u3002JuiceFS \u4e0d\u662f\u539f\u5c01\u4e0d\u52a8\u5730\u628a\u6570\u636e\u5b58\u50a8\u5230\u5bf9\u8c61\u5b58\u50a8\u4e0a\uff0c\u6240\u6709\u901a\u8fc7 JuiceFS \u5199\u5165\u7684\u6570\u636e\u9ed8\u8ba4\u4f1a\u6309\u7167 4MiB \u4e00\u4e2a\u5757\u6765\u5206\u5757\uff0c\u4f8b\u5982\u5199\u5165\u4e00\u4e2a 100MiB \u6216\u8005 1GiB \u7684\u6587\u4ef6\u4f1a\u6309\u7167 4MiB \u8fd9\u4e2a\u7c92\u5ea6\u6765\u5207\u5206\uff0c\u5207\u5206\u4ee5\u540e\u518d\u5b58\u50a8\u5230\u5bf9\u8c61\u5b58\u50a8\u4e0a\u3002\u4e4b\u6240\u4ee5\u8fd9\u6837\u8bbe\u8ba1\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u56e0\u4e3a\u5e0c\u671b\u5bf9\u5927\u6587\u4ef6\u8fdb\u884c\u5c0f\u7684\u5206\u5757\u53ef\u4ee5\u63d0\u5347\u8bfb\u5199\u7684\u541e\u5410\u548c\u6027\u80fd\uff0c\u76f8\u6bd4\u76f4\u63a5\u4e00\u4e2a\u5927\u6587\u4ef6\u8bfb\u53d6\u6216\u8005\u5199\u5165\u7684\u8bdd\uff0c\u62c6\u5206\u6210\u5c0f\u7684\u5757\u4e4b\u540e\u8bfb\u5199\u7684\u6027\u80fd\u63d0\u5347\u8fd8\u662f\u86ee\u660e\u663e\u7684\u3002\\n\\n\u7136\u540e\u5728\u56fe\u7684\u5de6\u8fb9\u53ef\u4ee5\u770b\u5230\u662f\u4e00\u4e2a Redis\uff0c\u8fd9\u91cc\u662f\u628a Redis \u4f5c\u4e3a\u5143\u6570\u636e\u7684\u5b58\u50a8\uff0c\u76f8\u5f53\u4e8e\u6240\u6709\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\u90fd\u4f1a\u5b58\u5230 Redis \u4e2d\u3002JuiceFS \u4f9d\u8d56 Redis \u7684\u4e8b\u52a1\u7279\u6027\u4fdd\u8bc1\u6240\u6709\u5143\u6570\u636e\u7684\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u4e5f\u5c31\u662f\u4fdd\u8bc1\u5143\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027\u3002\\n\\n\u7136\u540e\u53f3\u8fb9\u662f JuiceFS \u7684\u5ba2\u6237\u7aef\u3002JuiceFS \u5df2\u7ecf\u63d0\u4f9b\u4e86\u591a\u79cd\u5ba2\u6237\u7aef\uff0c\u6bd4\u5982 FUSE \u662f\u901a\u8fc7\u6302\u8f7d\u6765\u63d0\u4f9b POSIX \u63a5\u53e3\uff1bJava SDK \u662f\u5728 Hadoop \u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u6211\u4eec\u8fd1\u671f\u4e5f\u5df2\u7ecf\u5c06 Hadoop SDK \u5f00\u6e90\u51fa\u6765\uff1b\u6700\u53f3\u8fb9\u7684\u662f S3 Gateway\uff0c\u901a\u8fc7\u8fd9\u4e2a gateway \u53ef\u4ee5\u5bf9\u4e0a\u5c42\u63d0\u4f9b S3 \u517c\u5bb9\u7684\u63a5\u53e3\u3002\u53ef\u4ee5\u770b\u5230 JuiceFS \u63d0\u4f9b\u4e86\u591a\u534f\u8bae\u7684\u5ba2\u6237\u7aef\uff0c\u8fd9\u4e9b\u5ba2\u6237\u7aef\u5e95\u5c42\u90fd\u662f\u5171\u4eab\u4e86\u540c\u4e00\u4e2a\u5b9e\u73b0\uff0c\u4e5f\u5c31\u662f\u56fe\u4e0a\u7684 Client Core\u3002\u9664\u4e86 Java SDK \u4ee5\u5916\uff0c\u5ba2\u6237\u7aef\u6574\u4f53\u4e0a\u90fd\u662f\u7528 Go \u8bed\u8a00\u5b9e\u73b0\uff0cJava SDK \u5e95\u5c42\u4e5f\u662f\u901a\u8fc7 JNI \u53bb\u8c03\u7528 Go \u8bed\u8a00\u7684\u63a5\u53e3\u3002\\n\\n\u524d\u9762\u63d0\u5230\u4e86\u6570\u636e\u7f13\u5b58\uff0c\u610f\u601d\u5c31\u662f\u8bf4\u5f53\u4ece\u5bf9\u8c61\u5b58\u50a8\u8bfb\u53d6\u6570\u636e\u65f6\uff0cclient \u7aef\u4f1a\u81ea\u52a8\u5730\u628a\u6570\u636e\u7f13\u5b58\u5230\u672c\u5730\u914d\u7f6e\u7684\u67d0\u4e2a\u7f13\u5b58\u8def\u5f84\uff0cJuiceFS \u4e5f\u4f1a\u81ea\u52a8\u5730\u7ba1\u7406\u7f13\u5b58\u7a7a\u95f4\uff0c\u6bd4\u5982\u8bf4\u5f53\u7f13\u5b58\u76d8\u6ee1\u4e86\u4e4b\u540e\u5e94\u8be5\u600e\u4e48\u53bb\u5931\u6548\u3001\u600e\u4e48\u53bb\u7ef4\u62a4\u7f13\u5b58\u6570\u636e\u7684\u751f\u547d\u5468\u671f\uff0c\u4ee5\u53ca\u4fdd\u8bc1\u7f13\u5b58\u6570\u636e\u4e0e\u5bf9\u8c61\u5b58\u50a8\u4e4b\u95f4\u7684\u4e00\u81f4\u6027\u3002\u8fd9\u4e9b\u90fd\u662f\u7531 JuiceFS client \u7aef\u63d0\u4f9b\u7684\u7279\u6027\u3002\\n\\n## \u4e3a\u4ec0\u4e48 Kylin \u548c JuiceFS \u8981\u4e00\u8d77\u4f7f\u7528\uff1f\\n\\n\u4e0b\u9762\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u4e3a\u4ec0\u4e48 Kylin \u8981\u548c JuiceFS \u4e00\u8d77\u4f7f\u7528\u5462\uff1f\u7ecf\u8fc7\u524d\u9762\u7684\u4ecb\u7ecd\uff0c\u5927\u5bb6\u53ef\u80fd\u4e5f\u6216\u591a\u6216\u5c11\u80fd\u591f\u60f3\u5230\u4e00\u4e9b\uff0c\u672c\u8d28\u4e0a\u5e0c\u671b\u901a\u8fc7 JuiceFS \u6765\u89e3\u51b3\u521a\u624d\u63d0\u5230\u7684\u5bf9\u8c61\u5b58\u50a8\u7684\u5404\u79cd\u95ee\u9898\u3002\u6240\u4ee5\u5177\u4f53\u6765\u8bf4 JuiceFS \u80fd\u7ed9 Kylin \u5e26\u6765\u7684\u6536\u76ca\u6709\u8fd9\u4e48\u51e0\u4e2a\u3002\\n\\n![JuiceFS Advantages](/img/blog/kylin-meetup-write-up-12.png)\\n\\n\u9996\u5148\u662f\u5f3a\u4e00\u81f4\u6027\uff0c\u4e5f\u5c31\u662f\u76f8\u6bd4\u5bf9\u8c61\u5b58\u50a8\u7684\u6700\u7ec8\u4e00\u81f4\u6027\u6765\u8bf4 JuiceFS \u662f\u4e00\u4e2a\u5f3a\u4e00\u81f4\u6027\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u7136\u540e\u662f\u9ad8\u6027\u80fd\uff0cJuiceFS \u4e0d\u7ba1\u662f\u5728\u5143\u6570\u636e\u8fd8\u662f\u6570\u636e\u7684\u8bfb\u5199\u4e0a\u90fd\u6709\u5f88\u597d\u7684\u6027\u80fd\u8868\u73b0\u3002\u5143\u6570\u636e\u662f\u57fa\u4e8e Redis \u7684\uff0cRedis \u56e0\u4e3a\u662f\u5168\u5185\u5b58\u7684 K/V \u5b58\u50a8\uff0c\u6240\u4ee5\u5143\u6570\u636e\u64cd\u4f5c\u7684\u6027\u80fd\u662f\u975e\u5e38\u9ad8\u7684\uff0c\u540c\u65f6 JuiceFS \u5728 Redis \u4e4b\u4e0a\u4e5f\u505a\u4e86\u4e00\u4e9b\u4f18\u5316\u3002\u6570\u636e\u7684\u8bfb\u5199 JuiceFS \u9ed8\u8ba4\u662f\u6309\u7167 4MiB \u7684\u5757\u6765\u5206\u5757\u5b58\u50a8\uff0c\u5728\u8bfb\u5199\u4e0a\u4e5f\u6709\u86ee\u591a\u7684\u6027\u80fd\u63d0\u5347\u3002\\n\\n\u7136\u540e\u6570\u636e\u672c\u5730\u6027\u4e5f\u662f JuiceFS \u80fd\u591f\u5e26\u6765\u7684\u4e00\u4e2a\u597d\u5904\uff0c\u901a\u8fc7\u7f13\u5b58\u53ef\u4ee5\u628a\u6570\u636e\u7f13\u5b58\u5230\u8ba1\u7b97\u8282\u70b9\u4e0a\uff0c\u867d\u7136\u8ba1\u7b97\u8282\u70b9\u7684\u7f13\u5b58\u7a7a\u95f4\u4e0d\u4e00\u5b9a\u7279\u522b\u5927\uff0c\u4f46\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u4e5f\u63d0\u4f9b\u4e86\u6570\u636e\u672c\u5730\u6027\u3002\u8fd9\u5757\u513f\u7684\u5177\u4f53\u5b9e\u73b0\u662f\u901a\u8fc7 Java SDK \u63d0\u4f9b\u4e86\u7f13\u5b58\u6570\u636e\u7684 location \u7ed9\u4e0a\u5c42\u7684\u8c03\u5ea6\u5668\uff08\u6bd4\u5982 YARN\uff09\uff0c\u4f7f\u5f97\u8c03\u5ea6\u5668\u80fd\u591f\u77e5\u9053\u7f13\u5b58\u6570\u636e\u5f53\u524d\u662f\u5728\u54ea\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\u4e0a\uff0c\u53ef\u4ee5\u5728\u8c03\u5ea6\u65f6\u628a\u76f8\u5e94\u7684\u8ba1\u7b97\u4efb\u52a1\u8c03\u5ea6\u5230\u5177\u6709\u7f13\u5b58\u6570\u636e\u7684\u8282\u70b9\u4e0a\uff0c\u4e5f\u5c31\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5b9e\u73b0\u4e86\u6570\u636e\u672c\u5730\u6027\u3002\u5373\u4f7f\u8c03\u5ea6\u5931\u8d25\u4e86\uff0c\u4e5f\u6709\u4e00\u4e9b\u8fdb\u4e00\u6b65\u7684\u4f18\u5316\uff0c\u4f8b\u5982\u5728\u4e0d\u540c\u8ba1\u7b97\u8282\u70b9\u4e4b\u95f4\u7ec4\u6210\u4e00\u4e2a\u5206\u5e03\u5f0f\u7f13\u5b58\u7cfb\u7edf\uff0c\u4e5f\u5c31\u662f\u8282\u70b9\u4e92\u76f8\u4e4b\u95f4\u662f\u80fd\u591f\u8bfb\u53d6\u5bf9\u65b9\u7684\u7f13\u5b58\u6570\u636e\uff0c\u5bf9\u6570\u636e\u8bfb\u53d6\u8fdb\u884c\u4f18\u5316\uff0c\u800c\u4e0d\u662f\u5b8c\u5168\u4f9d\u8d56\u5e95\u5c42\u7684\u5bf9\u8c61\u5b58\u50a8\u7684\u541e\u5410\u548c\u6027\u80fd\u3002\\n\\nJuiceFS \u540c\u65f6\u4e5f\u662f\u5b8c\u6574\u517c\u5bb9 Hadoop \u751f\u6001\u7684\uff0c\u4e0d\u7ba1\u662f\u5bf9\u4e8e Hadoop 2.x \u548c Hadoop 3.x \u8fd9\u79cd\u5927\u7248\u672c\u7684\u53d8\u5316\uff0c\u8fd8\u662f\u5bf9\u4e8e\u67d0\u4e2a Hadoop \u53d1\u884c\u7248\u7684\u6240\u6709\u7ec4\u4ef6\u90fd\u662f\u5b8c\u5168\u517c\u5bb9\u7684\u3002\u56e0\u4e3a JuiceFS \u672c\u8eab\u63d0\u4f9b\u7684\u5c31\u662f\u4e00\u4e2a\u6807\u51c6\u7684 HDFS \u63a5\u53e3\uff0c\u5bf9\u4e8e\u4e0a\u5c42\u7684\u7ec4\u4ef6\u6765\u8bf4\u57fa\u672c\u4e0a\u662f\u900f\u660e\u7684\uff0c\u4e5f\u6ca1\u6709\u4efb\u4f55\u4fb5\u5165\uff0c\u5c31\u53ef\u4ee5\u5f53\u4f5c\u662f HDFS \u6765\u4f7f\u7528\u3002\\n\\nTCO \u4f4e\u4e5f\u662f JuiceFS \u7684\u4e00\u4e2a\u597d\u5904\u3002\u524d\u9762\u63d0\u5230\u5bf9\u8c61\u5b58\u50a8\u7684 API \u8bf7\u6c42\u662f\u6536\u8d39\u7684\uff0c\u8fd9\u4e9b API \u8bf7\u6c42\u4e2d\u6db5\u76d6\u4e86\u5f88\u591a\u5143\u6570\u636e\u7684\u8bf7\u6c42\uff0c \u5f53\u4f7f\u7528 JuiceFS \u4e4b\u540e\u8fd9\u4e9b\u8bf7\u6c42\u4f1a\u76f4\u63a5\u53d1\u7ed9\u5143\u6570\u636e\u670d\u52a1\uff08\u4e5f\u5c31\u662f Redis\uff09\uff0c\u4e5f\u5c31\u4e0d\u5b58\u5728\u5143\u6570\u636e\u8bf7\u6c42\u7684\u8d39\u7528\u3002\u6570\u636e\u7684\u8bf7\u6c42\u4f9d\u9760\u6bd4\u5982\u7f13\u5b58\u8fd9\u6837\u7684\u7279\u6027\u5f88\u5927\u7a0b\u5ea6\u4e0a\u51cf\u5c11\u5bf9\u5bf9\u8c61\u5b58\u50a8\u7684\u4f9d\u8d56\uff0c\u6574\u4f53\u4e0a\u6765\u8bf4\u6210\u672c\u90fd\u80fd\u6709\u4e00\u5b9a\u4f18\u5316\u3002\\n\\nJuiceFS \u8fd8\u652f\u6301\u4e00\u4e9b HDFS \u6216\u8005\u5bf9\u8c61\u5b58\u50a8\u53ef\u80fd\u4e0d\u63d0\u4f9b\u7684\u529f\u80fd\u3002\u6bd4\u5982\u5feb\u7167\uff0c\u5feb\u7167\u7684\u610f\u601d\u662f\u53ef\u4ee5\u9488\u5bf9\u67d0\u4e00\u4e2a\u76ee\u5f55\u521b\u5efa\u4e00\u4e2a snapshot\uff0c\u770b\u8d77\u6765\u597d\u50cf\u662f\u5bf9\u6570\u636e\u8fdb\u884c\u4e86\u4e00\u6b21\u62f7\u8d1d\uff0c\u4f46\u5e95\u5c42\u7684\u5b9e\u73b0\u5176\u5b9e\u662f\u4e0d\u5b58\u5728\u62f7\u8d1d\u7684\u3002\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a copy-on-write \u7684\u539f\u7406\uff0c\u5728\u521b\u5efa\u5feb\u7167\u65f6\u53ea\u662f\u5bf9\u5143\u6570\u636e\u8fdb\u884c\u4e86\u62f7\u8d1d\uff0c\u5e95\u5c42\u662f\u5171\u4eab\u7684\u540c\u4e00\u4efd\u6570\u636e\uff0c\u5e76\u6ca1\u6709\u62f7\u8d1d\u5bf9\u8c61\u5b58\u50a8\u4e0a\u6570\u636e\u3002\u5bf9\u4f60\u5bf9\u5feb\u7167\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u5c31\u4f1a\u5c06\u539f\u59cb\u6570\u636e\u8fdb\u884c\u62f7\u8d1d\uff0c\u7136\u540e\u5b58\u50a8\u4fee\u6539\u540e\u7684\u6570\u636e\u3002\u8fd9\u4e2a\u7279\u6027\u5bf9\u4e8e\u5f88\u591a\u573a\u666f\u662f\u975e\u5e38\u6709\u5e2e\u52a9\u7684\uff0c\u6bd4\u5982\u6d4b\u8bd5\u3001\u591a\u7248\u672c\u7ba1\u7406\u3002\\n\\n\u7b26\u53f7\u94fe\u63a5\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u7b26\u53f7\u94fe\u63a5\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6587\u4ef6\u6307\u5411\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u8def\u5f84\u3002\u5728 JuiceFS \u4e0a\u4e5f\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u529f\u80fd\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u5c06 JuiceFS \u7684\u8def\u5f84\u6620\u5c04\u5230\u53e6\u4e00\u4e2a\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u94fe\u63a5\u5230\u4efb\u4f55 JuiceFS \u652f\u6301\u7684\u5b58\u50a8\u4e0a\uff08\u6bd4\u5982 HDFS\u3001\u5bf9\u8c61\u5b58\u50a8\uff09\u3002\u901a\u8fc7 JuiceFS \u5b9e\u73b0\u4e00\u4e2a\u7edf\u4e00\u7684\u6587\u4ef6\u7cfb\u7edf\u547d\u540d\u7a7a\u95f4\u7ba1\u7406\uff0c\u53ef\u4ee5\u5728\u8fd9\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\u770b\u5230\u591a\u79cd\u5b58\u50a8\u7684\u6570\u636e\u3002\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u86ee\u6709\u7528\u7684\u7279\u6027\uff0c\u6bd4\u5982\u6211\u4eec\u5bf9\u6570\u636e\u8fdb\u884c\u8fc1\u79fb\u65f6\u662f\u975e\u5e38\u6709\u5e2e\u52a9\u7684\uff08\u53ef\u4ee5\u53c2\u8003\u4e4b\u524d\u7684[\u4e00\u7bc7\u6587\u7ae0](https://juicefs.com/zh-cn/blog/solutions/migrate-data-from-hdfs-to-juicefs)\uff09\u3002\\n\\n\u672c\u8eab JuiceFS \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u9879\u76ee\uff0c\u4f46\u540c\u65f6\u6211\u4eec\u4e5f\u63d0\u4f9b\u4e00\u4e2a\u4e91\u4e0a\u5168\u6258\u7ba1\u7684\u7248\u672c\uff0c\u4f1a\u5c06\u5143\u6570\u636e\u670d\u52a1\u8fdb\u884c\u7edf\u4e00\u7ba1\u7406\uff0c\u4e5f\u6709\u4e00\u4e2a web \u7684\u63a7\u5236\u53f0\u53ef\u4ee5\u8ba9\u5927\u5bb6\u5f88\u65b9\u4fbf\u5730\u4f7f\u7528\u3002\u8fd9\u662f JuiceFS \u5546\u4e1a\u7248\u63d0\u4f9b\u7684\u4e00\u4e2a\u529f\u80fd\u3002\\n\\n## \u6027\u80fd\u6bd4\u8f83\\n\\n![Benchmark Config](/img/blog/kylin-meetup-write-up-14.png)\\n\\n\u7136\u540e\u5206\u4eab\u4e00\u4e0b\u4e4b\u524d\u505a\u7684\u4e00\u4e2a benchmark \u7ed3\u679c\u3002\u5148\u770b\u4e00\u4e0b\u6d4b\u8bd5\u73af\u5883\uff0c\u8fd9\u91cc\u7528\u4e86\u6807\u51c6\u7684 10GB \u5927\u5c0f\u7684 TPC-H \u4f5c\u4e3a\u6570\u636e\u96c6\uff0c\u7528\u4e86 1 \u53f0 master\uff0c3 \u53f0 worker\uff0c\u5927\u6982\u662f\u8fd9\u6837\u7684\u914d\u7f6e\u3002\u5bf9\u6bd4\u7684\u662f Kylin on OSS \u548c Kylin on JuiceFS \u7684\u6027\u80fd\u3002\\n\\n![Benchmark Result](/img/blog/kylin-meetup-write-up-15.png)\\n\\n\u8fd9\u662f\u6700\u7ec8 benchmark \u7684\u5bf9\u6bd4\u56fe\uff0c\u9ec4\u8272\u7684\u662f OSS\uff0c\u7eff\u8272\u7684\u662f JuiceFS\uff0c\u56fe\u4e0a\u5c55\u793a\u7684\u662f TPC-H \u6bcf\u4e00\u4e2a\u67e5\u8be2\u7684\u6267\u884c\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65f6\u95f4\u8d8a\u4f4e\u8d8a\u597d\u3002\\n\\n![Benchmark Summary](/img/blog/kylin-meetup-write-up-16.png)\\n\\n\u603b\u7ed3\u4e00\u4e0b\u521a\u521a\u63d0\u5230\u7684\u6d4b\u8bd5\u3002\u56e0\u4e3a Kylin \u9700\u8981\u63d0\u524d\u6784\u5efa cube\uff0c\u6211\u4eec\u5728\u6d4b\u8bd5\u65f6\u9047\u5230 Kylin on OSS \u8fd9\u4e2a\u65b9\u6848\u6784\u5efa cube \u76f4\u63a5\u5931\u8d25\u4e86\uff0c\u5bfc\u81f4\u6ca1\u6709\u529e\u6cd5\u5728 OSS \u4e0a\u6784\u5efa cube\u3002\u6700\u7ec8\u662f\u901a\u8fc7\u628a Kylin on JuiceFS \u6784\u5efa\u5b8c\u7684 cube \u62f7\u8d1d\u5230 OSS \u4e0a\u5b8c\u6210\u7684\u6d4b\u8bd5\u3002\u603b\u7684\u67e5\u8be2\u65f6\u95f4\u4e0a JuiceFS \u5feb 38% \u5de6\u53f3\uff0c\u7136\u540e\u770b\u5355\u4e2a\u67e5\u8be2\u7684\u6267\u884c\u65f6\u95f4 JuiceFS \u6700\u591a\u80fd\u591f\u5feb 85%\uff0c\u5e73\u5747\u4e0b\u6765\u4e5f\u80fd\u5feb 46% \u5de6\u53f3\u3002\\n\\n## \u672a\u6765\u5c55\u671b\\n\\n![Future Plan](/img/blog/kylin-meetup-write-up-18.png)\\n\\n\u6700\u540e\u60f3\u5c55\u671b\u4e00\u4e0b\u672a\u6765 JuiceFS \u7684\u4e00\u4e9b\u65b0\u7279\u6027\u3002JuiceFS \u5df2\u7ecf\u5728\u6027\u80fd\u4e0a\u8fdb\u884c\u4e86\u5f88\u591a\u4f18\u5316\uff0c\u524d\u9762\u7684 benchmark \u4e5f\u80fd\u770b\u5230\uff0c\u4f46\u5176\u5b9e\u4e5f\u6709\u5f88\u591a\u7ec6\u7c92\u5ea6\u7684\u70b9\u6211\u4eec\u53ef\u4ee5\u4f18\u5316\u3002\u6bd4\u5982\u8bf4\u67e5\u8be2\u9884\u8bfb\uff0c\u53ef\u4ee5\u4ece JucieFS \u7684\u89d2\u5ea6\u9884\u5148\u77e5\u9053\u67d0\u4e2a\u67e5\u8be2\u63a5\u4e0b\u6765\u4f1a\u8bfb\u53d6\u7684\u6587\u4ef6\uff0c\u4e5f\u5c31\u53ef\u4ee5\u81ea\u52a8\u5730\u5728\u540e\u53f0\u8fdb\u884c\u4e00\u4e9b\u9884\u8bfb\u7684\u5904\u7406\uff0c\u8fdb\u4e00\u6b65\u52a0\u901f\u67e5\u8be2\u7684\u6548\u7387\u3002\u521a\u521a\u63d0\u5230\u7684 P2P \u5206\u5e03\u5f0f\u7f13\u5b58\u7279\u6027\u4e5f\u4f1a\u662f\u63a5\u4e0b\u6765\u5728\u5f00\u6e90\u7248\u672c\u7684 Hadoop SDK \u53bb\u4f18\u5316\u7684\u4e00\u4e2a\u70b9\u3002\u6700\u540e JuiceFS \u4f1a\u63d0\u4f9b\u4e00\u4e2a profiling \u7684\u5de5\u5177\uff0c\u8fd9\u4e2a\u5de5\u5177\u662f\u4e3a\u4e86\u5e2e\u52a9\u7528\u6237\u66f4\u5feb\u66f4\u7b80\u4fbf\u5730\u8c03\u4f18\uff0c\u53d1\u73b0\u6027\u80fd\u70ed\u70b9\uff0c\u4ece\u800c\u9488\u5bf9\u6027\u5730\u5bf9\u8bfb\u5199\u8fdb\u884c\u4f18\u5316\u3002\\n\\n\u4eca\u5929\u7684\u5206\u4eab\u5c31\u5230\u8fd9\u91cc\uff0c\u611f\u8c22\u5927\u5bb6\u3002"},{"id":"/2020/11/15/maybe-news-issue-7","metadata":{"permalink":"/blog/2020/11/15/maybe-news-issue-7","source":"@site/blog/2020-11-15-maybe-news-issue-7.md","title":"Maybe News Issue #7","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2020-11-15T16:37:20.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":18.11,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #7","date":"2020-11-15 16:37:20 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"\u76f4\u64ad\u56de\u987e\uff1a\u5982\u4f55\u4f7f\u7528 JuiceFS \u4f18\u5316 Kylin 4.0 \u7684\u5b58\u50a8\u6027\u80fd","permalink":"/blog/2021/02/01/kylin-meetup-write-up"},"nextItem":{"title":"\u73af\u7403\u6613\u8d2d\u6570\u636e\u5e73\u53f0\u5982\u4f55\u505a\u5230\u65e2\u63d0\u901f\u53c8\u7701\u94b1\uff1f","permalink":"/blog/2020/11/03/globalegrow-big-data-platform-user-case"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Delta Lake: High-Performance ACID Table Storage over Cloud Object Stores\\n\\n[[\u94fe\u63a5]](https://databricks.com/research/delta-lake-high-performance-acid-table-storage-overcloud-object-stores)\\n\\n14 \u5e74\u524d\uff0cAmazon \u53d1\u5e03\u4e86 EC2\uff08Elastic Compute Cloud\uff09\u548c S3\uff08Simple Storage Service\uff09\u8fd9\u4e24\u4e2a\u5212\u65f6\u4ee3\u7684\u4ea7\u54c1\uff0c\u4ece\u6b64\u300c\u4e91\u8ba1\u7b97\u300d\u8fd9\u4e2a\u8bcd\u5f00\u59cb\u8fdb\u5165\u5927\u4f17\u7684\u89c6\u91ce\uff0c\u7ecf\u8fc7\u5341\u51e0\u5e74\u7684\u53d1\u5c55\u5df2\u7ecf\u9010\u6e10\u88ab\u5927\u4f17\u6240\u8ba4\u77e5\u4e0e\u63a5\u53d7\u3002\u300c\u4e91\u300d\u610f\u5473\u7740\u8fd1\u4e4e\u65e0\u9650\u7684\u8d44\u6e90\uff0cEC2 \u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u8ba1\u7b97\u8d44\u6e90\uff0cS3 \u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5b58\u50a8\u8d44\u6e90\u3002\u4f20\u7edf\u57fa\u4e8e Hadoop \u7684\u5927\u6570\u636e\u5e73\u53f0\u662f\u5c06\u8fd9\u4e24\u79cd\u8d44\u6e90\u7ed1\u5b9a\u5728\u4e00\u8d77\u7684\uff0c\u800c\u8fc1\u79fb\u5230\u4e91\u7aef\u4ee5\u540e\u975e\u5e38\u81ea\u7136\u5730\u4f1a\u60f3\u5230\u5c06\u5b58\u50a8\u8d44\u6e90\u8f6c\u5230\u7c7b\u4f3c S3 \u7684\u5bf9\u8c61\u5b58\u50a8\u4e2d\uff0c\u4ece\u800c\u771f\u6b63\u5b9e\u73b0\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u7684\u67b6\u6784\uff0c\u80fd\u591f\u66f4\u52a0\u5f39\u6027\u5730\u7ba1\u7406\u8ba1\u7b97\u548c\u5b58\u50a8\u8fd9\u4e24\u79cd\u5929\u751f\u5f02\u6784\u7684\u8d44\u6e90\uff0c\u65e2\u5927\u5e45\u8282\u7ea6\u4e86\u6210\u672c\u8fd8\u7701\u53bb\u4e86\u8fd0\u7ef4 HDFS \u96c6\u7fa4\u7684\u5404\u79cd\u70e6\u607c\u3002\\n\\n\u4f5c\u4e3a Spark \u7684\u53d1\u660e\u8005\uff0cDatabricks \u8fd9\u5bb6\u5546\u4e1a\u516c\u53f8\u7684\u5f88\u591a\u5ba2\u6237\u540c\u65f6\u4e5f\u662f AWS \u7684\u5ba2\u6237\uff0c\u56e0\u6b64\u6709\u7740\u975e\u5e38\u4e30\u5bcc\u7684\u5728\u5927\u6570\u636e\u573a\u666f\u4f7f\u7528 S3 \u7684\u7ecf\u9a8c\u3002\u8fd9\u4e9b\u7ecf\u9a8c\u66b4\u9732\u4e86 S3\uff08\u6216\u8005\u7c7b\u4f3c\u7684\u5bf9\u8c61\u5b58\u50a8\uff09\u4f5c\u4e3a HDFS \u66ff\u4ee3\u8005\u7684\u79cd\u79cd\u7f3a\u9677\u3002\\n\\n\u5bf9\u8c61\u5b58\u50a8\uff08object store\uff09\u7684\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u5f88\u591a bucket\uff0c\u6bcf\u4e2a bucket \u4e2d\u5b58\u50a8\u4e86\u5f88\u591a\u5bf9\u8c61\uff08object\uff09\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u4f1a\u6709\u4e00\u4e2a\u552f\u4e00\u7684 key \u4f5c\u4e3a\u6807\u8bc6\u3002\u56e0\u6b64\u5bf9\u8c61\u5b58\u50a8\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a K/V \u5b58\u50a8\uff0c\u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u4e3a\u901a\u5e38\u7684\u8ba4\u77e5\u90fd\u4f1a\u5c06\u5bf9\u8c61\u5b58\u50a8\u7b49\u540c\u4e8e\u6587\u4ef6\u7cfb\u7edf\uff08file system\uff09\u3002\u5bf9\u8c61\u5b58\u50a8\u4e2d\u7684\u300c\u76ee\u5f55\u300d\u5176\u5b9e\u662f\u901a\u8fc7 key \u7684\u524d\u7f00\u6a21\u62df\u51fa\u6765\u7684\uff0c\u867d\u7136\u5bf9\u8c61\u5b58\u50a8\u63d0\u4f9b\u7c7b\u4f3c LIST \u76ee\u5f55\u8fd9\u6837\u7684 API\uff0c\u5e95\u5c42\u5b9e\u73b0\u5374\u662f\u904d\u5386\u76f8\u540c\u524d\u7f00\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u662f O(1) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u4f46\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d\u662f O(n)\u3002\u66f4\u52a0\u4e25\u91cd\u7684\u60c5\u51b5\u662f\uff0cS3 \u7684 LIST API \u6bcf\u6b21\u8bf7\u6c42\u6700\u591a\u8fd4\u56de 1000 \u4e2a key\uff0c\u5355\u6b21\u8bf7\u6c42\u5ef6\u65f6\u901a\u5e38\u4e3a\u51e0\u5341\u5230\u51e0\u767e\u6beb\u79d2\uff0c\u56e0\u6b64\u5f53\u5904\u7406\u8d85\u5927\u89c4\u6a21\u7684\u6570\u636e\u96c6\u65f6\u5355\u5355\u82b1\u5728\u904d\u5386\u4e0a\u7684\u65f6\u95f4\u5c31\u53ef\u80fd\u662f\u5206\u949f\u7ea7\u3002\u91cd\u547d\u540d\u5bf9\u8c61\u6216\u8005\u76ee\u5f55\u4e5f\u662f\u4e00\u6837\uff0c\u6587\u4ef6\u7cfb\u7edf\u662f\u4e00\u4e2a\u539f\u5b50\u64cd\u4f5c\uff0c\u5bf9\u8c61\u5b58\u50a8\u662f\u5148\u62f7\u8d1d\u5230\u65b0\u8def\u5f84\uff0c\u518d\u5220\u9664\u539f\u8def\u5f84\u7684\u5bf9\u8c61\uff0c\u4ee3\u4ef7\u975e\u5e38\u9ad8\u3002\\n\\n\u53e6\u4e00\u4e2a\u5bf9\u8c61\u5b58\u50a8\u4e25\u91cd\u7684\u95ee\u9898\u662f\u4e00\u81f4\u6027\u6a21\u578b\uff0cS3 \u7684\u4e00\u81f4\u6027\u6a21\u578b\u662f[\u6700\u7ec8\u4e00\u81f4\u6027](https://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#ConsistencyModel)\u3002\u5f53\u67d0\u4e2a\u5ba2\u6237\u7aef\u4e0a\u4f20\u4e86\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u4ee5\u540e\uff0c\u5176\u5b83\u5ba2\u6237\u7aef\u5e76\u4e0d\u4e00\u5b9a\u4fdd\u8bc1\u80fd\u7acb\u5373 LIST \u6216\u8005\u8bfb\u53d6\u8fd9\u4e2a\u5bf9\u8c61\u3002\u5f53\u4e00\u4e2a\u5bf9\u8c61\u88ab\u66f4\u65b0\u6216\u8005\u5220\u9664\u4ee5\u540e\u4e5f\u4f1a\u53d1\u751f\u540c\u6837\u7684\u73b0\u8c61\uff0c\u5373\u4f7f\u662f\u8d1f\u8d23\u5199\u5165\u7684\u8fd9\u4e2a\u5ba2\u6237\u7aef\u81ea\u5df1\u4e5f\u6709\u53ef\u80fd\u9047\u5230\u3002S3 \u80fd\u786e\u4fdd\u7684\u4e00\u81f4\u6027\u662f read-after-write\uff0c\u4e5f\u5c31\u662f\u8bf4 PUT \u8bf7\u6c42\u4ea7\u751f\u4ee5\u540e\u7684 GET \u8bf7\u6c42\u662f\u4fdd\u8bc1\u4e00\u5b9a\u80fd\u8fd4\u56de\u6b63\u786e\u6570\u636e\u7684\u3002\\n\\n\u8bba\u6587\u6982\u8ff0\u4e86\u76ee\u524d\u5927\u6570\u636e\u5b58\u50a8\u7684 3 \u79cd\u65b9\u6848\uff1a\u5206\u533a\u76ee\u5f55\u3001\u81ea\u5b9a\u4e49\u5b58\u50a8\u5f15\u64ce\u3001\u5143\u6570\u636e\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d\uff0c\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u3002\\n\\n**\u5206\u533a\u76ee\u5f55**\u987e\u540d\u601d\u4e49\u5c31\u662f\u5c06\u6570\u636e\u6309\u7167\u67d0\u4e9b\u5c5e\u6027\u8fdb\u884c\u5206\u533a\uff0c\u6bd4\u5982\u65e5\u671f\u3002\u8fd9\u662f\u5927\u6570\u636e\u9886\u57df\u975e\u5e38\u666e\u904d\u7684\u505a\u6cd5\uff0c\u597d\u5904\u662f\u53ef\u4ee5\u6839\u636e\u5206\u533a\u8fc7\u6ee4\u4e0d\u9700\u8981\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u80fd\u51cf\u5c11 LIST \u8bf7\u6c42\u7684\u6570\u91cf\u3002\u8fd9\u4e2a\u65b9\u6848\u5e76\u6ca1\u6709\u89e3\u51b3\u524d\u9762\u63d0\u5230\u7684\u5bf9\u8c61\u5b58\u50a8\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff1a\u4e0d\u652f\u6301\u8de8\u591a\u4e2a\u5bf9\u8c61\u7684\u539f\u5b50\u64cd\u4f5c\u3001\u6700\u7ec8\u4e00\u81f4\u6027\u3001\u4f4e\u6027\u80fd\u3001\u4e0d\u652f\u6301\u591a\u7248\u672c\u548c\u5ba1\u8ba1\u65e5\u5fd7\u3002\\n\\n**\u81ea\u5b9a\u4e49\u5b58\u50a8\u5f15\u64ce**\u7684\u610f\u601d\u662f\u5728\u4e91\u4e0a\u5b9e\u73b0\u4e00\u4e2a\u72ec\u7acb\u7684\u5143\u6570\u636e\u670d\u52a1\uff0c\u7c7b\u4f3c Snowflake\u3001[JuiceFS](https://juicefs.com) \u7684\u505a\u6cd5\u3002\u5bf9\u8c61\u5b58\u50a8\u53ea\u662f\u88ab\u5f53\u4f5c\u4e00\u4e2a\u65e0\u9650\u5bb9\u91cf\u7684\u5757\u5b58\u50a8\uff0c\u4e00\u5207\u5143\u6570\u636e\u64cd\u4f5c\u90fd\u4f9d\u8d56\u8fd9\u4e2a\u5355\u72ec\u7684\u5143\u6570\u636e\u670d\u52a1\u3002\u8fd9\u4e2a\u65b9\u6848\u7684\u6311\u6218\u662f\uff1a\\n\\n- \u6240\u6709 I/O \u64cd\u4f5c\u90fd\u9700\u8981\u7ecf\u8fc7\u5143\u6570\u636e\u670d\u52a1\uff0c\u8fd9\u4f1a\u5e26\u6765\u989d\u5916\u7684\u8bf7\u6c42\u5f00\u9500\uff0c\u964d\u4f4e\u6027\u80fd\u548c\u53ef\u7528\u6027\u3002\\n- \u5b9e\u73b0\u4e00\u4e2a\u4e0e\u73b0\u6709\u8ba1\u7b97\u5f15\u64ce\u4e92\u901a\u7684\u8fde\u63a5\u5668\uff08connector\uff09\u9700\u8981\u66f4\u9ad8\u7684\u5de5\u7a0b\u6210\u672c\\n- \u7528\u6237\u4f1a\u56e0\u4e3a\u5143\u6570\u636e\u670d\u52a1\u800c\u7ed1\u5b9a\u5728\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u670d\u52a1\u4f9b\u5e94\u5546\u4e0a\uff0c\u6ca1\u6cd5\u76f4\u63a5\u8bbf\u95ee\u5bf9\u8c61\u5b58\u50a8\u4e2d\u7684\u6570\u636e\u3002\\n\\n**\u5143\u6570\u636e\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d**\u662f Databricks \u63d0\u5021\u7684\u65b9\u6848\uff0c\u5373\u4eca\u5929\u4ecb\u7ecd\u7684 Delta Lake\u3002\u8fd9\u4e2a\u65b9\u6848\u548c\u524d\u4e00\u4e2a\u7684\u672c\u8d28\u533a\u522b\u662f\u4e0d\u5b58\u5728\u4e00\u4e2a\u4e2d\u5fc3\u5316\u7684\u5143\u6570\u636e\u670d\u52a1\uff0c\u5143\u6570\u636e\u662f\u901a\u8fc7\u300c\u65e5\u5fd7\u300d\u7684\u5f62\u5f0f\u76f4\u63a5\u5b58\u653e\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d\u3002\u4ece\u76ee\u5f55\u7ed3\u6784\u4e0a\u6765\u770b\uff0cDelta Lake \u5b9a\u4e49\u4e86\u4e00\u79cd\u7279\u6b8a\u7684\u5b58\u50a8\u683c\u5f0f\uff0c\u4f8b\u5982\u5bf9\u4e8e\u66f4\u65b0\u6216\u8005\u5220\u9664\u7684\u6570\u636e\u4f1a\u4ea7\u751f\u5f88\u591a\u5c0f\u7684 delta \u6587\u4ef6\u3002\u8fd9\u4e00\u70b9\u4e0a\u5176\u5b9e\u8ddf [Hive \u5b9e\u73b0 ACID](https://issues.apache.org/jira/browse/HIVE-5317) \u7684\u8bbe\u8ba1\u5f88\u50cf\uff0c\u540e\u8005\u5728 2013 \u5e74\u5c31\u5df2\u7ecf\u5f00\u59cb\u5f00\u53d1\uff0c\u800c Delta Lake \u9879\u76ee\u662f 2016 \u5e74\u542f\u52a8\uff0c\u5f88\u96be\u8bf4\u6709\u6ca1\u6709\u501f\u9274\u7684\u6210\u5206\u3002\u66f4\u52a0\u7c7b\u4f3c Delta Lake \u7684\u662f\u53e6\u5916\u4e24\u4e2a\u9879\u76ee\uff1a[Apache Hudi](https://hudi.apache.org) \u548c [Apache Iceberg](https://iceberg.apache.org)\uff0c\u5173\u4e8e\u8fd9\u51e0\u4e2a\u9879\u76ee\u7684\u5f02\u540c\u540e\u9762\u4f1a\u6709\u4e00\u4e2a\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0cDatabricks \u76ee\u524d\u5ba3\u4f20\u7684\u4e00\u4e9b Delta Lake \u72ec\u6709\u7684\u7279\u6027\uff08\u6bd4\u5982 Z-order clustering\uff09\u5176\u5b9e\u5e76\u6ca1\u6709\u5f00\u6e90\u3002\\n\\nDelta Lake \u7684\u601d\u60f3\u5176\u5b9e\u5f88\u597d\u7406\u89e3\uff0c\u672c\u8d28\u4e0a\u662f\u628a\u6240\u6709\u64cd\u4f5c\u90fd\u901a\u8fc7\u65e5\u5fd7\u7684\u5f62\u5f0f\u8bb0\u5f55\u4e0b\u6765\uff0c\u5f53\u8bfb\u53d6\u65f6\u9700\u8981\u91cd\u653e\u8fd9\u4e9b\u65e5\u5fd7\u6765\u5f97\u5230\u6700\u65b0\u7684\u6570\u636e\u72b6\u6001\uff0c\u6700\u7ec8\u5b9e\u73b0 ACID \u7684\u8bed\u4e49\u3002\u4f18\u5316\u7684\u70b9\u5728\u4e8e\u600e\u4e48\u52a0\u901f\u6574\u4e2a\u6d41\u7a0b\uff0c\u6bd4\u5982\u5b9a\u671f\u5408\u5e76\u65e5\u5fd7\u4e3a\u4e00\u4e2a checkpoint\u3001\u7d22\u5f15\u6700\u65b0\u7684 checkpoint \u7b49\u3002\u8fd9\u79cd\u628a\u65e5\u5fd7\u4f5c\u4e3a\u5143\u6570\u636e\u7684\u8bbe\u8ba1\u89e3\u51b3\u4e86\u524d\u9762\u63d0\u5230\u7684\u5bf9\u8c61\u5b58\u50a8\u6700\u7ec8\u4e00\u81f4\u6027\u7684\u95ee\u9898\uff0c\u5373\u53ea\u4f9d\u8d56\u65e5\u5fd7\u6765\u786e\u5b9a\u5177\u4f53\u8bfb\u53d6\u7684\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u901a\u8fc7 LIST \u4e00\u4e2a\u76ee\u5f55\u3002\u4f46\u662f\u4ece\u8bba\u6587\u63cf\u8ff0\u7684\u573a\u666f\u6765\u770b\u8fd8\u662f\u6709\u53ef\u80fd\u56e0\u4e3a\u6700\u7ec8\u4e00\u81f4\u6027\u8e29\u5751\uff08\u56e0\u4e3a\u4f9d\u7136\u4f1a\u7528\u5230 LIST API\uff09\uff0c\u81f3\u4e8e\u8fd9\u4e2a\u6982\u7387\u6709\u591a\u5927\u5c31\u4e0d\u77e5\u9053\u4e86\uff0c\u56e0\u6b64\u6211\u5bf9\u4e8e\u662f\u5426\u80fd\u6839\u672c\u6027\u89e3\u51b3\u4e00\u81f4\u6027\u95ee\u9898\u5b58\u7591\u3002\\n\\n\u5199\u6570\u636e\u7684\u65f6\u5019\u6709\u4e00\u4e2a\u5730\u65b9\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u65e5\u5fd7\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u662f\u9012\u589e\u4e14\u5168\u5c40\u552f\u4e00\u7684 ID\uff0c\u56e0\u4e3a\u5199\u5165\u5b58\u5728\u5e76\u53d1\uff0c\u6240\u4ee5\u9700\u8981\u5728\u8fd9\u4e00\u6b65\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002\u6839\u636e\u4e0d\u540c\u7684\u5bf9\u8c61\u5b58\u50a8\u6709\u4e0d\u540c\u7684\u89e3\u51b3\u65b9\u6848\uff1a\\n\\n- Google Cloud Storage \u548c Azure Blob Store \u56e0\u4e3a\u652f\u6301\u539f\u5b50 put-if-absent \u64cd\u4f5c\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a API \u5b9e\u73b0\u3002\\n- \u5bf9\u4e8e\u652f\u6301\u539f\u5b50 rename \u7684\u6587\u4ef6\u7cfb\u7edf\uff08\u6bd4\u5982 HDFS\u3001Azure Data Lake Storage\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u3002\\n- \u5982\u679c\u4ee5\u4e0a\u529f\u80fd\u90fd\u4e0d\u652f\u6301\uff08\u6bd4\u5982 S3\uff09\uff0c\u5728 Databricks \u7684\u4f01\u4e1a\u7248\u672c\u91cc\u662f\u901a\u8fc7\u4e00\u4e2a\u72ec\u7acb\u7684\u8f7b\u91cf\u7ea7\u534f\u8c03\u670d\u52a1\uff08coordination service\uff09\u6765\u786e\u4fdd ID \u9012\u589e\u7684\u539f\u5b50\u6027\u3002\u5728\u5f00\u6e90\u7248\u672c\u7684 Spark \u8fde\u63a5\u5668\u91cc\u662f\u901a\u8fc7 Spark driver \u6765\u7edf\u4e00\u5206\u914d ID\uff0c\u8fd9\u6837\u4e5f\u80fd\u4fdd\u8bc1\u5728 1 \u4e2a Spark \u4efb\u52a1\u91cc\u53ef\u4ee5\u5e76\u53d1\u5199\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 `LogStore` \u8fd9\u4e2a\u63a5\u53e3\u5b9e\u73b0\u4e00\u4e2a\u7c7b\u4f3c Databricks \u63d0\u4f9b\u7684\u534f\u8c03\u670d\u52a1\u3002\u56e0\u4e3a\u4f9d\u8d56\u4e86\u4e00\u4e2a\u4e2d\u5fc3\u5316\u7684\u670d\u52a1\uff08\u867d\u7136\u53ea\u662f\u5728\u5199\u6570\u636e\u65f6\uff09\uff0c\u4e5f\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u7834\u574f\u4e86 Delta Lake \u5ba3\u626c\u7684\u53bb\u4e2d\u5fc3\u5316\u601d\u60f3\u3002\\n\\n\u7531\u4e8e\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u4e86\u6240\u6709\u7684\u5386\u53f2\u64cd\u4f5c\uff0c\u5e76\u4e14\u6570\u636e\u548c\u65e5\u5fd7\u90fd\u662f\u4e0d\u53ef\u53d8\u7684\uff08immutable\uff09\uff0c\u56e0\u6b64 Delta Lake \u53ef\u4ee5\u5f88\u8f7b\u677e\u5b9e\u73b0\u65f6\u95f4\u65c5\u884c\uff08Time Travel\uff09\u529f\u80fd\uff0c\u4e5f\u5c31\u662f\u91cd\u73b0\u67d0\u4e2a\u5386\u53f2\u65f6\u523b\u7684\u6570\u636e\u72b6\u6001\u3002Delta Lake \u901a\u8fc7\u7c7b\u4f3c `TIMESTAMP AS OF` \u8fd9\u79cd\u8bed\u6cd5\u7684 SQL \u53ef\u4ee5\u8ba9\u7528\u6237\u6307\u5b9a\u8bfb\u53d6\u67d0\u4e2a\u65f6\u95f4\u7684\u6570\u636e\uff0c\u4e0d\u8fc7\u8fd9\u4e2a SQL \u8bed\u6cd5\u76ee\u524d\u5728\u5f00\u6e90\u7248\u672c\u4e2d\u8fd8[\u4e0d\u652f\u6301](https://github.com/delta-io/delta/issues/128)\u3002\\n\\nDelta Lake \u4e5f\u53ef\u4ee5\u5f88\u597d\u5730\u8ddf\u6d41\u5f0f\u8ba1\u7b97\u8fdb\u884c\u7ed3\u5408\uff0c\u4e0d\u7ba1\u662f\u751f\u4ea7\u8005\u8fd8\u662f\u6d88\u8d39\u8005\u90fd\u53ef\u4ee5\u5229\u7528 Delta Lake \u7684 API \u6765\u5b9e\u73b0\u6d41\u5f0f\u5199\u548c\u8bfb\u6570\u636e\u3002\u5f53\u7136\u6bd5\u7adf\u56e0\u4e3a\u662f Databricks \u5f00\u53d1\u7684\u4ea7\u54c1\uff0c\u76ee\u524d\u7ed3\u5408\u5f97\u6700\u597d\u7684\u80af\u5b9a\u662f Spark Structured Streaming\u3002\u4f60\u95ee\u652f\u6301 Flink \u5417\uff1f\u81f3\u5c11 Databricks \u5458\u5de5\u7684[\u56de\u7b54](https://github.com/delta-io/delta/issues/156#issuecomment-552503730)\u662f\u8fd8\u5728\u8ba1\u5212\u4e2d\uff0c\u77ed\u671f\u5185\u4f30\u8ba1\u6ca1\u620f\u3002\\n\\n\u6700\u540e\u662f\u6027\u80fd\u8bc4\u6d4b\u90e8\u5206\u3002\u9996\u5148\u8bc4\u6d4b\u7684\u662f LIST \u5927\u91cf\u6587\u4ef6\u7684\u573a\u666f\uff0c\u901a\u8fc7\u5bf9\u540c\u4e00\u5f20\u8868\u8fdb\u884c\u4e0d\u540c\u7a0b\u5ea6\u5730\u5206\u533a\u6765\u6a21\u62df\u4e0d\u540c\u91cf\u7ea7\u7684\u6587\u4ef6\uff0c\u8bc4\u6d4b\u7684\u5f15\u64ce\u662f Hive\u3001Presto\u3001Databricks Runtime\uff08\u4f01\u4e1a\u7248 Spark\uff0c\u4ee5\u4e0b\u7b80\u79f0 DR\uff09\uff0c\u5176\u4e2d Hive \u548c Presto \u8bfb\u53d6\u7684\u6570\u636e\u683c\u5f0f\u662f Parquet\uff0cDR \u8bfb\u53d6\u7684\u683c\u5f0f\u662f Parquet \u548c Delta Lake\u3002Hive \u5728\u6709 1 \u4e07\u4e2a\u5206\u533a\u65f6\u603b\u65f6\u95f4\u5df2\u7ecf\u8d85\u8fc7 1 \u5c0f\u65f6\uff1bPresto \u7a0d\u597d\u4e00\u4e9b\u5728 10 \u4e07\u4e2a\u5206\u533a\u65f6\u624d\u8d85\u8fc7 1 \u5c0f\u65f6\uff1bDR + Parquet \u5728 10 \u4e07\u4e2a\u5206\u533a\u65f6\u7684\u8017\u65f6\u662f 450 \u79d2\uff08\u5f97\u76ca\u4e8e\u5e76\u53d1\u6267\u884c LIST \u8bf7\u6c42\uff09\uff1bDR + Delta Lake \u5728 1 \u767e\u4e07\u5206\u533a\u65f6\u7684\u8017\u65f6\u624d 108 \u79d2\uff0c\u5982\u679c\u542f\u7528\u4e86\u672c\u5730\u7f13\u5b58\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7f29\u77ed\u5230 17 \u79d2\uff0c\u53ef\u4ee5\u770b\u51fa\u6765\u4f18\u5316\u6548\u679c\u975e\u5e38\u660e\u663e\u3002\u8fd9\u4e2a\u7ed3\u679c\u4e5f\u57fa\u672c\u7b26\u5408\u9884\u671f\uff0c\u6bd5\u7adf Delta Lake \u4e3b\u8981\u76ee\u6807\u4e4b\u4e00\u5c31\u662f\u4f18\u5316 list \u7684\u6027\u80fd\uff08\u4ee5\u53ca\u4e00\u81f4\u6027\uff09\uff0c\u5bf9\u8c61\u5b58\u50a8\u5728\u5143\u6570\u636e\u6027\u80fd\u4e0a\u80af\u5b9a\u6ca1\u6709\u4f18\u52bf\u3002\\n\\n\u63a5\u4e0b\u6765\u662f\u66f4\u63a5\u8fd1\u771f\u5b9e\u573a\u666f\u7684 TPC-DS \u6d4b\u8bd5\uff0c\u6570\u636e\u96c6\u5927\u5c0f\u662f 1 TB\uff0c\u6d4b\u8bd5\u7ed3\u679c\u53d6\u7684\u662f 3 \u6b21\u8fd0\u884c\u65f6\u95f4\u7684\u5e73\u5747\u503c\u3002\u6700\u540e\u7684\u6570\u636e\u662f Presto + Parquet \u8017\u65f6 3.76 \u5c0f\u65f6\uff0c\u793e\u533a\u7248 Spark + Parquet \u8017\u65f6 1.44 \u5c0f\u65f6\uff0cDR + Parquet \u8017\u65f6 0.99 \u5c0f\u65f6\uff0cDR + Delta Lake \u8017\u65f6 0.93 \u5c0f\u65f6\u3002DR + Parquet \u76f8\u6bd4\u793e\u533a\u7248 Spark \u5feb\u7684\u4e3b\u8981\u539f\u56e0\u662f DR \u505a\u4e86\u5f88\u591a\u8fd0\u884c\u65f6\u548c\u6267\u884c\u8ba1\u5212\u7684\u4f18\u5316\uff0c\u76f8\u6bd4\u4e4b\u4e0b DR + Delta Lake \u5e76\u6ca1\u6709\u6bd4\u76f4\u63a5\u8bfb\u53d6 Parquet \u63d0\u5347\u592a\u591a\uff0c\u8bba\u6587\u4e2d\u7684\u89e3\u91ca\u662f TPC-DS \u7684\u8868\u5206\u533a\u90fd\u4e0d\u5927\uff0c\u4e0d\u80fd\u5b8c\u5168\u4f53\u73b0 Delta Lake \u7684\u4f18\u52bf\u3002\\n\\n\u603b\u7ed3\u4e00\u4e0b\uff0cDelta Lake \u7684\u601d\u60f3\u5176\u5b9e\u5e76\u4e0d\u590d\u6742\uff0c\u4e5f\u662f\u5de5\u4e1a\u754c\u4e3a\u4e86\u89e3\u51b3\u5bf9\u8c61\u5b58\u50a8\u8bf8\u591a\u95ee\u9898\u7684\u4e00\u79cd\u5c1d\u8bd5\uff0c\u867d\u7136\u5e76\u4e0d\u80fd\u5b8c\u5168\u89e3\u51b3\uff08\u6bd4\u5982\u539f\u5b50\u91cd\u547d\u540d\u548c\u5220\u9664\uff09\u3002\u5728\u5927\u6570\u636e\u5b58\u50a8\u4e0a\u5b9e\u73b0 ACID \u8fd9\u4e00\u70b9\u5bf9\u4e8e\u6784\u5efa\u5b9e\u65f6\u6570\u4ed3\u81f3\u5173\u91cd\u8981\uff0cDelta Lake \u901a\u8fc7\u4e00\u79cd\u7b80\u5355\u7edf\u4e00\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u9700\u6c42\uff0c\u800c\u4e0d\u7528\u50cf\u4f20\u7edf\u7684 [Lambda \u67b6\u6784](https://en.wikipedia.org/wiki/Lambda_architecture)\u4e00\u6837\u518d\u5355\u72ec\u90e8\u7f72\u4e00\u5957\u5b58\u50a8\u7cfb\u7edf\uff08\u6bd4\u5982 HBase\u3001Kudu\uff09\u3002\u4f46\u73b0\u5728\u6d41\u5f0f\u8ba1\u7b97\u9886\u57df\u7684\u98ce\u5934\u5df2\u7ecf\u4ece Spark \u9010\u6e10\u8f6c\u5411\u4e86 Flink\uff0c\u50cf Delta Lake \u8fd9\u79cd\u53ea\u5bf9 Spark \u652f\u6301\u7684\u6280\u672f\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u4e5f\u4f1a\u9650\u5236\u5b83\u7684\u666e\u53ca\uff0c\u76f8\u6bd4\u4e4b\u4e0b Iceberg \u548c Hudi \u4f3c\u4e4e\u66f4\u6709\u7ade\u4e89\u529b\u3002\\n\\n## Delta Engine: High Performance Query Engine for Delta Lake\\n\\n[[\u94fe\u63a5]](https://www.youtube.com/watch?v=o54YMz8zvCY)\\n\\n\u524d\u9762\u4ecb\u7ecd\u4e86 Delta Lake\uff0c\u7b97\u662f Databricks \u4eca\u5e74\u4e00\u4e2a\u91cd\u91cf\u7ea7\u7684\u5f00\u6e90\u4ea7\u54c1\uff0c\u4f46\u5176\u5b9e\u771f\u6b63\u7684\u6740\u624b\u950f\u5e76\u6ca1\u6709\u5f00\u653e\u51fa\u6765\uff0c\u4e5f\u5c31\u662f\u8fd9\u91cc\u8981\u4ecb\u7ecd\u7684 Delta Engine\u3002\u7b80\u5355\u4ecb\u7ecd\u8fd9\u662f\u4e00\u4e2a\u5728 Delta Lake \u4e4b\u4e0a\uff0c\u57fa\u4e8e Spark 3.0 \u7684\u8ba1\u7b97\u5f15\u64ce\u3002Delta Engine \u4e3b\u8981\u5305\u542b 3 \u90e8\u5206\uff1a\u539f\u751f\u6267\u884c\u5f15\u64ce\uff08Native Execution Engine\uff09\uff0c\u67e5\u8be2\u4f18\u5316\u5668\uff08Query Optimizer\uff09\u4ee5\u53ca\u7f13\u5b58\uff08Caching\uff09\u3002\u8fd9\u4e2a\u89c6\u9891\u91cd\u70b9\u4ecb\u7ecd\u4e86\u539f\u751f\u6267\u884c\u5f15\u64ce\uff0c\u8fd9\u4e2a\u5f15\u64ce\u7684\u4ee3\u53f7\u662f Photon\uff0c\u5b83\u4f7f\u7528 C++ \u7f16\u5199\uff0c\u5e76\u4e14\u5b9e\u73b0\u4e86\u76ee\u524d\u5728 OLAP \u9886\u57df\u5f88\u706b\u7684\u5411\u91cf\u5316\uff08vectorization\uff09\u529f\u80fd\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u5f3a\u70c8\u5efa\u8bae\u9605\u8bfb [MonetDB/X100: Hyper-Pipelining Query Execution](http://cidrdb.org/cidr2005/papers/P19.pdf) \u8fd9\u7bc7\u8bba\u6587\uff0cDatabricks \u5389\u5bb3\u7684\u5730\u65b9\u5728\u4e8e\u662f\u8ddf\u8bba\u6587\u4f5c\u8005 Peter Boncz \u4e00\u8d77\u5408\u4f5c\u8bbe\u8ba1\u3002\u5728 30 TB \u7684 TPC-DS \u6d4b\u8bd5\u4e2d\uff0cPhoton \u5e26\u6765\u4e86 3.3 \u500d\u7684\u6027\u80fd\u63d0\u5347\u3002\u5173\u4e8e\u67e5\u8be2\u4f18\u5316\u5668\u4ee5\u53ca\u7f13\u5b58\u529f\u80fd\u7684\u4ecb\u7ecd\u53ef\u4ee5\u53c2\u8003 Delta Engine \u7684[\u6587\u6863](https://docs.databricks.com/delta/optimizations/index.html)\u3002\\n\\n## A Thorough Comparison of Delta Lake, Iceberg and Hudi\\n\\n[[\u94fe\u63a5]](https://databricks.com/session_na20/a-thorough-comparison-of-delta-lake-iceberg-and-hudi)\\n\\nIceberg \u548c Hudi \u662f\u53e6\u5916\u4e24\u4e2a\u4f1a\u7ecf\u5e38\u62ff\u6765\u8ddf Delta Lake \u505a\u6bd4\u8f83\u7684\u5bf9\u8c61\uff0cIceberg \u662f Netflix \u5f00\u6e90\uff0c\u800c Hudi \u662f Uber \u5f00\u6e90\u3002\u5b83\u4eec\u4e4b\u95f4\u6709\u7740\u8bf8\u591a\u76f8\u4f3c\u4e4b\u5904\uff0c\u53c8\u6709\u7740\u5f88\u591a\u622a\u7136\u4e0d\u540c\u7684\u8bbe\u8ba1\u601d\u60f3\u3002\u8fd9\u4e2a\u89c6\u9891\u6765\u81ea\u817e\u8baf\u4e91\u6570\u636e\u6e56\u56e2\u961f\u7684\u9648\u4fca\u6770\uff0c\u6bd4\u8f83\u7cfb\u7edf\u5730\u5bf9\u6bd4\u4e86\u8fd9 3 \u79cd\u6280\u672f\u3002\u76f8\u5bf9\u6765\u8bf4 Iceberg \u7684\u8bbe\u8ba1\u662f\u8fd9 3 \u4e2a\u91cc\u9762\u6700\u4e2d\u7acb\u7684\uff0c\u4e0d\u8ddf\u67d0\u79cd\u7279\u5b9a\u7684\u683c\u5f0f\u548c\u5f15\u64ce\u7ed1\u5b9a\uff0c\u8fd9\u4e5f\u662f\u817e\u8baf\u9009\u62e9 Iceberg \u7684\u539f\u56e0\u4e4b\u4e00\uff0c\u5177\u4f53\u53ef\u4ee5\u770b[\u300c\u4e3a\u4ec0\u4e48\u817e\u8baf\u770b\u597d Apache Iceberg\uff1f\u300d](https://www.infoq.cn/article/59lbbuvcrzlusmdowjbb)\u8fd9\u7bc7\u6587\u7ae0\u3002\\n\\n## Bringing HPC Techniques to Deep Learning\\n\\n[[\u94fe\u63a5]](https://andrew.gibiansky.com/blog/machine-learning/baidu-allreduce)\\n\\n\u6df1\u5ea6\u5b66\u4e60\u7684\u6838\u5fc3\u4e4b\u4e00\u662f [SGD](https://en.wikipedia.org/wiki/Stochastic_gradient_descent)\uff08Stochastic Gradient Descent\uff09\uff0c\u901a\u8fc7\u628a\u6570\u636e\u96c6\u62c6\u5206\u6210\u82e5\u5e72\u5c0f\u7684\u96c6\u5408\uff08mini-batch\uff09\uff0c\u518d\u57fa\u4e8e\u8fd9\u4e9b\u5c0f\u96c6\u5408\u53cd\u590d\u8fdb\u884c\u524d\u5411\u4f20\u64ad\uff08forward propagation\uff09\u548c\u53cd\u5411\u4f20\u64ad\uff08backpropagation\uff09\u8ba1\u7b97\uff0c\u4e0d\u65ad\u83b7\u53d6\u65b0\u7684\u68af\u5ea6\uff08gradient\uff09\u548c\u6743\u91cd\uff08weight\uff09\u3002\u5206\u5e03\u5f0f\u8bad\u7ec3\u672c\u8d28\u4e0a\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5c31\u662f\u600e\u4e48\u8ba9\u591a\u673a\u8ba1\u7b97\u7684\u6548\u7387\u7ebf\u6027\u63d0\u5347\uff0c\u5373\u6240\u8c13\u7684\u300c\u7ebf\u6027\u52a0\u901f\u6bd4\u300d\uff0c\u7406\u8bba\u503c\u5f53\u7136\u662f 100%\uff0c\u4f46\u662f\u5b9e\u9645\u60c5\u51b5\u5f80\u5f80\u5dee\u4e86\u5f88\u591a\u3002\u4f20\u7edf\u7684\u540c\u6b65 SGD \u5728\u6bcf\u4e00\u8f6e\u8ba1\u7b97\u5b8c\u4ee5\u540e\u9700\u8981\u628a\u6240\u6709\u68af\u5ea6\u6c47\u603b\uff0c\u518d\u91cd\u65b0\u8ba1\u7b97\u65b0\u7684\u6743\u91cd\uff0c\u7c7b\u4f3c\u4e00\u4e2a MapReduce \u7684\u8fc7\u7a0b\uff0c\u6b64\u65f6 reducer \u9700\u8981\u7b49\u5f85\u6240\u6709 mapper \u8ba1\u7b97\u5b8c\u6210\uff0c\u8ba1\u7b97\u6027\u80fd\u4f1a\u968f\u7740 mapper \u6570\u91cf\u7684\u589e\u52a0\u800c\u7ebf\u6027\u4e0b\u964d\u3002\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u8fd9\u7bc7 2017 \u5e74\u7684\u65e7\u6587\u4ecb\u7ecd\u7684\u4fbf\u662f\u5f71\u54cd\u81f3\u4eca\u7684 Ring Allreduce \u7b97\u6cd5\uff0c\u4f5c\u8005 Andrew Gibiansky \u4e4b\u524d\u5728\u767e\u5ea6\u7845\u8c37 AI \u5b9e\u9a8c\u5ba4\u5de5\u4f5c\uff0c\u540e\u6765\u8054\u5408\u521b\u529e\u4e86\u8bed\u97f3\u5408\u6210\u516c\u53f8 [Voicery](https://www.voicery.com)\uff08\u4e0d\u8fc7\u60b2\u5267\u5730\u53d1\u73b0\u8fd9\u5bb6\u516c\u53f8\u4eca\u5e74 10 \u6708\u4efd\u5df2\u7ecf\u5173\u4e86\uff09\u3002\u57fa\u4e8e Andrew Gibiansky \u7684\u6210\u679c\uff0cUber \u5f00\u6e90\u4e86\u76ee\u524d\u516c\u8ba4\u7684 Ring Allreduce \u6807\u51c6\u6846\u67b6 [Horovod](https://github.com/uber/horovod)\u3002\\n\\n## Introducing TensorFlow Recommenders\\n\\n[[\u94fe\u63a5]](https://blog.tensorflow.org/2020/09/introducing-tensorflow-recommenders.html)\\n\\n\u63a8\u8350\u7cfb\u7edf\u662f\u4e00\u76f4\u90fd\u662f\u673a\u5668\u5b66\u4e60\u4e00\u4e2a\u91cd\u8981\u7684\u5e94\u7528\u9886\u57df\uff0c\u5982\u679c\u4f60\u4e0d\u4e86\u89e3\u4ec0\u4e48\u662f\u63a8\u8350\u7cfb\u7edf\u53ef\u4ee5\u770b\u6211\u4e4b\u524d\u5199\u7684[\u4e00\u7bc7\u7b80\u4ecb](/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1)\u3002\u4f7f\u7528 TensorFlow \u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u8bad\u7ec3\u4e00\u4e2a\u63a8\u8350\u7cfb\u7edf\u6a21\u578b\uff0c\u4e0d\u7ba1\u662f\u53ec\u56de\u6a21\u578b\u8fd8\u662f\u6392\u5e8f\u6a21\u578b\u3002\u73b0\u5728 TensorFlow \u5b98\u65b9\u5c06\u8fd9\u4e2a\u6d41\u7a0b\u8fdb\u4e00\u6b65\u7b80\u5316\uff0c\u63a8\u51fa\u4e86 TensorFlow Recommenders\uff08TFRS\uff09\u5e93\uff0c\u65e8\u5728\u8ba9\u8bad\u7ec3\u3001\u8bc4\u4f30\u3001serving \u63a8\u8350\u7cfb\u7edf\u6a21\u578b\u66f4\u52a0\u5bb9\u6613\uff0c\u5e76\u4e14\u878d\u5408\u4e00\u4e9b Google \u81ea\u5df1\u7684\u7ecf\u9a8c\uff0c\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\u4f1a\u662f\u4e00\u4e2a\u597d\u7684\u5165\u95e8\u6307\u5357\u3002"},{"id":"/2020/11/03/globalegrow-big-data-platform-user-case","metadata":{"permalink":"/blog/2020/11/03/globalegrow-big-data-platform-user-case","source":"@site/blog/2020-11-03-globalegrow-big-data-platform-user-case.md","title":"\u73af\u7403\u6613\u8d2d\u6570\u636e\u5e73\u53f0\u5982\u4f55\u505a\u5230\u65e2\u63d0\u901f\u53c8\u7701\u94b1\uff1f","description":"\u8fd9\u7bc7\u6587\u7ae0\u6700\u521d\u53d1\u8868\u5728 JuiceFS \u5b98\u65b9\u535a\u5ba2\uff0c\u70b9\u51fb\u8fd9\u91cc\u67e5\u770b\u539f\u6587\u3002","date":"2020-11-03T11:58:51.000Z","tags":[{"inline":true,"label":"big data","permalink":"/blog/tags/big-data"},{"inline":true,"label":"user case","permalink":"/blog/tags/user-case"}],"readingTime":14.85,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u73af\u7403\u6613\u8d2d\u6570\u636e\u5e73\u53f0\u5982\u4f55\u505a\u5230\u65e2\u63d0\u901f\u53c8\u7701\u94b1\uff1f","date":"2020-11-03 11:58:51 +0800","tags":["big data","user case"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #7","permalink":"/blog/2020/11/15/maybe-news-issue-7"},"nextItem":{"title":"Maybe News Issue #6","permalink":"/blog/2020/09/15/maybe-news-issue-6"}},"content":"> \u8fd9\u7bc7\u6587\u7ae0\u6700\u521d\u53d1\u8868\u5728 JuiceFS \u5b98\u65b9\u535a\u5ba2\uff0c\u70b9\u51fb[\u8fd9\u91cc](https://juicefs.com/zh-cn/blog/user-stories/globalegrow-big-data-platform-user-case)\u67e5\u770b\u539f\u6587\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5ba2\u6237\u7b80\u4ecb\\n\\n[\u73af\u7403\u6613\u8d2d](https://www.globalegrow.com)\u521b\u5efa\u4e8e 2007 \u5e74\uff0c\u81f4\u529b\u4e8e\u6253\u9020\u60e0\u901a\u5168\u7403\u7684 B2C \u8de8\u5883\u7535\u5546\u65b0\u96f6\u552e\u751f\u6001\uff0c2014 \u5e74\u901a\u8fc7\u4e0e\u767e\u5706\u88e4\u4e1a\u5e76\u8d2d\u5b8c\u6210\u4e0a\u5e02\uff0c\u4e0a\u5e02\u516c\u53f8\u300c\u8de8\u5883\u901a\uff08SZ002640\uff09\u300d\u662f A \u80a1\u4e0a\u5e02\u8de8\u5883\u7535\u5546\u7b2c\u4e00\u80a1\u3002\u7ecf\u8fc7\u591a\u5e74\u7684\u52aa\u529b\uff0c\u5728\u6d77\u5916\u5e02\u573a\u5efa\u7acb\u4e86\u5e7f\u9614\u7684\u9500\u552e\u7f51\u7edc\uff0c\u5f97\u5230\u4e86\u7f8e\u56fd\u3001\u6b27\u6d32\u7b49\u591a\u56fd\u5ba2\u6237\u7684\u5e7f\u6cdb\u8ba4\u53ef\uff0c\u516c\u53f8\u4e1a\u52a1\u591a\u5e74\u6765\u4e00\u76f4\u4fdd\u6301\u7740 100% \u7684\u589e\u957f\u901f\u5ea6\u3002\\n\\n## \u6570\u636e\u5e73\u53f0\u73b0\u72b6\u53ca\u9700\u6c42\\n\\n\u73af\u7403\u6613\u8d2d\u63d0\u4f9b\u9762\u5411\u5168\u7403\u7684\u8de8\u5883\u7535\u5546\u670d\u52a1\uff0c\u9009\u62e9 AWS \u4f5c\u4e3a\u4e91\u670d\u52a1\u5546\u3002\u57fa\u4e8e EC2 \u548c EBS \u81ea\u5efa CDH \u96c6\u7fa4\uff0c\u8ba1\u7b97\u5f15\u64ce\u4f7f\u7528\u4e86 Hive \u548c Spark\u3002\u5f53\u65f6\u7684\u73af\u7403\u6613\u8d2d\u5927\u6570\u636e\u5e73\u53f0\u9762\u4e34\u8fd9\u4e48\u51e0\u4e2a\u95ee\u9898\uff1a\\n\\n- \u57fa\u4e8e EBS \u642d\u5efa\u7684 HDFS \u96c6\u7fa4\u6210\u672c\u5f88\u9ad8\\n- Hadoop \u96c6\u7fa4\u7f3a\u4e4f\u5f39\u6027\u4f38\u7f29\u80fd\u529b\\n\\n\u56e0\u6b64\u5e0c\u671b\u80fd\u591f\u5728\u964d\u4f4e HDFS \u5b58\u50a8\u6210\u672c\u7684\u540c\u65f6\uff0c\u4e0d\u4f1a\u5728\u6027\u80fd\u4e0a\u9020\u6210\u592a\u5927\u635f\u5931\u3002\u8bf4\u5230\u964d\u4f4e\u6210\u672c\u90a3\u4e48\u5f88\u81ea\u7136\u5730\u4f1a\u8054\u60f3\u5230 S3\uff0cS3 \u5728\u63d0\u4f9b\u9ad8\u8fbe 11 \u4e2a 9 \u7684\u6570\u636e\u6301\u4e45\u6027\u7684\u540c\u65f6\u4e5f\u80fd\u591f\u505a\u5230\u8db3\u591f\u4f4e\u5ec9\u7684\u5b58\u50a8\u6210\u672c\u3002\u4f46\u662f\u5927\u6570\u636e\u96c6\u7fa4\u5b58\u50a8\u7531 HDFS \u8fc1\u79fb\u5230 S3 \u662f\u552f\u4e00\u9009\u62e9\u4e48\uff1f\u8fc1\u79fb\u548c\u4f7f\u7528\u4e2d\u4f1a\u9047\u5230\u54ea\u4e9b\u95ee\u9898\u5462\uff1f\u8fd9\u4e9b\u6211\u4eec\u5728\u540e\u9762\u90fd\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u4e0d\u8fc7\u9996\u5148\u6765\u770b\u770b\u4e3a\u4ec0\u4e48 EBS \u81ea\u5efa\u7684 HDFS \u96c6\u7fa4\u6210\u672c\u5f88\u9ad8\u3002\\n\\n## \u4e91\u4e0a\u81ea\u5efa HDFS \u7684\u75db\u70b9\\n\\nEBS \u662f\u4e00\u79cd\u6613\u4e8e\u4f7f\u7528\u7684\u9ad8\u6027\u80fd\u6570\u636e\u5757\u5b58\u50a8\u670d\u52a1\uff0c\u901a\u8fc7\u6302\u8f7d\u5230 EC2 \u4e0a\u6765\u63d0\u4f9b\u8fd1\u4e4e\u65e0\u9650\u5bb9\u91cf\u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u4e3a\u4e86\u4fdd\u8bc1 EBS \u4e0a\u6570\u636e\u7684\u53ef\u7528\u6027\uff0c\u6240\u6709\u6570\u636e\u90fd\u4f1a\u81ea\u52a8\u5728\u540c\u4e00\u53ef\u7528\u533a\u5185\u8fdb\u884c\u590d\u5236\uff0c\u9632\u6b62\u6570\u636e\u4e22\u5931\u3002\\n\\nHDFS \u662f\u76ee\u524d\u5927\u6570\u636e\u9886\u57df\u6700\u5e38\u4f7f\u7528\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7531\u4e00\u7cfb\u5217\u7684\u6570\u636e\u5757\u7ec4\u6210\u3002\u540c\u6837\u7684\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u7528\u6027\uff0cHDFS \u9ed8\u8ba4\u4f1a\u5c06\u8fd9\u4e9b\u6570\u636e\u5757\u81ea\u52a8\u590d\u5236\u5230\u96c6\u7fa4\u4e2d\u7684\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u4f8b\u5982\u5f53\u8bbe\u7f6e\u526f\u672c\u6570\u4e3a 3 \u65f6\u540c\u4e00\u6570\u636e\u5757\u5728\u96c6\u7fa4\u4e2d\u5c06\u4f1a\u6709 3 \u4efd\u62f7\u8d1d\u3002\\n\\n\u901a\u8fc7\u4ee5\u4e0a\u4ecb\u7ecd\u53ef\u4ee5\u770b\u5230 EBS \u548c HDFS \u90fd\u4f1a\u901a\u8fc7\u590d\u5236\u6570\u636e\u6765\u4fdd\u8bc1\u53ef\u7528\u6027\uff0c\u533a\u522b\u5728\u4e8e EBS \u662f\u53ea\u9488\u5bf9\u6bcf\u5757\u5b58\u50a8\u5377\uff08\u5373\u78c1\u76d8\uff09\u7684\u6570\u636e\u8fdb\u884c\u590d\u5236\uff0c\u800c HDFS \u662f\u9488\u5bf9\u6574\u4e2a\u96c6\u7fa4\u7684\u6570\u636e\u3002\u8fd9\u79cd\u53cc\u91cd\u5197\u4f59\u7684\u673a\u5236\u5176\u5b9e\u6709\u4e9b\u591a\u4f59\uff0c\u4e5f\u53d8\u76f8\u589e\u52a0\u4e86\u5b58\u50a8\u6210\u672c\u3002\u540c\u65f6 HDFS \u7684\u591a\u526f\u672c\u7279\u6027\u4f7f\u5f97\u96c6\u7fa4\u7684\u5b9e\u9645\u53ef\u7528\u5bb9\u91cf\u4f1a\u5c0f\u5f88\u591a\uff0c\u4f8b\u5982\u5f53\u526f\u672c\u6570\u4e3a 3 \u65f6\u5b9e\u9645\u53ef\u7528\u5bb9\u91cf\u5176\u5b9e\u53ea\u6709\u603b\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\u7684 1/3\uff0c\u518d\u52a0\u4e0a\u901a\u5e38\u4f1a\u5728\u96c6\u7fa4\u7a7a\u95f4\u5230\u8fbe\u4e00\u5b9a\u6c34\u4f4d\u65f6\u5c31\u8fdb\u884c\u6269\u5bb9\uff0c\u8fd9\u4f1a\u8fdb\u4e00\u6b65\u538b\u7f29\u53ef\u7528\u5bb9\u91cf\u3002**\u57fa\u4e8e\u4ee5\u4e0a\u539f\u56e0\uff0c\u5728\u4e91\u4e0a\u901a\u8fc7 EBS \u81ea\u5efa HDFS \u96c6\u7fa4\u7684\u5b58\u50a8\u6210\u672c\u901a\u5e38\u4f1a\u9ad8\u8fbe\uffe51000/TB/\u6708\u3002**\\n\\n## \u4ece HDFS \u8fc1\u79fb\u5230 S3 \u6211\u4eec\u9700\u8981\u8003\u8651\u4ec0\u4e48\uff1f\\n\\nHadoop \u793e\u533a\u7248\u9ed8\u8ba4\u5df2\u7ecf\u652f\u6301\u4ece S3 \u8bfb\u5199\u6570\u636e\uff0c\u5373\u901a\u5e38\u6240\u8bf4\u7684\u300cS3A\u300d\u3002\u4f46\u662f\u5982\u679c\u4f60\u53bb\u770b S3A \u7684[\u5b98\u65b9\u6587\u6863](http://hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/index.html#Warnings)\uff0c\u4f1a\u5728\u6700\u5f00\u59cb\u770b\u5230\u51e0\u4e2a\u5927\u5927\u7684\u8b66\u544a\uff0c\u91cc\u9762\u5217\u4e3e\u4e86\u4e00\u4e9b\u7c7b S3 \u7684\u5bf9\u8c61\u5b58\u50a8\u90fd\u4f1a\u5b58\u5728\u7684\u95ee\u9898\u3002\\n\\n### \u4e00\u81f4\u6027\u6a21\u578b\uff08Consistency Model\uff09\\n\\nS3 \u7684\u4e00\u81f4\u6027\u6a21\u578b\u662f[\u6700\u7ec8\u4e00\u81f4\u6027](https://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#ConsistencyModel)\uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u6587\u4ef6\u4ee5\u540e\uff0c\u5e76\u4e0d\u4e00\u5b9a\u80fd\u7acb\u5373\u770b\u5230\u5b83\uff1b\u5f53\u5bf9\u4e00\u4e2a\u6587\u4ef6\u6267\u884c\u5220\u9664\u6216\u8005\u66f4\u65b0\u64cd\u4f5c\u540e\uff0c\u6709\u53ef\u80fd\u8fd8\u662f\u4f1a\u8bfb\u5230\u65e7\u7684\u6570\u636e\u3002\u8fd9\u4e9b\u4e00\u81f4\u6027\u95ee\u9898\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\uff0c\u6bd4\u5982\u5e38\u89c1\u7684 `java.io.FileNotFoundException`\uff0c\u4e5f\u53ef\u80fd\u5bfc\u81f4\u9519\u8bef\u7684\u8ba1\u7b97\u7ed3\u679c\uff0c\u66f4\u9ebb\u70e6\u7684\u662f\u8fd9\u79cd\u9519\u8bef\u5f88\u96be\u53d1\u73b0\u3002\u6211\u4eec\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u5c31\u56e0\u4e3a S3 \u7684\u4e00\u81f4\u6027\u95ee\u9898\u4f7f\u5f97\u6267\u884c DistCp \u4efb\u52a1\u9891\u7e41\u62a5\u9519\uff0c\u5bfc\u81f4\u6570\u636e\u8fc1\u79fb\u53d7\u5230\u4e25\u91cd\u5f71\u54cd\u3002\\n\\n### \u6ca1\u6709\u771f\u5b9e\u7684\u76ee\u5f55\\n\\nS3 \u4e2d\u7684\u300c\u76ee\u5f55\u300d\u5176\u5b9e\u662f\u901a\u8fc7\u5bf9\u8c61\u540d\u79f0\u7684\u524d\u7f00\u6a21\u62df\u51fa\u6765\u7684\uff0c\u56e0\u6b64\u5b83\u5e76\u4e0d\u7b49\u4ef7\u4e8e\u901a\u5e38\u6211\u4eec\u5728 HDFS \u4e2d\u89c1\u5230\u7684\u76ee\u5f55\u3002\u4f8b\u5982\u5f53\u904d\u5386\u4e00\u4e2a\u76ee\u5f55\u65f6\uff0cS3 \u7684\u5b9e\u73b0\u662f\u641c\u7d22\u5177\u6709\u76f8\u540c\u524d\u7f00\u7684\u5bf9\u8c61\u3002\u8fd9\u4f1a\u5bfc\u81f4\u51e0\u4e2a\u6bd4\u8f83\u4e25\u91cd\u7684\u95ee\u9898\uff1a\\n\\n- **\u904d\u5386\u76ee\u5f55\u53ef\u80fd\u4f1a\u5f88\u6162\u3002**\u904d\u5386\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53d6\u51b3\u4e8e\u76ee\u5f55\u4e2d\u7684\u603b\u6587\u4ef6\u6570\u3002\\n- **\u91cd\u547d\u540d\u76ee\u5f55\u4e5f\u53ef\u80fd\u4f1a\u5f88\u6162\u3002**\u8ddf\u904d\u5386\u76ee\u5f55\u4e00\u6837\uff0c\u603b\u6587\u4ef6\u6570\u662f\u5f71\u54cd\u6027\u80fd\u7684\u91cd\u8981\u56e0\u7d20\u3002\u540c\u65f6 S3 \u91cd\u547d\u540d\u4e00\u4e2a\u6587\u4ef6\u5176\u5b9e\u662f\u5148\u62f7\u8d1d\u5230\u65b0\u8def\u5f84\uff0c\u518d\u5220\u9664\u539f\u59cb\u6587\u4ef6\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u662f\u6bd4\u8f83\u8017\u65f6\u7684\u3002\\n- **\u91cd\u547d\u540d\u6216\u8005\u5220\u9664\u76ee\u5f55\u4e0d\u662f\u539f\u5b50\u64cd\u4f5c\u3002**HDFS \u4e0a\u53ea\u9700\u8981 O(1) \u7684\u64cd\u4f5c\uff0c\u5728 S3 \u4e0a\u53d8\u6210\u4e86 O(n)\u3002\u5982\u679c\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4efb\u52a1\u5931\u8d25\uff0c\u5c06\u4f1a\u5bfc\u81f4\u6570\u636e\u53d8\u6210\u4e00\u4e2a\u4e0d\u53ef\u77e5\u7684\u4e2d\u95f4\u72b6\u6001\u3002\\n\\n### \u8ba4\u8bc1\u6a21\u578b\uff08Authorization Model\uff09\\n\\nS3 \u7684\u8ba4\u8bc1\u6a21\u578b\u662f\u5728 S3 \u670d\u52a1\u5185\u90e8\u57fa\u4e8e IAM \u5b9e\u73b0\u7684\uff0c\u8fd9\u533a\u522b\u4e8e\u4f20\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u56e0\u6b64\u5f53\u901a\u8fc7 Hadoop \u8bbf\u95ee S3 \u65f6\u4f1a\u770b\u5230\u6587\u4ef6\u7684 owner \u548c group \u4f1a\u968f\u7740\u5f53\u524d\u7528\u6237\u7684\u8eab\u4efd\u800c\u52a8\u6001\u53d8\u5316\uff0c\u6587\u4ef6\u7684\u6743\u9650\u90fd\u662f 666\uff0c\u800c\u76ee\u5f55\u7684\u6743\u9650\u90fd\u662f 777\u3002\u8fd9\u79cd\u4e0e HDFS \u5927\u76f8\u5f84\u5ead\u7684\u8ba4\u8bc1\u6a21\u578b\u4f1a\u4f7f\u5f97\u6743\u9650\u7ba1\u7406\u590d\u6742\u5316\uff0c\u5e76\u4e14\u4e5f\u663e\u5f97\u4e0d\u591f\u901a\u7528\uff0c\u53ea\u80fd\u9650\u5b9a\u5728 AWS \u5185\u4f7f\u7528\u3002\\n\\n## JuiceFS \u5e26\u6765\u4e86\u4ec0\u4e48\uff1f\\n\\nJuiceFS \u57fa\u4e8e\u5bf9\u8c61\u5b58\u50a8\u5b9e\u73b0\u4e86\u4e00\u4e2a**\u5f3a\u4e00\u81f4\u6027\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf**\uff0c\u4e00\u65b9\u9762\u4fdd\u6301\u4e86 S3 \u5f39\u6027\u4f38\u7f29\u65e0\u9650\u5bb9\u91cf\uff0c99.999999999% \u7684\u6570\u636e\u6301\u4e45\u6027\u5b89\u5168\u7279\u6027\uff0c\u53e6\u4e00\u65b9\u9762\u524d\u9762\u63d0\u5230\u7684 S3 \u7684\u79cd\u79cd\u300c\u95ee\u9898\u300d\u90fd\u80fd\u5b8c\u7f8e\u89e3\u51b3\u3002\u540c\u65f6 JuiceFS \u5b8c\u6574\u517c\u5bb9 Hadoop \u751f\u6001\u7684\u5404\u79cd\u7ec4\u4ef6\uff0c\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u53ef\u4ee5\u505a\u5230\u65e0\u7f1d\u63a5\u5165\u3002\u8ba4\u8bc1\u6a21\u578b\u4e0a JuiceFS \u9075\u5faa\u4e0e HDFS \u7c7b\u4f3c\u7684 user/group \u6743\u9650\u63a7\u5236\u65b9\u5f0f\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u5b89\u5168\u6027\uff0c\u4e5f\u80fd\u5bf9\u63a5 Hadoop \u751f\u6001\u4e2d\u5e38\u7528\u7684\u5982 Kerberos\u3001Ranger\u3001Sentry \u8fd9\u4e9b\u7ec4\u4ef6\u3002\u66f4\u52a0\u91cd\u8981\u7684\u662f\uff0c\u76f8\u6bd4\u73af\u7403\u6613\u8d2d\u73b0\u6709\u7684\u57fa\u4e8e EBS \u7684\u5b58\u50a8\u65b9\u6848\uff0c\u4f7f\u7528 JuiceFS \u4ee5\u540e**\u6bcf TB \u6bcf\u6708\u7684\u5b58\u50a8\u6210\u672c\u5c06\u4f1a\u81f3\u5c11\u8282\u7701 70%**\u3002\\n\\n\u5b58\u50a8\u6210\u672c\u5927\u5e45\u4e0b\u964d\u7684\u540c\u65f6\uff0c\u6027\u80fd\u8868\u73b0\u53c8\u5982\u4f55\u5462\uff1f\u4e0b\u9762\u5206\u4eab\u4e00\u4e0b\u76f8\u5173\u7684\u6d4b\u8bd5\u7ed3\u679c\u3002\\n\\n## \u6d4b\u8bd5\u7ed3\u679c\\n\\n\u6d4b\u8bd5\u73af\u5883\u662f AWS \u4e0a\u81ea\u5efa\u7684 CDH \u96c6\u7fa4\uff0cCDH \u7248\u672c\u4e3a 5.8.5\u3002\u6d4b\u8bd5\u7684\u8ba1\u7b97\u5f15\u64ce\u5305\u62ec Hive \u548c Spark\uff0c\u6570\u636e\u683c\u5f0f\u5305\u62ec\u7eaf\u6587\u672c\u548c ORC\uff0c\u4f7f\u7528 TPC-DS 20G \u548c 100G \u8fd9\u4e24\u4e2a\u89c4\u6a21\u7684\u6570\u636e\u96c6\u3002\u5bf9\u6bd4\u7684\u5b58\u50a8\u7cfb\u7edf\u6709 S3A\u3001HDFS \u53ca JuiceFS\u3002\\n\\n### \u521b\u5efa\u8868\\n\\n![](/img/blog/globalegrow-create-table.png)\\n\\n\u8fd9\u91cc\u4ee5\u521b\u5efa `store_sales` \u8fd9\u4e2a\u5206\u533a\u8868\u4e3a\u4f8b\\n\\n### \u4fee\u590d\u8868\u5206\u533a\\n\\n![](/img/blog/globalegrow-repair-table.png)\\n\\n\u8fd9\u91cc\u4ee5\u4fee\u590d `store_sales` \u8fd9\u4e2a\u8868\u7684\u5206\u533a\u4e3a\u4f8b\\n\\n### \u5199\u5165\u6570\u636e\\n\\n![](/img/blog/globalegrow-insert-table.png)\\n\\n\u8fd9\u91cc\u4ee5\u8bfb\u53d6 `store_sales` \u8fd9\u4e2a\u5206\u533a\u8868\u5e76\u63d2\u5165\u4e34\u65f6\u8868\u4e3a\u4f8b\\n\\n### \u8bfb\u53d6\u7eaf\u6587\u672c\u683c\u5f0f\u6570\u636e\\n\\n![](/img/blog/globalegrow-text-20g.png)\\n\\n![](/img/blog/globalegrow-text-100g.png)\\n\\n\u5206\u522b\u4f7f\u7528 Spark \u6d4b\u8bd5\u4e86 20G \u548c 100G \u8fd9\u4e24\u4e2a\u6570\u636e\u96c6\uff0c\u53d6 TPC-DS \u524d 10 \u4e2a\u67e5\u8be2\uff0c\u6570\u636e\u683c\u5f0f\u4e3a\u7eaf\u6587\u672c\u3002\\n\\n### \u8bfb\u53d6 ORC \u683c\u5f0f\u6570\u636e\\n\\n![](/img/blog/globalegrow-orc-20g.png)\\n\\n![](/img/blog/globalegrow-orc-100g.png)\\n\\n\u5206\u522b\u4f7f\u7528 Spark \u6d4b\u8bd5\u4e86 20G \u548c 100G \u8fd9\u4e24\u4e2a\u6570\u636e\u96c6\uff0c\u53d6 TPC-DS \u524d 10 \u4e2a\u67e5\u8be2\uff0c\u6570\u636e\u683c\u5f0f\u4e3a ORC\u3002\\n\\n### \u6d4b\u8bd5\u7ed3\u679c\u603b\u7ed3\\n\\n\u5bf9\u4e8e\u5efa\u8868\u548c\u4fee\u590d\u8868\u5206\u533a\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u56e0\u4e3a\u4f9d\u8d56\u5bf9\u5e95\u5c42\u5143\u6570\u636e\u7684\u9891\u7e41\u8bbf\u95ee\uff08\u4f8b\u5982\u904d\u5386\u76ee\u5f55\uff09\uff0cJuiceFS \u7684\u6027\u80fd\u5927\u5e45\u9886\u5148\u4e8e S3A\uff0c**\u6700\u591a\u6709 60 \u500d\u7684\u6027\u80fd\u63d0\u5347**\u3002\\n\\n\u5728\u5199\u5165\u6570\u636e\u7684\u573a\u666f\uff0cJuiceFS \u7684\u6027\u80fd\u76f8\u5bf9\u4e8e S3A \u6709 5 \u500d\u7684\u63d0\u5347\u3002\u8fd9\u5bf9\u4e8e ETL \u7c7b\u578b\u7684\u4efb\u52a1\u6765\u8bf4\u975e\u5e38\u91cd\u8981\uff0c\u901a\u5e38 ETL \u4efb\u52a1\u90fd\u4f1a\u6d89\u53ca\u591a\u4e2a\u4e34\u65f6\u8868\u7684\u751f\u6210\u548c\u9500\u6bc1\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u4ea7\u751f\u5927\u91cf\u7684\u5143\u6570\u636e\u64cd\u4f5c\uff08\u4f8b\u5982\u91cd\u547d\u540d\u3001\u5220\u9664\uff09\u3002\\n\\n\u5f53\u8bfb\u53d6\u7c7b\u4f3c ORC \u8fd9\u79cd\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\u7684\u6570\u636e\u65f6\uff0c\u533a\u522b\u4e8e\u7eaf\u6587\u672c\u6587\u4ef6\u7684\u987a\u5e8f\u8bfb\u53d6\u6a21\u5f0f\uff0c\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\u4f1a\u4ea7\u751f\u5f88\u591a\u968f\u673a\u8bbf\u95ee\uff0cJuiceFS \u7684\u6027\u80fd\u518d\u6b21\u5927\u5e45\u9886\u5148 S3A\uff0c**\u6700\u9ad8\u53ef\u8fbe 63 \u500d**\u3002\u540c\u65f6\u76f8\u6bd4\u4e8e HDFS\uff0cJuiceFS \u4e5f\u80fd\u6709\u6700\u591a 2 \u500d\u7684\u6027\u80fd\u63d0\u5347\u3002\\n\\n## \u6570\u636e\u8fc1\u79fb\\n\\n\u73af\u7403\u6613\u8d2d\u7684\u5927\u6570\u636e\u5e73\u53f0\u7ecf\u8fc7\u957f\u671f\u7684\u53d1\u5c55\u5df2\u7ecf\u79ef\u6512\u5927\u91cf\u7684\u6570\u636e\u548c\u4e1a\u52a1\uff0c\u600e\u4e48\u4ece\u73b0\u6709\u65b9\u6848\u8fc1\u79fb\u5230\u65b0\u7684\u65b9\u6848\u4e5f\u662f\u8bc4\u4f30\u65b0\u65b9\u6848\u662f\u5426\u5408\u9002\u7684\u91cd\u8981\u56e0\u7d20\u3002\u5728\u8fd9\u65b9\u9762\uff0cJuiceFS \u63d0\u4f9b\u4e86\u591a\u79cd\u6570\u636e\u8fc1\u79fb\u65b9\u5f0f\uff1a\\n\\n* **\u5c06\u6570\u636e\u62f7\u8d1d\u5230 JuiceFS\u3002**\u8fd9\u79cd\u65b9\u5f0f\u7684\u8bfb\u53d6\u6027\u80fd\u6700\u597d\uff0c\u53ef\u4ee5\u9ad8\u6548\u5730\u5229\u7528\u672c\u5730\u78c1\u76d8\u7f13\u5b58\u548c\u5206\u5e03\u5f0f\u7f13\u5b58\uff0c\u4e5f\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027\u3002\u4f46\u662f\u6d89\u53ca\u6570\u636e\u62f7\u8d1d\uff0c\u56e0\u6b64\u8fc1\u79fb\u6210\u672c\u6bd4\u8f83\u9ad8\u3002\\n* **\u901a\u8fc7 import \u547d\u4ee4\u5c06 S3 \u7684\u6570\u636e\u5bfc\u5165\u3002**\u8fd9\u79cd\u65b9\u5f0f\u53ea\u6d89\u53ca\u5143\u6570\u636e\u7684\u5bfc\u5165\uff0c\u5c06 S3 \u4e0a\u9762\u7684\u5bf9\u8c61\u5bfc\u5165\u5230 JuiceFS \u7684\u76ee\u5f55\u6811\u3002\u8fd9\u79cd\u65b9\u5f0f\u65e0\u9700\u62f7\u8d1d\u6570\u636e\uff0c\u8fc1\u79fb\u901f\u5ea6\u5feb\u3002\u4f46\u662f\u6ca1\u6709\u529e\u6cd5\u4fdd\u8bc1\u5f3a\u4e00\u81f4\u6027\uff0c\u5e76\u4e14\u4e0d\u80fd\u5229\u7528\u7f13\u5b58\u52a0\u901f\u529f\u80fd\u3002\\n* **\u901a\u8fc7\u7b26\u53f7\u94fe\u63a5\u5c06\u5df2\u6709\u6570\u636e\u548c\u65b0\u6570\u636e\u878d\u5408\u5230\u4e00\u8d77\u3002**JuiceFS \u4e0d\u4ec5\u53ef\u4ee5\u5728\u6587\u4ef6\u7cfb\u7edf\u5185\u90e8\u5efa\u7acb\u7b26\u53f7\u94fe\u63a5\uff0c\u4e5f\u53ef\u4ee5\u8de8\u6587\u4ef6\u7cfb\u7edf\u5efa\u7acb\u7b26\u53f7\u94fe\u63a5\u3002\u4f8b\u5982\u901a\u8fc7 `ln -s hdfs://dir /jfs/hdfs_dir` \u8fd9\u884c\u547d\u4ee4\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6307\u5411 HDFS \u7684\u7b26\u53f7\u94fe\u63a5\u3002\u57fa\u4e8e\u8fd9\u79cd\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c06\u5386\u53f2\u6570\u636e\u76f4\u63a5\u94fe\u63a5\u5230 JuiceFS \u4e2d\uff0c\u7136\u540e\u901a\u8fc7\u7edf\u4e00\u7684 JuiceFS \u547d\u540d\u7a7a\u95f4\u8bbf\u95ee\u5176\u5b83\u6240\u6709 Hadoop \u6587\u4ef6\u7cfb\u7edf\u3002\\n\\n## \u9009\u62e9\\n\\n\u7ed3\u5408\u6d4b\u8bd5\u7ed3\u679c\u4ee5\u53ca\u7efc\u5408\u6210\u672c\u5206\u6790\uff0c\u5168\u9762\u5bf9\u6bd4\u4e86 HDFS\u3001S3 \u548c JuiceFS \u7684\u65b9\u6848\uff0c\u73af\u7403\u6613\u8d2d\u8ba4\u4e3a JuiceFS \u76f8\u6bd4\u53e6\u5916\u4e24\u4e2a\u65b9\u6848\u6709\u663e\u8457\u7684\u6027\u80fd\u548c\u6210\u672c\u4f18\u52bf\uff0c\u51b3\u5b9a\u7528 JuiceFS \u66ff\u6362\u81ea\u5efa\u7684 HDFS\u3002\u8fd9\u4e9b\u4f18\u52bf\u5177\u4f53\u4f53\u73b0\u4e3a\u4ee5\u4e0b 3 \u4e2a\u65b9\u9762\uff1a\\n\\n\u9996\u5148\uff0cJuiceFS \u53ef\u4ee5\u5b9e\u73b0\u4ece HDFS \u7684\u5e73\u6ed1\u8fc1\u79fb\uff0c\u5bf9\u4e0a\u6e38\u7684\u8ba1\u7b97\u5f15\u64ce\u53ef\u4ee5\u505a\u5230\u5168\u9762\u517c\u5bb9\uff0c\u5bf9\u73b0\u6709\u7684\u6743\u9650\u7ba1\u7406\u4f53\u7cfb\u53ef\u4ee5\u4fdd\u6301\u4e00\u81f4\uff0c\u540c\u65f6\u6027\u80fd\u4e0a\u6ca1\u6709\u4efb\u4f55\u4e0b\u964d\u3002\u8fd9\u51e0\u70b9\u5bf9\u6570\u636e\u5e73\u53f0\u7684\u8fc1\u79fb\u53ef\u4ee5\u8bf4\u662f\u81f3\u5173\u91cd\u8981\u7684\uff0c\u6ca1\u6709\u8fd9\u6837\u7684\u57fa\u7840\uff0c\u6570\u636e\u5e73\u53f0\u7684\u8fc1\u79fb\u5c06\u662f\u4e00\u573a\u8017\u65f6\u8017\u529b\u7684\u6218\u5f79\u3002**\u800c\u6709\u4e86\u8fd9\u6837\u7684\u57fa\u7840\uff0c\u5ba2\u6237\u53ea\u7528\u4e0d\u5230\u4e00\u4e2a\u6708\u7684\u65f6\u95f4\u5c31\u5b8c\u6210\u4e86\u4e1a\u52a1\u548c\u6570\u636e\u7684\u8fc1\u79fb\u3002**\\n\\n\u7b2c\u4e8c\uff0c\u5728\u6210\u672c\u65b9\u9762\uff0c\u300c\u4e91\u4e0a\u81ea\u5efa HDFS \u7684\u75db\u70b9\u300d\u4e00\u8282\u4e2d\u5df2\u7ecf\u6709\u8fc7\u8bf4\u660e\uff0c\u57fa\u4e8e EBS \u81ea\u5efa HDFS \u5355\u72ec\u8ba1\u7b97\u78c1\u76d8\u6210\u672c\u5c31\u5927\u7ea6\u6709\uffe51000/TB/\u6708\uff0c\u800c JuiceFS \u4ec5\u4e3a 27%\u3002\u8fd9\u8fd8\u4e0d\u662f TCO \u6210\u672c\uff0cTCO \u8fd8\u5e94\u8be5\u5305\u62ec HDFS \u6240\u6d88\u8017\u7684 CPU\u3001\u5185\u5b58\u3001\u8fd0\u7ef4\u7ba1\u7406\u6295\u5165\u7684\u4eba\u529b\u6210\u672c\uff0c\u6309\u7ecf\u9a8c\u503c\u6765\u8bf4\u81f3\u5c11\u7ffb\u500d\u3002\u800c JuiceFS \u5ba2\u6237\u4f7f\u7528\u5168\u6258\u7ba1\u670d\u52a1\uff0c\u6ca1\u6709\u4efb\u4f55\u8fd0\u7ef4\u7ba1\u7406\u7684\u6295\u5165\u3002**\u8fd9\u6837\u4ece TCO \u89d2\u5ea6\u770b\uff0c\u53ef\u4ee5\u8282\u7701\u8fd1 90% \u7684\u6210\u672c\u3002**\\n\\n\u6700\u540e\uff0c\u4e5f\u662f\u6700\u91cd\u8981\u7684\u4e00\u70b9\u3002\u5927\u6570\u636e\u5e73\u53f0\u7684\u5b58\u50a8\u5f15\u64ce\u4ece HDFS \u6362\u6210 JuiceFS \u540e\uff0c\u6574\u4e2a\u5e73\u53f0\u5c31\u5b9e\u73b0\u4e86\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\uff0c\u5728[\u300c\u4e3a\u4ec0\u4e48\u8bf4\u5b58\u50a8\u548c\u8ba1\u7b97\u5206\u79bb\u7684\u67b6\u6784\u624d\u662f\u672a\u6765\uff1f\u300d](https://juicefs.com/zh-cn/blog/solutions/why-disaggregated-compute-and-storage-is-future)\u4e00\u6587\u4e2d\u8be6\u7ec6\u5206\u6790\u4e86\u5b58\u50a8\u8ba1\u7b97\u8026\u5408\u7684\u75db\u70b9\uff0c\u4ee5\u53ca\u4e1a\u754c\u7684\u4e00\u4e9b\u5b9e\u8df5\u3002\u73b0\u5728 JuiceFS \u4f5c\u4e3a\u5b8c\u5168\u517c\u5bb9 HDFS \u7684\u4e91\u539f\u751f\u6587\u4ef6\u7cfb\u7edf\uff0c\u5df2\u7ecf\u662f \u57fa\u4e8e Hadoop \u751f\u6001\u6784\u5efa\u7684\u5927\u6570\u636e\u5e73\u53f0\u7684\u5b8c\u7f8e\u5b58\u50a8\u65b9\u6848\u3002\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u662f\u5927\u6570\u636e\u5e73\u53f0\u5f39\u6027\u4f38\u7f29\u7684\u57fa\u7840\uff0c\u8fd9\u4e00\u6b65\u7684\u6539\u9020\u5bf9\u73af\u7403\u6613\u8d2d\u6570\u636e\u5e73\u53f0\u7684\u67b6\u6784\u8bbe\u8ba1\u6765\u8bf4\u4e5f\u6709\u7740\u91cd\u8981\u7684\u610f\u4e49\uff0c\u63a5\u4e0b\u6765\u73af\u7403\u6613\u8d2d\u7684\u6570\u636e\u56e2\u961f\u5c06\u6df1\u5165\u5230\u96c6\u7fa4\u5f39\u6027\u4f38\u7f29\u3001\u5de5\u4f5c\u8d1f\u8f7d\u6df7\u5408\u90e8\u7f72\u7b49\u7814\u7a76\u548c\u5b9e\u8df5\u4e2d\u3002"},{"id":"/2020/09/15/maybe-news-issue-6","metadata":{"permalink":"/blog/2020/09/15/maybe-news-issue-6","source":"@site/blog/2020-09-15-maybe-news-issue-6.md","title":"Maybe News Issue #6","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2020-09-15T18:54:00.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":24.935,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #6","date":"2020-09-15 18:54:00 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"\u73af\u7403\u6613\u8d2d\u6570\u636e\u5e73\u53f0\u5982\u4f55\u505a\u5230\u65e2\u63d0\u901f\u53c8\u7701\u94b1\uff1f","permalink":"/blog/2020/11/03/globalegrow-big-data-platform-user-case"},"nextItem":{"title":"Introduction to DL Platform","permalink":"/blog/2020/08/17/introduction-to-dl-platform"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Presto: SQL on Everything\\n\\n[[\u94fe\u63a5]](https://prestosql.io/Presto_SQL_on_Everything.pdf)\\n\\nPresto \u662f Facebook 2012 \u5e74\u5f00\u59cb\u5f00\u53d1\u5e76\u4e8e 2013 \u5e74\u5f00\u6e90\u7684\u5206\u5e03\u5f0f\u67e5\u8be2\u5f15\u64ce\u3002\u548c[\u7b2c 3 \u671f](/blog/2020/06/10/maybe-news-issue-3)\u4ecb\u7ecd\u7684 Kudu \u4e00\u6837\uff0c\u4e3b\u8981\u5e94\u7528\u5728 OLAP \u573a\u666f\uff0c\u4f46\u8ddf Kudu \u4e0d\u4e00\u6837\u7684\u5730\u65b9\u662f\uff0cPresto \u4ec5\u4ec5\u662f\u4e00\u4e2a\u67e5\u8be2\u5f15\u64ce\uff0c\u5e76\u4e0d\u8d1f\u8d23\u6570\u636e\u5b58\u50a8\u3002\u8fd9\u4e5f\u662f\u8bba\u6587\u6807\u9898\u300cSQL on Everything\u300d\u7684\u542b\u4e49\uff0c\u8fd9\u91cc\u7684\u300cEverything\u300d\u6307\u4ee3\u7684\u5373\u662f\u4efb\u610f\u7c7b\u578b\u7684\u5b58\u50a8\uff0c\u6bd4\u5982 HDFS\u3001MySQL \u7b49\u3002\\n\\n\u8bba\u6587\u5f00\u7bc7\u5148\u603b\u7ed3\u4e86 Presto \u51e0\u4e2a\u503c\u5f97\u5173\u6ce8\u7684\u7279\u70b9\uff1a\\n\\n- Presto \u662f\u4e00\u4e2a\u81ea\u9002\u5e94\u7684\u591a\u79df\u6237\u7cfb\u7edf\uff08adaptive multi-tenant system\uff09\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u6269\u5c55\u5230\u4e0a\u5343\u8282\u70b9\u7684\u540c\u65f6\uff0c\u8fd8\u80fd\u6709\u6548\u5229\u7528\u96c6\u7fa4\u8d44\u6e90\u3002\u8fd9\u91cc\u7684\u300c\u81ea\u9002\u5e94\u300d\u5f88\u91cd\u8981\uff0c\u662f\u5c06 Presto \u548c\u5176\u5b83\u7cfb\u7edf\u8fdb\u884c\u6bd4\u8f83\u7684\u8981\u70b9\u4e4b\u4e00\u3002\\n- Presto \u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u548c\u591a\u79cd\u6570\u636e\u6e90\u8fdb\u884c\u96c6\u6210\uff0c\u751a\u81f3\u5728 1 \u6761\u67e5\u8be2\u8bed\u53e5\u91cc\u5c31\u53ef\u4ee5\u540c\u65f6\u67e5\u8be2\u591a\u4e2a\u6570\u636e\u6e90\u3002Presto \u901a\u8fc7\u8fde\u63a5\u5668\uff08connector\uff09\u7684\u6982\u5ff5\u7edf\u4e00\u5e95\u5c42\u5b58\u50a8\u7684\u8bbf\u95ee\u3002\\n- \u901a\u8fc7\u4e0d\u540c\u7684\u914d\u7f6e\u53ef\u4ee5\u8ba9 Presto \u540c\u65f6\u9002\u914d\u4e0d\u540c\u7684\u573a\u666f\u3002\u5173\u4e8e\u8fd9\u4e00\u70b9\u5728\u540e\u7eed\u4ecb\u7ecd Facebook \u7684\u67e5\u8be2\u573a\u666f\u65f6\u4e5f\u6709\u4f53\u73b0\u3002\\n- Presto \u901a\u8fc7\u5f88\u591a\u5173\u952e\u7279\u6027\u5b9e\u73b0\u4e86\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u67e5\u8be2\u5f15\u64ce\u3002\u591a\u4e2a\u5e76\u884c\u7684\u67e5\u8be2\u5728\u540c\u4e00\u4e2a JVM \u4e2d\u8fd0\u884c\uff0c\u867d\u7136\u53ef\u4ee5\u964d\u4f4e\u54cd\u5e94\u65f6\u95f4\uff0c\u4f46\u540c\u65f6\u4e5f\u9700\u8981\u5728\u8c03\u5ea6\u3001\u8d44\u6e90\u7ba1\u7406\u3001\u9694\u79bb\u8fd9\u4e9b\u65b9\u9762\u7279\u522b\u6ce8\u610f\u3002\\n\\n\u63a5\u4e0b\u6765\u4ecb\u7ecd Facebook \u76ee\u524d\u4f7f\u7528 Presto \u7684\u51e0\u4e2a\u4e3b\u8981\u573a\u666f\uff1a\\n\\n- **\u4ea4\u4e92\u5f0f\u5206\u6790\uff08Interactive Analytics\uff09**\uff1a\u8fd9\u662f\u5c06 Facebook \u6570\u636e\u4ed3\u5e93\u4f5c\u4e3a\u6570\u636e\u6e90\u7684\u67e5\u8be2\u573a\u666f\u3002\u8fd9\u4e2a\u573a\u666f\u901a\u5e38\u67e5\u8be2\u7684\u6570\u636e\u91cf\u8f83\u5c0f\uff0c\u538b\u7f29\u540e\u5927\u6982 50GB-3TB \u5de6\u53f3\u3002\u5355\u96c6\u7fa4\u9700\u8981\u652f\u6301\u7684\u5e76\u53d1\u67e5\u8be2\u91cf\u5728 50-100 \u5de6\u53f3\uff0c\u79d2\u7ea7\u6216\u8005\u5206\u949f\u7ea7\u8fd4\u56de\u7ed3\u679c\u3002\u7528\u6237\u5bf9\u4e8e\u67e5\u8be2\u65f6\u95f4\u975e\u5e38\u654f\u611f\uff0c\u4f46\u540c\u65f6\u5bf9\u4e8e\u67e5\u8be2\u6240\u9700\u7684\u8d44\u6e90\u91cf\u6ca1\u6709\u7279\u522b\u7cbe\u786e\u7684\u5224\u65ad\u3002\u5728\u8fdb\u884c\u63a2\u7d22\u5f0f\u5206\u6790\u65f6\uff0c\u7528\u6237\u901a\u5e38\u4e0d\u9700\u8981\u8fd4\u56de\u6240\u6709\u7ed3\u679c\u96c6\uff0c\u53ea\u8981\u6709\u521d\u6b65\u7684\u7ed3\u679c\u6216\u8005\u6ee1\u8db3 `LIMIT` \u7684\u9650\u5236\u6574\u4e2a\u67e5\u8be2\u5c31\u53ef\u4ee5\u63d0\u524d\u7ec8\u6b62\u3002\\n- **\u6279\u91cf ETL\uff08Batch ETL\uff09**\uff1a\u8fd9\u4e2a\u573a\u666f\u7684\u7528\u6237\u4e00\u822c\u662f\u6570\u636e\u5de5\u7a0b\u5e08\uff0c\u76ee\u524d\u5df2\u7ecf\u662f Facebook \u5185\u90e8\u4e00\u4e2a\u5f88\u5927\u7684 Presto \u5e94\u7528\u573a\u666f\u3002\u76f8\u6bd4\u4ea4\u4e92\u5f0f\u67e5\u8be2\uff0cETL \u9700\u8981\u7684\u8d44\u6e90\u4e5f\u66f4\u591a\uff0c\u4e0d\u7ba1\u662f CPU \u8fd8\u662f\u5185\u5b58\uff0c\u7279\u522b\u662f\u5f53\u6d89\u53ca\u5230\u805a\u5408\u6216\u8005 join \u5f88\u591a\u5927\u8868\u7684\u65f6\u5019\u3002\u5728\u8fd9\u4e2a\u573a\u666f\u67e5\u8be2\u65f6\u95f4\u53cd\u800c\u6ca1\u6709\u90a3\u4e48\u91cd\u8981\uff0c\u66f4\u52a0\u91cd\u8981\u7684\u662f\u8d44\u6e90\u5229\u7528\u7387\u548c\u6574\u4f53\u96c6\u7fa4\u7684\u541e\u5410\u3002\\n- **A/B \u6d4b\u8bd5\uff08A/B Testing\uff09**\uff1a\u4e3a\u4e86\u6ee1\u8db3\u7528\u6237\u5bf9\u4ea7\u54c1\u9a8c\u8bc1\u8d8a\u6765\u8d8a\u5feb\u7684\u9700\u6c42\uff0cA/B \u6d4b\u8bd5\u7684\u7ed3\u679c\u9700\u8981\u5728\u5c0f\u65f6\u7ea7\uff08\u800c\u4e0d\u662f\u5929\u7ea7\uff09\u5185\u5f97\u5230\uff0c\u5e76\u4fdd\u8bc1\u6570\u636e\u5b8c\u6574\u4e14\u7cbe\u786e\u3002\u5f53\u7528\u6237\u9700\u8981\u8fdb\u884c\u66f4\u6df1\u5c42\u6b21\u7684\u5206\u6790\u65f6\uff0c\u67e5\u8be2\u7ed3\u679c\u9700\u8981\u5728 5-30 \u79d2\u5de6\u53f3\u8fd4\u56de\u3002\u5f88\u96be\u901a\u8fc7\u9884\u805a\u5408\uff08pre-aggregating\uff09\u7684\u65b9\u5f0f\u6ee1\u8db3\u8fd9\u4e9b\u67e5\u8be2\u9700\u6c42\uff0c\u56e0\u6b64\u5fc5\u987b\u901a\u8fc7\u5728\u7ebf\u8ba1\u7b97\u6765\u89e3\u51b3\u3002\u67e5\u8be2\u4f1a\u6d89\u53ca\u5230 join \u591a\u4e2a\u5927\u7684\u6570\u636e\u96c6\uff0c\u540c\u65f6\u67e5\u8be2\u8bed\u53e5\u7684\u7279\u5f81\u662f\u76f8\u5bf9\u56fa\u5b9a\u7684\u3002\\n- **\u5f00\u53d1\u8005\uff0f\u5e7f\u544a\u4e3b\u5206\u6790\uff08Developer/Advertiser Analytics\uff09**\uff1a\u8fd9\u662f\u9762\u5411\u5916\u90e8\u5f00\u53d1\u8005\u6216\u8005\u5e7f\u544a\u4e3b\u7684\u5206\u6790\u573a\u666f\uff0c\u6bd4\u5982 [Facebook Analytics](https://analytics.facebook.com)\u3002\u540c A/B \u6d4b\u8bd5\u573a\u666f\u4e00\u6837\uff0c\u8fd9\u4e2a\u573a\u666f\u7684\u67e5\u8be2\u8bed\u53e5\u7279\u5f81\u4e5f\u662f\u76f8\u5bf9\u56fa\u5b9a\u7684\u3002\u867d\u7136\u603b\u7684\u6570\u636e\u89c4\u6a21\u5f88\u5927\uff0c\u4f46\u662f\u7528\u6237\u67e5\u8be2\u65f6\u56e0\u4e3a\u4f1a\u9650\u5236\u5728\u4ed6\u81ea\u5df1\u7684\u6570\u636e\u91cc\u76f8\u5bf9\u6765\u8bf4\u67e5\u8be2\u91cf\u4f1a\u5c0f\u5f88\u591a\u3002\u6570\u636e\u63a5\u5165\uff08data ingestion\uff09\u7684\u65f6\u5ef6\u5927\u6982\u662f\u5206\u949f\u7ea7\uff0c\u67e5\u8be2\u65f6\u5ef6\u9700\u8981\u4e25\u683c\u9650\u5b9a\u5728 50 \u6beb\u79d2\u5230 5 \u79d2\u5de6\u53f3\u3002\u56e0\u4e3a\u5e94\u7528\u5728\u5916\u90e8\u5546\u4e1a\u4ea7\u54c1\uff0cPresto \u96c6\u7fa4\u7684\u53ef\u7528\u6027\u9700\u8981\u4fdd\u8bc1\u5728 99.999%\uff0c\u5e76\u4e14\u652f\u6301\u4e0a\u767e\u5e76\u53d1\u67e5\u8be2\u3002\\n\\n\u4ee5\u4e0a\u8fd9\u4e9b\u573a\u666f\u53ef\u80fd\u9664\u4e86 ETL \u4ee5\u5916\uff0c\u4e5f\u662f\u76ee\u524d\u5f88\u591a\u516c\u53f8\u4f7f\u7528 Presto \u7684\u4e3b\u8981\u573a\u666f\uff0c\u603b\u7684\u6765\u8bf4\u4e3b\u8981\u8fd8\u662f\u5e94\u7528\u5728\u4ea4\u4e92\u5f0f\u67e5\u8be2\u4e0a\u3002\\n\\n\u7136\u540e\u662f Presto \u6574\u4f53\u7684\u67b6\u6784\u4ecb\u7ecd\uff0c\u96c6\u7fa4\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\u7684\u8282\u70b9\uff1acoordinator \u548c worker\u3002Coordinator \u8282\u70b9\u8d1f\u8d23\u89e3\u6790\u3001\u89c4\u5212\u4ee5\u53ca\u4f18\u5316\u67e5\u8be2\uff0c\u901a\u5e38\u53ea\u4f1a\u6709 1 \u4e2a\u3002Worker \u8282\u70b9\u8d1f\u8d23\u5904\u7406\u67e5\u8be2\u8bf7\u6c42\uff0c\u6839\u636e\u96c6\u7fa4\u89c4\u6a21\u53ef\u4ee5\u6a2a\u5411\u6269\u5c55\u3002\\n\\n\u5f53\u5ba2\u6237\u7aef\u901a\u8fc7 HTTP \u8bf7\u6c42\u5c06 SQL \u53d1\u9001\u7ed9 coordinator \u65f6\uff0c\u7ecf\u8fc7\u89e3\u6790\u548c\u5206\u6790\uff0ccoordinator \u4f1a\u751f\u6210\u4e00\u4e2a\u5206\u5e03\u5f0f\u6267\u884c\u8ba1\u5212\uff08distributed execution plan\uff09\u3002\u8fd9\u4e2a\u6267\u884c\u8ba1\u5212\u7531\u591a\u4e2a stage \u8fde\u63a5\u800c\u6210\uff0c\u7c7b\u4f3c\u4e00\u4e2a DAG \u7684\u5f62\u5f0f\u3002\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u6267\u884c\u8ba1\u5212\uff0cstage \u4f1a\u88ab\u5206\u53d1\u5230\u4e0d\u540c\u7684 worker\uff0c\u56e0\u6b64 stage \u4e4b\u95f4\u9700\u8981\u901a\u8fc7 shuffle \u6765\u4ea4\u6362\u6570\u636e\u3002\u6bcf\u4e2a stage \u5185\u90e8\u7531\u591a\u4e2a task \u7ec4\u6210\uff0c\u4e00\u4e2a task \u53ef\u4ee5\u88ab\u770b\u4f5c\u4e00\u4e2a\u5904\u7406\u5355\u5143\uff08processing unit\uff09\u3002Task \u5185\u53c8\u7531\u591a\u4e2a pipeline \u6784\u6210\uff0c\u4e00\u4e2a pipeline \u5185\u5305\u542b\u4e00\u7cfb\u5217\u7684 operator\u3002\u5230\u8fd9\u91cc\uff0coperator \u5df2\u7ecf\u662f\u6700\u5c0f\u7684\u5904\u7406\u5355\u4f4d\uff0c\u901a\u5e38\u53ea\u8d1f\u8d23\u67d0\u4e00\u7c7b\u5355\u4e00\u8ba1\u7b97\u4efb\u52a1\u3002\\n\\nCoordinator \u5f88\u5927\u4e00\u90e8\u5206\u5de5\u4f5c\u662f\u8d1f\u8d23\u8c03\u5ea6\uff0c\u8c03\u5ea6\u5206\u4e3a\u4e09\u4e2a\u7ef4\u5ea6\uff1astage\u3001task \u548c split\u3002Stage \u8c03\u5ea6\u51b3\u5b9a stage \u7684\u6267\u884c\u987a\u5e8f\uff1btask \u8c03\u5ea6\u51b3\u5b9a\u591a\u5c11\u4efb\u52a1\u9700\u8981\u88ab\u8c03\u5ea6\u4ee5\u53ca\u5e94\u8be5\u5206\u914d\u7ed9\u54ea\u4e9b worker\uff1bsplit \u8c03\u5ea6\u51b3\u5b9a split \u4f1a\u88ab\u5206\u914d\u7ed9\u54ea\u4e9b\u4efb\u52a1\uff08\u5173\u4e8e split \u8fd9\u4e2a\u6982\u5ff5\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff09\u3002\\n\\n\u8c03\u5ea6 stage \u5206\u4e3a\u4e24\u79cd\u7b56\u7565\uff1aall-at-once \u548c phased\u3002All-at-once \u5f88\u597d\u7406\u89e3\u5c31\u662f\u6240\u6709 stage \u5e76\u884c\u6267\u884c\uff0c\u8fd9\u4e2a\u7b56\u7565\u53ef\u4ee5\u6700\u5927\u5316\u6267\u884c\u6548\u7387\uff0c\u9002\u5408\u65f6\u5ef6\u654f\u611f\u7684\u573a\u666f\uff08\u5982\u4ea4\u4e92\u5f0f\u5206\u6790\uff09\u3002\u800c phased \u7b56\u7565\u5c31\u662f\u53ea\u5e76\u884c\u6267\u884c\u90a3\u4e9b\u5f3a\u5173\u8054\u7684\u7ec4\u4ef6\uff0c\u6574\u4f53\u4efb\u52a1\u5206\u9636\u6bb5\u6267\u884c\uff0c\u8fd9\u4e2a\u7b56\u7565\u53ef\u4ee5\u6709\u6548\u964d\u4f4e\u5185\u5b58\u5360\u7528\uff0c\u9002\u5408 ETL \u573a\u666f\u3002\\n\\n\u5f53 stage \u8c03\u5ea6\u6210\u529f\uff0ccoordinator \u5373\u4f1a\u5f00\u59cb\u5206\u914d task\u3002\u4efb\u52a1\u8c03\u5ea6\u5668\u5c06 stage \u5206\u4e3a\u4e24\u7c7b\uff1aleaf \u548c intermediate\u3002Leaf stage \u8d1f\u8d23\u4ece\u8fde\u63a5\u5668\u4e2d\u8bfb\u53d6\u6570\u636e\uff0cintermediate stage \u8d1f\u8d23\u5904\u7406\u6765\u81ea\u5176\u5b83 stage \u7684\u4e2d\u95f4\u7ed3\u679c\u3002\u5bf9\u4e8e leaf stage\uff0c\u4efb\u52a1\u8c03\u5ea6\u5668\u4f1a\u6839\u636e\u5982\u7f51\u7edc\u62d3\u6251\u3001\u6570\u636e\u672c\u5730\u6027\u8fd9\u4e9b\u56e0\u7d20\u6765\u51b3\u5b9a\u5e94\u8be5\u628a task \u5206\u914d\u7ed9\u54ea\u4e9b worker \u8282\u70b9\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f9d\u8d56\u8fde\u63a5\u5668\u5b9e\u73b0\u7684 Data Layout API\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u9650\u5236\uff0cPresto \u503e\u5411\u4e8e\u628a leaf stage \u7684\u4efb\u52a1\u5206\u6563\u5230\u6574\u4e2a\u96c6\u7fa4\uff0c\u4ee5\u52a0\u5feb\u6570\u636e\u8bfb\u53d6\u6548\u7387\u3002Intermediate stage \u7684\u4efb\u52a1\u53ef\u4ee5\u88ab\u5206\u914d\u5230\u4efb\u610f\u8282\u70b9\u4e0a\uff0c\u4f46\u662f\u8c03\u5ea6\u5668\u4ecd\u7136\u9700\u8981\u51b3\u5b9a\u5f53\u524d\u6bcf\u4e2a stage \u6709\u591a\u5c11\u4efb\u52a1\u9700\u8981\u88ab\u8c03\u5ea6\uff0c\u4e14\u8fd9\u4e2a\u4efb\u52a1\u6570\u662f\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u8c03\u6574\u7684\u3002\\n\\n\u5f53 leaf stage \u7684\u4efb\u52a1\u5206\u914d\u597d\u4ee5\u540e\uff0c\u8fd9\u4e2a worker \u8282\u70b9\u4fbf\u53ef\u4ee5\u5f00\u59cb\u63a5\u6536\u6765\u81ea coordinator \u5206\u914d\u7684 split\u3002Split \u662f\u5bf9\u5e95\u5c42\u6570\u636e\u7684\u903b\u8f91\u5c01\u88c5\uff0c\u4f8b\u5982\u5e95\u5c42\u5b58\u50a8\u662f HDFS\uff0c\u90a3\u4e00\u4e2a split \u901a\u5e38\u5305\u542b\u7684\u4fe1\u606f\u6709\u6587\u4ef6\u8def\u5f84\u3001\u6587\u4ef6\u504f\u79fb\u7b49\u3002Leaf stage \u7684\u4efb\u52a1\u5fc5\u987b\u81f3\u5c11\u5206\u914d\u4e00\u4e2a split \u624d\u80fd\u5f00\u59cb\u8fd0\u884c\uff0c\u800c intermediate stage \u7684\u4efb\u52a1\u662f\u4e00\u76f4\u53ef\u8fd0\u884c\u7684\u3002Split \u7684\u521b\u5efa\u7531\u8fde\u63a5\u5668\u8d1f\u8d23\uff0c\u5e76\u4e14\u61d2\u5206\u914d\u7ed9 leaf stage \u7684\u4efb\u52a1\uff0c\u4e5f\u5c31\u662f\u8bf4\u5e76\u4e0d\u4f1a\u7b49\u5230\u6240\u6709 split \u90fd\u521b\u5efa\u5b8c\u6bd5\u3002\u8fd9\u6837\u505a\u6709\u51e0\u4e2a\u597d\u5904\uff1a\\n\\n- \u5c06\u8fde\u63a5\u5668\u521b\u5efa split \u7684\u65f6\u95f4\u4ece\u67e5\u8be2\u4e2d\u89e3\u8026\u3002\u67d0\u4e9b\u8fde\u63a5\u5668\uff08\u5982 Hive\uff09\u53ef\u80fd\u9700\u8981\u82b1\u8d39\u5f88\u957f\u65f6\u95f4\u53bb\u904d\u5386\u5206\u533a\u548c list \u6587\u4ef6\u3002\\n- \u67e5\u8be2\u53ef\u4ee5\u5c3d\u5feb\u5f00\u59cb\u6267\u884c\u800c\u4e0d\u7528\u7b49\u5230\u6240\u6709\u6570\u636e\u5904\u7406\u5b8c\u6bd5\u3002\u5728\u4ea4\u4e92\u5f0f\u5206\u6790\u573a\u666f\u5f88\u6709\u53ef\u80fd\u67e5\u8be2\u4f1a\u88ab\u63d0\u524d\u4e2d\u65ad\u3002\\n- \u6bcf\u4e2a worker \u7ef4\u62a4\u4e86\u4e00\u4e2a split \u7684\u961f\u5217\uff0ccoordinator \u5206\u914d split \u65f6\u4f1a\u4f18\u5148\u9009\u62e9\u961f\u5217\u957f\u5ea6\u6700\u77ed\u7684\u8282\u70b9\u3002\\n- \u4e0d\u7528\u4e00\u6b21\u4fdd\u5b58\u6240\u6709 split \u7684\u5143\u4fe1\u606f\u3002\u5bf9\u4e8e Hive \u8fde\u63a5\u5668\u6765\u8bf4\u5f88\u6709\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e0a\u767e\u4e07\u4e2a split\uff0c\u8fd9\u4f1a\u76f4\u63a5\u5bfc\u81f4 coordinator \u5185\u5b58\u4e0d\u8db3\u3002\\n\\n\u4ecb\u7ecd\u5b8c\u4e86 coordinator \u7684\u5de5\u4f5c\u63a5\u4e0b\u6765\u5c31\u662f worker\u3002\u524d\u9762\u5df2\u7ecf\u63d0\u5230\u6700\u5c0f\u7684\u6267\u884c\u5355\u4f4d\u662f operator\uff0coperator \u8d1f\u8d23\u5904\u7406\u8f93\u5165\u6570\u636e\uff0c\u540c\u65f6\u8f93\u51fa\u5904\u7406\u5b8c\u7684\u6570\u636e\u3002Operator \u8f93\u5165\u8f93\u51fa\u7684\u6570\u636e\u5355\u5143\u53eb\u505a page\uff0c\u4e00\u4e2a page \u662f\u8fde\u63a5\u5668\u5c06 split \u4e2d\u7684\u591a\u884c\u6570\u636e\u8f6c\u4e3a\u5217\u5f0f\u5b58\u50a8\u4ee5\u540e\u4ea7\u751f\u7684\u6570\u636e\u7ed3\u6784\u3002Shuffle \u4e5f\u662f worker \u7684\u4e3b\u8981\u5de5\u4f5c\u4e4b\u4e00\uff0c\u533a\u522b\u4e8e\u4f20\u7edf\u7684 Hadoop \u7ec4\u4ef6\uff0cPresto \u662f\u57fa\u4e8e\u5168\u5185\u5b58\u7684 shuffle \u5b9e\u73b0\uff0c\u8fd9\u4e5f\u662f Presto \u6027\u80fd\u66f4\u4f18\u7684\u539f\u56e0\u4e4b\u4e00\u3002Shuffle \u7684\u6570\u636e\u4f1a\u6682\u5b58\u5728\u5185\u5b58\u7f13\u51b2\u533a\uff08buffer\uff09\u4e2d\uff0c\u7b80\u5355\u7406\u89e3 map \u7aef\u7684\u7f13\u51b2\u533a\u4e3a\u8f93\u51fa\u7f13\u51b2\u533a\uff0creduce \u7aef\u7684\u4e3a\u8f93\u5165\u7f13\u51b2\u533a\u3002\u8fd9\u4e24\u4e2a\u7f13\u51b2\u533a\u90fd\u662f\u6709\u5bb9\u91cf\u9650\u5236\u7684\uff0c\u4f1a\u6839\u636e\u6570\u636e\u6d88\u8d39\u7684\u901f\u7387\u52a8\u6001\u8c03\u6574\u751f\u4ea7\u901f\u7387\uff0c\u786e\u4fdd\u6574\u4f53\u4efb\u52a1\u7684\u7a33\u5b9a\u6027\u4ee5\u53ca\u591a\u79df\u6237\u4e4b\u95f4\u7684\u516c\u5e73\u6027\u3002\u5f53\u8f93\u51fa\u7f13\u51b2\u533a\u5bb9\u91cf\u6301\u7eed\u504f\u9ad8\u65f6\uff0cPresto \u4f1a\u51cf\u5c11\u53ef\u6d88\u8d39\u7684 split \u6570\u91cf\u3002\u8f93\u5165\u7f13\u51b2\u533a\u8fd9\u7aef\u4f1a\u6709\u4e00\u4e2a\u7c7b\u4f3c TCP \u6ed1\u52a8\u7a97\u53e3\u7684\u7b56\u7565\u52a8\u6001\u63a7\u5236\u4e0a\u6e38\u7684\u751f\u4ea7\u901f\u7387\u3002\\n\\n\u56de\u987e\u5f00\u7bc7\u603b\u7ed3\u7684 Presto \u7279\u70b9\uff0c\u5176\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u662f**\u81ea\u9002\u5e94\u7684\u591a\u79df\u6237\u573a\u666f**\uff0c\u4e0a\u4e00\u6bb5\u843d\u4ecb\u7ecd shuffle \u7f13\u51b2\u533a\u7684\u65f6\u5019\u5176\u5b9e\u5df2\u7ecf\u6d89\u53ca\u5230\u90e8\u5206\u9488\u5bf9\u6027\u7684\u4f18\u5316\u3002\u672c\u8d28\u4e0a\u8d44\u6e90\u7ba1\u7406\u9700\u8981\u8003\u8651\u7684\u5c31\u662f CPU \u548c\u5185\u5b58\u8fd9\u4e24\u79cd\u8d44\u6e90\uff0cPresto \u5206\u522b\u90fd\u6709\u4e0d\u540c\u7684\u89e3\u51b3\u65b9\u6848\u3002\\n\\nCPU \u8c03\u5ea6\u573a\u666f\u6bcf\u4e2a split \u90fd\u4f1a\u6709\u4e00\u4e2a\u5141\u8bb8\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u4e00\u79d2\u5185\u6267\u884c\u7684\u6700\u5927 quanta\uff0c\u5f53 quanta \u8d85\u51fa\u65f6\u8fd9\u4e2a split \u5c06\u4f1a\u88ab\u653e\u56de\u961f\u5217\u91ca\u653e\u7ebf\u7a0b\u7ed9\u5176\u5b83 split\u3002\u5f53\u8f93\u51fa\u7f13\u51b2\u533a\u6ee1\uff08\u4e0b\u6e38\u6d88\u8d39\u6162\uff09\u3001\u8f93\u5165\u7f13\u51b2\u533a\u7a7a\uff08\u4e0a\u6e38\u751f\u4ea7\u6162\uff09\u6216\u8005\u96c6\u7fa4\u5185\u5b58\u7d27\u5f20\u65f6\uff0c\u5373\u4f7f quanta \u6ca1\u4f7f\u7528\u5b8c\u8c03\u5ea6\u5668\u4e5f\u4f1a\u5f3a\u884c\u5207\u6362\u4efb\u52a1\u3002\u8fd9\u4e2a\u57fa\u4e8e quanta \u7684\u8c03\u5ea6\u7b56\u7565\u4f7f\u5f97 Presto \u80fd\u591f\u6700\u5927\u5316 CPU \u8d44\u6e90\u7684\u5229\u7528\u7387\u3002\u5f53\u7ebf\u7a0b\u88ab\u91ca\u653e\u5e94\u8be5\u5982\u4f55\u6311\u9009\u4e0b\u4e00\u4e2a\u8fd0\u884c\u7684\u4efb\u52a1\u5462\uff1fPresto \u5efa\u7acb\u4e86\u4e00\u4e2a 5 \u7ea7\u7684\u53cd\u9988\u961f\u5217\uff08feedback queue\uff09\uff0c\u6bcf\u4e2a\u7b49\u7ea7\u90fd\u5206\u914d\u4e86\u4e00\u4e2a\u53ef\u914d\u7f6e\u7684 CPU \u65f6\u95f4\u6bd4\u4f8b\u3002\u968f\u7740\u4e00\u4e2a\u4efb\u52a1\u4f7f\u7528\u7684 CPU \u65f6\u95f4\u4e0d\u65ad\u7d2f\u79ef\uff0c\u8fd9\u4e2a\u4efb\u52a1\u4f1a\u79fb\u52a8\u5230\u66f4\u9ad8\u7b49\u7ea7\u7684\u961f\u5217\u3002\u4e5f\u5c31\u662f\u8bf4 Presto \u503e\u5411\u4e8e\u4f18\u5148\u6267\u884c\u90a3\u4e9b\u300c\u5feb\u300d\u7684\u4efb\u52a1\uff0c\u56e0\u4e3a\u7528\u6237\u671f\u671b\u8f7b\u7684\u67e5\u8be2\u5c3d\u5feb\u5b8c\u6210\uff0c\u800c\u5bf9\u4e8e\u90a3\u4e9b\u91cd\u7684\u67e5\u8be2\u6240\u9700\u7684\u65f6\u95f4\u4e0d\u592a\u654f\u611f\u3002\\n\\n\u5185\u5b58\u7ba1\u7406\u662f\u4e00\u4e2a\u6bd4 CPU \u66f4\u590d\u6742\u7684\u573a\u666f\u3002Presto \u5c06\u5185\u5b58\u5206\u4e3a\u4e24\u79cd\u7c7b\u522b\uff1a\u7528\u6237\uff08user\uff09\u548c\u7cfb\u7edf\uff08system\uff09\uff0c\u5e76\u5206\u522b\u7ef4\u62a4\u4e0d\u540c\u7684\u5185\u5b58\u6c60\u3002\u5f15\u64ce\u5bf9\u7528\u6237\u5185\u5b58\u548c\u603b\u5185\u5b58\uff08\u7528\u6237 + \u7cfb\u7edf\uff09\u90fd\u6709\u4e0d\u540c\u7684\u9650\u5236\uff0c\u8d85\u8fc7\u5168\u5c40\uff08\u6240\u6709 worker \u805a\u5408\u4ee5\u540e\uff09\u6216\u8005\u5355\u8282\u70b9\u5185\u5b58\u9650\u5236\u7684\u4efb\u52a1\u5c06\u4f1a\u88ab\u5f3a\u884c\u6740\u6389\u3002\u867d\u7136\u6709\u5168\u5c40\u7684\u5185\u5b58\u9650\u5236\uff0c\u4f46\u662f\u4e3a\u4e86\u6ee1\u8db3\u5e76\u884c\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u7684\u9700\u6c42\u901a\u5e38\u8fd8\u662f\u4f1a\u8d85\u5356\uff08overcommit\uff09\u5185\u5b58\uff0c\u5373\u4f7f\u771f\u7684\u51fa\u73b0\u90e8\u5206\u8282\u70b9\u5185\u5b58\u8017\u5c3d\u7684\u60c5\u51b5\uff0cPresto \u4e5f\u63d0\u4f9b\u4e86\u4e24\u79cd\u673a\u5236\u53bb\u786e\u4fdd\u6574\u4f53\u96c6\u7fa4\u7684\u7a33\u5b9a\u6027\u3002\u8fd9\u4e24\u79cd\u673a\u5236\u5206\u522b\u662f\uff1aspilling \u548c\u9884\u7559\u5185\u5b58\u6c60\uff08reserved pool\uff09\u3002Spilling \u5176\u5b9e\u5c31\u662f\u5728\u8282\u70b9\u5185\u5b58\u8017\u5c3d\u65f6\u6309\u7167\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\u5347\u5e8f\u6392\u5217\uff0c\u4f9d\u6b21\u628a\u5185\u5b58\u4e2d\u7684\u72b6\u6001\u5199\u5230\u672c\u5730\u78c1\u76d8\u3002\u4e0d\u8fc7 Facebook \u5185\u90e8\u5e76\u6ca1\u6709\u5f00\u542f\u8fd9\u4e2a\u7279\u6027\uff0c\u56e0\u4e3a\u96c6\u7fa4\u8d44\u6e90\uff08TB \u7ea7\u7684\u5185\u5b58\uff09\u8db3\u591f\u652f\u6491\u7528\u6237\u7684\u4f7f\u7528\u573a\u666f\uff0c\u5168\u5185\u5b58\u8ba1\u7b97\u4e5f\u66f4\u52a0\u80fd\u4fdd\u8bc1\u67e5\u8be2\u7684\u6267\u884c\u65f6\u95f4\u3002\u5982\u679c\u6ca1\u6709\u5f00\u542f spilling \u7279\u6027\uff0c\u90a3 Presto \u5c06\u4f1a\u91c7\u7528\u9884\u7559\u5185\u5b58\u6c60\u7684\u7b56\u7565\u3002\u8fd9\u4e2a\u7b56\u7565\u7684\u5927\u610f\u662f\u628a\u5185\u5b58\u6c60\u5206\u4e3a\u901a\u7528\uff08general\uff09\u548c\u9884\u7559\uff08reserved\uff09\u4e24\u79cd\uff0c\u5f53\u4e00\u4e2a worker \u8282\u70b9\u7684\u901a\u7528\u5185\u5b58\u6c60\u8017\u5c3d\u65f6\u5c06\u4f1a\u628a\u8fd9\u4e2a\u8282\u70b9\u4e0a\u5360\u7528\u6700\u591a\u5185\u5b58\u7684\u67e5\u8be2\u300c\u664b\u5347\u300d\u5230\u9884\u7559\u5185\u5b58\u6c60\uff0c\u6574\u4e2a\u96c6\u7fa4\u540c\u4e00\u65f6\u95f4\u53ea\u5141\u8bb8\u4e00\u4e2a\u67e5\u8be2\u664b\u5347\u3002\u540e\u7eed\u7684\u5185\u5b58\u7533\u8bf7\u4f1a\u4f18\u5148\u6ee1\u8db3\u8fd9\u4e2a\u664b\u5347\u7684\u67e5\u8be2\uff0c\u76f4\u5230\u5b83\u6267\u884c\u5b8c\u6bd5\u3002\u8fd9\u4e2a\u7b56\u7565\u5f53\u7136\u4f1a\u5f71\u54cd\u6574\u4f53\u96c6\u7fa4\u7684\u6548\u7387\uff0c\u56e0\u6b64\u7528\u6237\u4e5f\u53ef\u4ee5\u9009\u62e9\u76f4\u63a5\u6740\u6389\u67e5\u8be2\u3002\\n\\n\u6700\u540e\u662f\u5bb9\u9519\uff08fault tolerance\uff09\u3002\u4f5c\u4e3a\u4e00\u4e2a\u591a\u79df\u6237\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u4f18\u826f\u7684\u5bb9\u9519\u6027\u662f\u4e00\u4e2a\u5fc5\u4e0d\u53ef\u5c11\u7684\u9700\u6c42\u3002\u4f46\u662f\u9057\u61be\u7684\u662f\u5728\u8fd9\u4e00\u70b9\u4e0a Presto \u505a\u5f97\u5e76\u4e0d\u597d\uff0ccoordinator \u4f9d\u7136\u662f\u5355\u70b9\uff08\u4e00\u4e2a\u9898\u5916\u8bdd\uff0cStarburst Data \u8fd9\u5bb6\u63d0\u4f9b\u5546\u4e1a Presto \u7248\u672c\u7684\u516c\u53f8[\u652f\u6301 coordinator HA](https://docs.starburstdata.com/latest/aws/high-availability.html)\uff09\uff0cworker \u5b95\u673a\u5c06\u4f1a\u5bfc\u81f4\u6240\u6709\u8fd0\u884c\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0a\u7684\u67e5\u8be2\u5931\u8d25\uff08\u793e\u533a\u6709[\u4e00](https://github.com/prestodb/presto/issues/9855)[\u4e9b](https://github.com/prestosql/presto/issues/455) issue \u4f46\u662f\u76ee\u524d\u6ca1\u6709\u8fdb\u5c55\uff09\uff0cPresto \u975e\u5e38\u4f9d\u8d56\u5ba2\u6237\u7aef\u81ea\u5df1\u53bb\u91cd\u8bd5\u3002Facebook \u5185\u90e8\u662f\u901a\u8fc7\u5916\u90e8\u7684\u7f16\u6392\u7cfb\u7edf\u6765\u786e\u4fdd\u96c6\u7fa4\u7684\u53ef\u7528\u6027\uff0c\u5bf9\u4e8e\u4ea4\u4e92\u5f0f\u5206\u6790\u548c ETL \u573a\u666f\u6709 standby \u7684 coordinator\uff0cA/B \u6d4b\u8bd5\u548c\u5f00\u53d1\u8005\uff0f\u5e7f\u544a\u4e3b\u5206\u6790\u573a\u666f\u90e8\u7f72\u4e86\u591a\u6d3b\uff08multiple active\uff09\u96c6\u7fa4\u3002\u76d1\u63a7\u7cfb\u7edf\u5c06\u4f1a\u8bc6\u522b\u4e0d\u53ef\u7528\u7684\u8282\u70b9\u81ea\u52a8\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\uff0c\u5e76\u5728\u4e4b\u540e\u518d\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4\u3002\\n\\n\u5728\u5f00\u53d1 Presto \u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f5c\u8005\u4e5f\u603b\u7ed3\u4e86\u4e00\u4e9b\u5de5\u7a0b\u4e0a\u7684\u7ecf\u9a8c\uff1a\\n\\n- **\u81ea\u9002\u5e94\u80dc\u8fc7\u624b\u52a8\u8c03\u4f18\uff08Adaptiveness over configurability\uff09**\uff1a\u524d\u9762\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u5f88\u591a Presto \u81ea\u9002\u5e94\u7684\u7279\u6027\uff0c\u4f5c\u8005\u8ba4\u4e3a\u5f53\u9762\u5bf9\u4e00\u4e2a\u591a\u79df\u6237\u573a\u666f\uff0c\u4e14\u67e5\u8be2\u7684\u7279\u5f81\u5343\u53d8\u4e07\u5316\u7684\u65f6\u5019\uff0c\u81ea\u9002\u5e94\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\u5426\u5219\u5c31\u9700\u8981\u4eba\u5de5\u53bb\u9488\u5bf9\u6027\u5730\u624b\u52a8\u8c03\u4f18\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5728\u9762\u5bf9\u5927\u89c4\u6a21\u7684\u67e5\u8be2\u573a\u666f\u65f6\u662f\u6ca1\u6cd5\u6269\u5c55\u7684\u3002\\n- **\u975e\u5e38\u8f7b\u677e\u5730\u76d1\u63a7\uff08Effortless instrumentation\uff09**\uff1aPresto \u4f5c\u8005\u76f8\u4fe1\u53ef\u89c2\u5bdf\uff08observable\uff09\u7684\u7cfb\u7edf\u8bbe\u8ba1\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u8981\u5141\u8bb8\u5de5\u7a0b\u5e08\u53bb\u4e86\u89e3\u548c\u4f18\u5316\u81ea\u5df1\u4ee3\u7801\u7684\u6027\u80fd\u3002Presto \u6bcf\u4e2a worker \u5e73\u5747\u5bfc\u51fa\u4e86\u7ea6 10000 \u4e2a\u76d1\u63a7\u6307\u6807\uff0c\u7c92\u5ea6\u7ec6\u5230\u4e86 operator \u7ea7\u522b\uff0c\u5e76\u4f1a\u805a\u5408\u5230 task \u548c stage \u7ea7\u522b\u3002\\n- **\u9759\u6001\u914d\u7f6e\uff08Static configuration\uff09**\uff1a\u9519\u8bef\u7684\u914d\u7f6e\u53ef\u80fd\u4f1a\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u975e\u5e38\u5927\u7684\u5f71\u54cd\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u65f6\u523b\u5bf9\u7cfb\u7edf\u6574\u4f53\u72b6\u6001\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u4e86\u89e3\uff0cPresto \u4f5c\u8005\u9009\u62e9\u4f7f\u7528\u9759\u6001\u914d\u7f6e\u7684\u65b9\u6848\u800c\u4e0d\u662f\u52a8\u6001\u914d\u7f6e\u3002\\n- **\u5782\u76f4\u96c6\u6210\uff08Vertical integration\uff09**\uff1a\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u8981\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50\u7684\u95ee\u9898\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5927\u578b\u9879\u76ee\u6765\u8bf4\u80af\u5b9a\u4f1a\u4f9d\u8d56\u5f88\u591a\u57fa\u7840\u5e93\uff0c\u90a3\u4ec0\u4e48\u65f6\u5019\u9009\u62e9\u7528\u5f00\u6e90\u5b9e\u73b0\uff0c\u4ec0\u4e48\u65f6\u5019\u9009\u62e9\u81ea\u7814\u662f\u4e00\u4e2a\u9700\u8981\u8ba4\u771f\u601d\u8003\u7684\u95ee\u9898\uff08\u5f53\u7136\u7c7b\u4f3c Google \u8fd9\u79cd\u53ea\u8003\u8651\u81ea\u7814\u7684\u516c\u53f8\u5c31\u6ca1\u6709\u8fd9\u4e2a\u56f0\u6270\u4e86\uff09\u3002Presto \u4f5c\u8005\u503e\u5411\u4e8e\u5728\u90a3\u4e9b\u5bf9\u6027\u80fd\u548c\u6548\u7387\u8981\u6c42\u6bd4\u8f83\u9ad8\u7684\u573a\u666f\u9009\u62e9\u81ea\u7814\u3002\\n\\n\u6700\u540e\u662f\u4e00\u4e2a\u516b\u5366\u3002Presto \u6700\u65e9\u662f\u7531\u4e00\u6279 Facebook \u7684\u5458\u5de5\u5f00\u53d1\uff0c2018 \u5e74\u8fd9\u6279\u5458\u5de5\u4e2d\u7684\u90e8\u5206\u6838\u5fc3\u79bb\u804c\uff0c\u5168\u804c\u5efa\u8bbe Presto \u5f00\u6e90\u793e\u533a\u30022019 \u5e74 1 \u6708 31 \u65e5[\u6210\u7acb](http://www.prweb.com/releases/presto_software_foundation_launches_to_advance_presto_open_source_community/prweb16070792.htm)\u300cPresto Software Foundation\u300d\uff0c\u5e76\u5728 GitHub \u4e0a\u521b\u5efa\u4e86\u65b0\u7684\u7ec4\u7ec7 [PrestoSQL](https://github.com/prestosql)\u3002\u6709\u8da3\u7684\u662f\u5728 2019 \u5e74 9 \u6708 23 \u65e5 Facebook \u8054\u5408\u591a\u5bb6\u516c\u53f8[\u6210\u7acb](https://www.linuxfoundation.org/press-release/2019/09/facebook-uber-twitter-and-alibaba-form-presto-foundation-to-tackle-distributed-data-processing-at-scale)\u4e86\u4e00\u4e2a\u65b0\u7684\u57fa\u91d1\u4f1a\u53eb\u300cPresto Foundation\u300d\uff0c\u5728 GitHub \u4e0a\u7684\u7ec4\u7ec7\u53eb [PrestoDB](https://github.com/prestodb)\u3002\u6309\u7167 Presto \u4f5c\u8005\u7684[\u8bf4\u6cd5](https://github.com/prestosql/presto/issues/380)\uff0c\u4ed6\u4eec\u5728\u6210\u7acb Presto Software Foundation \u4e4b\u540e\u5176\u5b9e\u662f\u6709\u9080\u8bf7\u8fc7 Facebook \u52a0\u5165\u7684\uff0c\u4f46\u662f\u663e\u7136\u5bf9\u65b9\u62d2\u7edd\u4e86\u8fd9\u4e2a\u9080\u8bf7\u3002\u4e8e\u662f\u4f60\u4f1a\u53d1\u73b0\u76ee\u524d\u5728\u5f00\u6e90\u793e\u533a\u6709\u4e24\u4e2a\u7248\u672c\u7684 Presto\uff0c\u5e76\u4e14\u9879\u76ee\u540d\u662f\u4e00\u6837\u7684\uff0c\u4e0d\u8fc7\u4e3a\u4e86\u4fbf\u4e8e\u533a\u5206\u4e00\u822c\u8fd8\u662f\u5206\u522b\u53eb\u505a PrestoSQL \u548c PrestoDB\u3002\u524d\u8005\u80cc\u540e\u7684\u5546\u4e1a\u516c\u53f8\u4e3b\u8981\u662f Starburst Data\uff0c\u8fd9\u5bb6\u516c\u53f8\u7684 3 \u4e2a CTO \u540c\u65f6\u4e5f\u662f Presto \u7684\u539f\u59cb\u4f5c\u8005\uff08\u662f\u7684\uff0c\u8fd9\u5bb6\u516c\u53f8\u6709 3 \u4e2a CTO\uff09\uff1b\u540e\u8005\u80cc\u540e\u7684\u5546\u4e1a\u516c\u53f8\u6709 Facebook\u3001Uber\u3001Twitter\u3001\u963f\u91cc\u5df4\u5df4\u3001Alluxio \u548c Ahana\u3002\u4e3a\u4e86\u4e0d\u81f3\u4e8e\u8ba9\u7528\u6237\u6df7\u6dc6\uff0cStarburst Data \u8fd8\u5728\u5b98\u7f51[\u6bd4\u8f83](https://www.starburstdata.com/prestosql-and-prestodb)\u4e86\u8fd9\u4e24\u4e2a\u7248\u672c\u7684 Presto\u3002\u76ee\u524d\u516c\u6709\u4e91\u5382\u5546\u63d0\u4f9b\u7684\u4ea7\u54c1\u4e2d\uff0c[AWS Athena](https://docs.aws.amazon.com/athena/latest/ug/presto-functions.html)\u3001[\u963f\u91cc\u4e91 DLA](https://help.aliyun.com/document_detail/169871.html) \u90fd\u662f\u57fa\u4e8e PrestoDB \u5f00\u53d1\u7684 serverless \u4ea7\u54c1\uff0c[AWS EMR](https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-release-components.html) \u4e24\u79cd Presto \u90fd\u652f\u6301\uff0c[Google Dataproc 1.5](https://cloud.google.com/dataproc/docs/concepts/versioning/dataproc-release-1.5)\u3001[\u963f\u91cc\u4e91 EMR 3.25.0](https://help.aliyun.com/document_detail/132036.html?#title-fm0-jq8-sog) \u4ee5\u540e\u9ed8\u8ba4\u96c6\u6210\u7684\u662f PrestoSQL\uff0c[\u817e\u8baf\u4e91 EMR](https://cloud.tencent.com/document/product/589/20279) \u9ed8\u8ba4\u96c6\u6210\u7684\u662f PrestoDB\u3002\\n\\n## Spark Architecture: Shuffle\\n\\n[[\u94fe\u63a5]](https://0x0fff.com/spark-architecture-shuffle)\\n\\n\u8981\u7406\u89e3\u4ec0\u4e48\u662f shuffle \u5c31\u5f97\u5148\u4e86\u89e3\u4ec0\u4e48\u662f MapReduce\uff0c\u81ea\u4ece 2004 \u5e74 Google \u90a3\u7bc7\u60ca\u4e16\u9a87\u4fd7\u7684\u4ecb\u7ecd MapReduce \u7684[\u8bba\u6587](https://research.google/pubs/pub62)\u53d1\u8868\u4ee5\u6765\uff0c\u5927\u6570\u636e\u7684\u751f\u6001\u5c31\u88ab\u5f7b\u5e95\u6539\u53d8\u4e86\uff08\u5e76\u6cbf\u7528\u81f3\u4eca\uff09\u3002\u57fa\u4e8e\u8fd9\u6837\u4e00\u4e2a\u7b80\u5355\u7684\u7f16\u7a0b\u6a21\u578b\u5b9e\u73b0\u4e86\u5404\u79cd\u590d\u6742\u7684\u8ba1\u7b97\u903b\u8f91\uff0c\u4f46\u4e5f\u5b58\u5728\u4e00\u4e9b\u300c\u95ee\u9898\u300d\uff0cshuffle \u5c31\u662f\u5176\u4e2d\u4e00\u4e2a\u3002\u5f53 map \u4efb\u52a1\u5b8c\u6210\u4ee5\u540e\uff0c\u6570\u636e\u9700\u8981\u6839\u636e partition \u7b56\u7565\u91cd\u65b0\u5206\u914d\u5230\u4e0d\u540c\u7684 reduce \u4efb\u52a1\u4e2d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5373\u79f0\u4e3a shuffle\u3002\u8fd9\u7bc7\u6587\u7ae0\u8be6\u7ec6\u4ecb\u7ecd\u4e86 Spark \u5386\u53f2\u4e0a\u5404\u79cd shuffle \u65b9\u6848\u662f\u600e\u4e48\u5b9e\u73b0\u7684\u3002\\n\\n## Cosco: An Efficient Facebook-Scale Shuffle Service\\n\\n[[\u94fe\u63a5]](https://databricks.com/session/cosco-an-efficient-facebook-scale-shuffle-service)\\n\\n\u63a5\u4e0a\u4e00\u7bc7\u6587\u7ae0\uff0c\u8fd9\u662f Facebook \u5728 2018 \u5e74\u7684 Spark+AI Summit \u4e0a\u7684\u4e00\u4e2a\u5206\u4eab\uff0c\u4ecb\u7ecd\u4e86\u4ed6\u4eec\u5b9e\u73b0\u7684\u4e00\u4e2a\u5916\u90e8 shuffle \u670d\u52a1 Cosco\uff0c\u53ef\u4ee5\u540c\u65f6\u7528\u4e8e Hive \u548c Spark \u4efb\u52a1\u3002\u5f53\u65f6\u5df2\u7ecf\u5728 90%+ \u7684 Hive \u4efb\u52a1\u4e0a\u4f7f\u7528\uff0c\u5e76\u5728\u751f\u4ea7\u73af\u5883\u8fd0\u884c 1 \u5e74\u4ee5\u4e0a\uff0cSpark \u4efb\u52a1\u4e5f\u5728\u9010\u6e10\u63a8\u5e7f\u4e2d\u3002\u4e3a\u4ec0\u4e48\u8981\u5f00\u53d1\u4e00\u4e2a\u5916\u90e8 shuffle \u670d\u52a1\u5462\uff1fFacebook \u5217\u4e3e\u4e86\u4e00\u4e9b\u4ed6\u4eec\u5f53\u65f6\u9762\u4e34\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u5355\u6b21 shuffle \u9700\u8981\u4ea4\u6362\u7684\u6570\u636e\u91cf\u7ea7\u662f PiB \u7ea7\uff0c\u603b\u5171\u6709 10 \u4e07\u4e2a mapper\u30011 \u4e07\u4e2a reducer\uff0c3 \u500d\u7684\u5199\u653e\u5927\uff08shuffle 1 PiB \u7684\u6570\u636e\u5b9e\u9645\u8981\u5199 3 PiB \u5230\u78c1\u76d8\uff09\uff0c\u5e73\u5747 IO \u5927\u5c0f\u53ea\u6709 200 KiB\u3002\u8fd9\u4e9b\u90fd\u662f\u4fc3\u4f7f\u4ed6\u4eec\u5f00\u53d1 Cosco \u7684\u539f\u56e0\uff08\u5f53\u7136\u4e0d\u662f\u6240\u6709\u516c\u53f8\u90fd\u4f1a\u9047\u5230\uff09\uff0c\u53e6\u4e00\u4e2a\u597d\u5904\u662f executor \u53d8\u6210\u4e86\u65e0\u72b6\u6001\uff0c\u5bf9\u4e8e\u52a8\u6001\u4f38\u7f29\u66f4\u52a0\u53cb\u597d\u3002\u5982\u679c\u5bf9 Cosco \u6709\u5174\u8da3\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u770b\u4e00\u770b\u4ed6\u4eec\u5728 2019 \u5e74\u7684 Spark+AI Summit \u4e0a\u505a\u7684[\u540e\u7eed\u5206\u4eab](https://databricks.com/session_na20/flash-for-apache-spark-shuffle-with-cosco)\u3002\\n\\n## Federated Learning: Collaborative Machine Learning without Centralized Training Data\\n\\n[[\u94fe\u63a5]](https://ai.googleblog.com/2017/04/federated-learning-collaborative.html)\\n\\n\u4f20\u7edf\u673a\u5668\u5b66\u4e60\u4e2d\u7684\u4f18\u5316\u7b97\u6cd5\uff08\u4f8b\u5982 [SGD](https://en.wikipedia.org/wiki/Stochastic_gradient_descent)\uff09\u662f\u5c06\u5927\u89c4\u6a21\u6570\u636e\u96c6\u5206\u5e03\u5f0f\u8fd0\u884c\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u8fd9\u9700\u8981\u4f4e\u5ef6\u65f6\u3001\u9ad8\u541e\u5410\u5730\u8bfb\u53d6\u8bad\u7ec3\u6570\u636e\uff0c\u56e0\u6b64\u6570\u636e\u4e00\u822c\u90fd\u662f\u63d0\u524d\u6536\u96c6\u5230\u4e00\u4e2a\u4e2d\u5fc3\u5316\u5b58\u50a8\u91cc\u3002\u4f46\u662f\u5728\u67d0\u4e9b\u573a\u666f\u5e76\u4e0d\u9002\u5408\u8fd9\u6837\u505a\uff0c\u4e0d\u7ba1\u662f\u56e0\u4e3a\u6570\u636e\u91cf\u592a\u5927\u4e0d\u6613\u6536\u96c6\uff0c\u8fd8\u662f\u51fa\u4e8e\u6570\u636e\u9690\u79c1\u7684\u8003\u8651\u3002\u56e0\u6b64 Google \u63d0\u51fa\u4e86\u8054\u90a6\u5b66\u4e60\uff08Federated Learning\uff09\u7684\u6982\u5ff5\uff0c\u8fd9\u4e2a\u8bcd\u6e90\u4e8e\u53d1\u8868\u5728 2017 \u5e74 AISTATS \u4f1a\u8bae\u4e0a\u7684\u4e00\u7bc7\u8bba\u6587 [Communication-Efficient Learning of Deep Networks from Decentralized Data](https://arxiv.org/abs/1602.05629)\u3002\u8054\u90a6\u5b66\u4e60\u7684\u5927\u4f53\u601d\u60f3\u5c31\u662f\u5728\u6570\u636e\u7684\u751f\u4ea7\u7aef\uff08\u4f8b\u5982\u4f60\u7684\u624b\u673a\uff09\u76f4\u63a5\u8fdb\u884c\u6a21\u578b\u8bad\u7ec3\uff0c\u7ecf\u8fc7\u6c47\u603b\u4ee5\u540e\u628a\u5bf9\u6a21\u578b\u7684\u66f4\u65b0\u6570\u636e\u53d1\u9001\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u518d\u628a\u5176\u5b83\u5ba2\u6237\u7aef\u4e0a\u4f20\u7684\u66f4\u65b0\u6570\u636e\u4e00\u8d77\u6c47\u603b\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u6a21\u578b\uff0c\u6700\u540e\u4e0b\u53d1\u8fd9\u4e2a\u65b0\u6a21\u578b\u5230\u6240\u6709\u5ba2\u6237\u7aef\u3002\u53ef\u4ee5\u770b\u5230\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u8bad\u7ec3\u6570\u636e\u4f9d\u7136\u4fdd\u7559\u5728\u5ba2\u6237\u7aef\uff0c\u5e76\u4e0d\u9700\u8981\u4e0a\u4f20\u3002\u5982\u679c\u4f60\u5728 Android \u7cfb\u7edf\u4e2d\u4f7f\u7528 Gboard \u8fd9\u4e2a app\uff0c\u90a3\u5176\u5b9e\u4f60\u5df2\u7ecf\u53c2\u4e0e\u5230\u8054\u90a6\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4e86\uff0c\u5f53\u7136\u53ea\u4f1a\u5728\u5f53\u4f60\u7684\u624b\u673a\u7a7a\u95f2\u5e76\u4e14\u8fde\u63a5\u7535\u6e90\u548c Wi-Fi \u7684\u65f6\u5019\u624d\u4f1a\u8fdb\u884c\u3002\\n\\n## \u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\u5bf9\u6bd4\\n\\n[[\u94fe\u63a5]](https://juicefs.com/zh-cn/blog/engineering/distributed-filesystem-comparison)\\n\\n2003 \u5e74 Google \u53d1\u8868\u4e86 [The Google File System](https://research.google/pubs/pub51) \u8bba\u6587\uff0c\u5c31\u50cf\u524d\u9762\u63d0\u5230\u7684 MapReduce \u4e00\u6837\uff0c\u4ece\u6b64\u5bf9\u4e1a\u754c\u4ea7\u751f\u4e86\u975e\u5e38\u6df1\u8fdc\u7684\u5f71\u54cd\u3002\u8fd9\u7bc7\u535a\u5ba2\u68b3\u7406\u4e86 GlusterFS\u3001CephFS\u3001GFS\u3001HDFS\u3001MooseFS \u548c [JuiceFS](https://juicefs.com) \u8fd9\u51e0\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u67b6\u6784\u8bbe\u8ba1\u3002\u968f\u7740\u7f51\u7edc\u5e26\u5bbd\u7684\u53d1\u5c55\uff0c\u5728\u4e91\u8ba1\u7b97\u548c\u4e91\u539f\u751f\u7684\u5927\u8d8b\u52bf\u4e0b\uff0c\u603b\u7684\u6765\u8bf4\u6b63\u9010\u6b65\u671d\u7740\u5b58\u50a8\u8ba1\u7b97\u5206\u79bb\u7684\u65b9\u5411\u6f14\u8fdb\uff0c\u8fd9\u5bf9\u4e8e\u57fa\u7840\u8bbe\u65bd\u7684\u67b6\u6784\u4e5f\u6709\u7740\u4e00\u5b9a\u7684\u8981\u6c42\u3002"},{"id":"/2020/08/17/introduction-to-dl-platform","metadata":{"permalink":"/blog/2020/08/17/introduction-to-dl-platform","source":"@site/blog/2020-08-17-introduction-to-dl-platform.md","title":"Introduction to DL Platform","description":"\u6700\u8fd1\u5728\u56e2\u961f\u5185\u90e8\u505a\u4e86\u4e00\u6b21\u5173\u4e8e\u6df1\u5ea6\u5b66\u4e60\u5e73\u53f0\u7684\u5206\u4eab\uff0c\u5185\u5bb9\u4e0a\u4e00\u65b9\u9762\u6765\u81ea\u8fc7\u53bb\u7684\u5de5\u4f5c\u7ecf\u9a8c\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u6709\u5f88\u591a\u8fc7\u53bb\u60f3\u505a\u4f46\u662f\u7531\u4e8e\u5404\u79cd\u539f\u56e0\u6ca1\u6765\u5f97\u53ca\u5b9e\u73b0\u7684\u60f3\u6cd5\u3002","date":"2020-08-17T16:25:32.000Z","tags":[{"inline":true,"label":"deep learning","permalink":"/blog/tags/deep-learning"},{"inline":true,"label":"k8s","permalink":"/blog/tags/k-8-s"},{"inline":true,"label":"kubeflow","permalink":"/blog/tags/kubeflow"}],"readingTime":0.43,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Introduction to DL Platform","date":"2020-08-17 16:25:32 +0800","tags":["deep learning","k8s","kubeflow"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #6","permalink":"/blog/2020/09/15/maybe-news-issue-6"},"nextItem":{"title":"Maybe News Issue #5","permalink":"/blog/2020/07/21/maybe-news-issue-5"}},"content":"\u6700\u8fd1\u5728\u56e2\u961f\u5185\u90e8\u505a\u4e86\u4e00\u6b21\u5173\u4e8e\u6df1\u5ea6\u5b66\u4e60\u5e73\u53f0\u7684\u5206\u4eab\uff0c\u5185\u5bb9\u4e0a\u4e00\u65b9\u9762\u6765\u81ea\u8fc7\u53bb\u7684\u5de5\u4f5c\u7ecf\u9a8c\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u6709\u5f88\u591a\u8fc7\u53bb\u60f3\u505a\u4f46\u662f\u7531\u4e8e\u5404\u79cd\u539f\u56e0\u6ca1\u6765\u5f97\u53ca\u5b9e\u73b0\u7684\u60f3\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n<iframe src=\\"//www.slideshare.net/slideshow/embed_code/key/mux6PLZygjwwrE\\" width=\\"700\\" height=\\"485\\" frameborder=\\"0\\" marginwidth=\\"0\\" marginheight=\\"0\\" scrolling=\\"no\\" style={{border: \'1px solid #CCC\', \'border-width\': \'1px\', \'margin-bottom\': \'5px\', \'max-width\': \'100%\'}} allowfullscreen></iframe>"},{"id":"/2020/07/21/maybe-news-issue-5","metadata":{"permalink":"/blog/2020/07/21/maybe-news-issue-5","source":"@site/blog/2020-07-21-maybe-news-issue-5.md","title":"Maybe News Issue #5","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2020-07-21T14:08:28.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":14.35,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #5","date":"2020-07-21 14:08:28 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Introduction to DL Platform","permalink":"/blog/2020/08/17/introduction-to-dl-platform"},"nextItem":{"title":"Maybe News Issue #4","permalink":"/blog/2020/06/17/maybe-news-issue-4"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## DynamicEmbedding: Extending TensorFlow for Colossal-Scale Applications\\n\\n[[\u94fe\u63a5]](https://arxiv.org/abs/2004.08366)\\n\\n\u5728[\u7b2c\u4e00\u671f](/blog/2020/05/21/maybe-news-issue-1) Maybe News \u4e2d\u4ecb\u7ecd\u4e86\u817e\u8baf\u63d0\u51fa\u7684\u89e3\u51b3 TensorFlow \u4e2d\u5927\u89c4\u6a21\u7a00\u758f\u7279\u5f81\u6a21\u578b\u8bad\u7ec3\u7684\u65b9\u6848\uff0c\u672c\u671f\u7684\u8fd9\u7bc7\u8bba\u6587\u6765\u81ea Google\uff08\u51c6\u786e\u8bf4\u662f Google Smart Campaigns \u56e2\u961f\uff09\u3002\u4f5c\u4e3a\u53d1\u660e TensorFlow \u7684\u516c\u53f8\uff0cGoogle \u5185\u90e8\u56e2\u961f\u7684\u8bbe\u8ba1\u601d\u60f3\u503c\u5f97\u501f\u9274\u3002\\n\\n\u8fd9\u4e2a\u7cfb\u7edf\u88ab\u79f0\u4e4b\u4e3a DynamicEmbedding\uff08DE\uff09\uff0c\u540d\u5b57\u7b80\u5355\u76f4\u89c2\uff0c\u8981\u89e3\u51b3\u7684\u573a\u666f\u4e5f\u662f\u5f88\u591a\u516c\u53f8\u90fd\u9047\u5230\u7684\u5982\u4f55\u52a8\u6001\u7ef4\u62a4 embedding\u3002\u7cfb\u7edf\u5185\u90e8\u5206\u4e3a\u4e24\u4e2a\u7ec4\u4ef6\uff1aDynamicEmbedding Master\uff08DEM\uff09\u548c DynamicEmbedding Worker\uff08DEW\uff09\uff0c\u5408\u8d77\u6765\u53eb\u505a DynamicEmbedding Service\uff08DES\uff09\u3002DEM \u8d1f\u8d23\u5904\u7406\u6240\u6709\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5305\u62ec embedding \u67e5\u627e\uff08lookup\uff09\u3001\u66f4\u65b0\uff08update\uff09\u7b49\u3002DEW \u8d1f\u8d23 embedding \u5b58\u50a8\u3001\u68af\u5ea6\u66f4\u65b0\u7b49\uff0c\u6240\u6709\u8bf7\u6c42\u90fd\u6765\u81ea DEM\u3002\u540c\u65f6\u65b0\u589e\u4e86\u51e0\u4e2a TensorFlow API\uff0c\u5982 `dynamic_embedding_lookup()`\u3001`compute_sampled_logits()`\uff0c\u8fd9\u4e9b API \u662f\u6574\u4e2a\u7cfb\u7edf\u7684\u5173\u952e\u5165\u53e3\uff0c\u4efb\u4f55\u6a21\u578b\u5728\u63a5\u5165 DES \u7684\u65f6\u5019\u90fd\u9700\u8981\u5728\u7279\u5b9a\u7684\u5730\u65b9\u8c03\u7528\u8fd9\u4e9b API\u3002\u4ee5\u4e0a\u8bbe\u8ba1\u770b\u8d77\u6765\u8ddf\u5927\u90e8\u5206\u516c\u53f8\u7684\u65b9\u6848\u6ca1\u6709\u592a\u5927\u5dee\u522b\u3002\\n\\n\u901a\u8fc7\u5b9e\u73b0\u4e00\u4e2a\u53eb\u505a EmbeddingStore \u7684\u901a\u7528\u63a5\u53e3\uff0cDEW \u540e\u7aef\u652f\u6301\u5bf9\u63a5\u591a\u79cd\u7c7b\u578b\u7684\u5b58\u50a8\uff0c\u4f8b\u5982 Protocol Buffers\u3001GFS\u3001Bigtable\uff0c\u6bd4\u8f83\u5de7\u5999\u5730\u5c06\u5927\u89c4\u6a21 embedding \u5b58\u50a8\u65f6\u9762\u4e34\u7684\u6269\u5c55\u6027\u548c\u7a33\u5b9a\u6027\u95ee\u9898\u8f6c\u79fb\u5230\u4e86\u5916\u90e8\u5b58\u50a8\u7cfb\u7edf\u3002\u5f53\u7136\u56e0\u4e3a\u591a\u4e86\u4e00\u6b21\u7f51\u7edc\u8bf7\u6c42\u662f\u5426\u4f1a\u5f71\u54cd\u6574\u4f53\u7684\u8bad\u7ec3\u6548\u7387\u8fd9\u70b9\u6709\u5f85\u5546\u69b7\uff0c\u8bba\u6587\u4e2d\u4ecb\u7ecd BigtableEmbedding \u65f6\u63d0\u5230\u4f1a\u5c06\u6570\u636e\u540c\u65f6\u5b58\u50a8\u5230\u672c\u5730\u7f13\u5b58\u548c\u8fdc\u7aef\uff0c\u731c\u6d4b\u8fd9\u91cc\u672c\u5730\u7f13\u5b58\u7684\u76ee\u7684\u4fbf\u662f\u4e3a\u4e86\u52a0\u901f\u5b58\u50a8\u64cd\u4f5c\u3002\\n\\nEmbedding \u66f4\u65b0\u8fd9\u4e00\u6b65\u6d89\u53ca\u5230\u4e00\u4e9b\u5e38\u7528\u7684\u68af\u5ea6\u4e0b\u964d\uff08gradient descent\uff09\u7b97\u6cd5\uff0c\u4e3a\u4e86\u4fdd\u6301\u4e00\u81f4\uff0cDEW \u5185\u90e8\u5b9e\u73b0\u4e86\u8ddf TensorFlow \u539f\u751f\u63d0\u4f9b\u7684\u4f18\u5316\u5668\uff08optimizer\uff09\u540c\u6837\u7684\u903b\u8f91\uff0c\u5e76\u4e14\u5927\u90e8\u5206\u4ee3\u7801\u662f\u53ef\u4ee5\u590d\u7528\u7684\u3002\u5f53\u8bad\u7ec3\u6570\u636e\u65f6\u95f4\u8de8\u5ea6\u5f88\u5927\u65f6\uff08\u5982\u6570\u6708\u6216\u8005\u6570\u5e74\uff09\uff0c\u53ef\u80fd\u5b58\u5728\u5f88\u591a\u65e0\u6548\u7684\u7279\u5f81\u6216\u8005\u4e00\u4e9b\u9700\u8981\u7279\u6b8a\u5904\u7406\u7684\u7279\u5f81\u3002\u56e0\u6b64 DEW \u5728\u6bcf\u6b21 embedding \u66f4\u65b0\u7684\u65f6\u5019\u4f1a\u540c\u65f6\u7edf\u8ba1\u8fd9\u4e2a embedding \u7684\u66f4\u65b0\u9891\u7387\uff0c\u901a\u8fc7\u8bbe\u5b9a\u4e00\u4e2a\u6070\u5f53\u7684\u9608\u503c\u6765\u4fdd\u8bc1\u53ea\u6709\u90e8\u5206 embedding \u4f1a\u6301\u4e45\u5316\u5230\u5b58\u50a8\u7cfb\u7edf\u91cc\uff0c\u90a3\u4e9b\u4f4e\u9891\u7684\u6570\u636e\u4fbf\u4e0d\u4f1a\u7ee7\u7eed\u4fdd\u5b58\u3002\u9664\u4e86\u7edf\u8ba1\u9891\u7387\u8fd9\u79cd\u65b9\u6cd5\uff0c\u901a\u8fc7 bloom filter \u4e5f\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c\u7684\u6548\u679c\u3002\\n\\nServing \u7684\u65f6\u5019\u56e0\u4e3a embedding \u90fd\u5df2\u7ecf\u5b58\u50a8\u5230\u4e86\u5916\u90e8\u7cfb\u7edf\uff0c\u6240\u4ee5 DEW \u5c31\u6ca1\u6709\u5fc5\u8981\u5b58\u5728\u4e86\uff0c\u53ea\u9700\u8981\u5728\u672c\u5730\u90e8\u7f72 DEM \u8d1f\u8d23\u5904\u7406\u8bfb\u8bf7\u6c42\u3002\u4e3a\u4e86\u63d0\u5347\u63a8\u7406\u7684\u6027\u80fd\uff0c\u672c\u5730\u7f13\u5b58\u80af\u5b9a\u662f\u5c11\u4e0d\u4e86\u7684\uff0c\u540c\u65f6\u6279\u91cf\u5904\u7406\u67e5\u8be2\u8bf7\u6c42\u4e5f\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\\n\\n\u5b9e\u9a8c\u8bc4\u4f30\u9636\u6bb5\u9996\u5148\u6bd4\u8f83\u4e86\u548c\u539f\u751f TensorFlow \u8bad\u7ec3\u540c\u6837\u7684\u6a21\u578b\u3001\u540c\u6837\u7684\u8d85\u53c2\u662f\u5426\u4f1a\u6709\u6307\u6807\u4e0a\u7684\u5dee\u5f02\uff0c\u6a21\u578b\u9009\u62e9\u7684\u662f Word2Vec\uff0c\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u9009\u62e9\u7684\u662f SGD\u3001Adagrad \u548c Momentum\u3002\u4ece\u6700\u7ec8\u8bad\u7ec3\u7684 loss \u4e0a\u770b\u51e0\u4e4e\u6ca1\u6709\u5dee\u522b\uff0c\u8bf4\u660e DE \u7cfb\u7edf\u4e0d\u4f1a\u5bf9\u6a21\u578b\u8d28\u91cf\u6709\u5f71\u54cd\u3002\\n\\n\u63a5\u7740\u6d4b\u8bd5\u4e86\u5b57\u5178\uff08dictionary\uff09\u5927\u5c0f\u5bf9\u6a21\u578b\u7cbe\u5ea6\uff08accuracy\uff09\u7684\u5f71\u54cd\uff0c\u7406\u8bba\u4e0a DE \u7cfb\u7edf\u5176\u5b9e\u662f\u4e0d\u9650\u5b9a\u5b57\u5178\u5927\u5c0f\u7684\uff0c\u4ece\u5b9e\u9a8c\u7684\u4e24\u4e2a\u6a21\u578b Word2Vec \u548c Sparse2Seq \u4e0a\u6765\u770b\u4e5f\u7684\u786e\u662f\u5b57\u5178\u5927\u5c0f\u8d8a\u5927\u6a21\u578b\u7cbe\u5ea6\u8d8a\u9ad8\u3002\\n\\n\u7136\u540e\u662f\u8bc4\u6d4b\u6a21\u578b\u8bad\u7ec3\u65f6\u4e24\u4e2a\u91cd\u8981\u7684\u7cfb\u7edf\u6307\u6807\uff1a\u96c6\u7fa4\u603b\u7684\u5185\u5b58\u5360\u7528\u548c\u6bcf\u79d2\u8bad\u7ec3\u7684 global steps\uff08GSS\uff09\u3002\u5206\u522b\u6d4b\u8bd5\u4e86\u4e09\u4e2a\u6a21\u578b\uff1aWord2Vec\uff0cImage2Lable \u548c Seq2Seq\u3002\u5728\u4f7f\u7528\u539f\u751f\u7684 TensorFlow \u65f6\u96c6\u7fa4\u5185\u5b58\u5360\u7528\u4f1a\u968f\u7740 worker \u6570\u91cf\u7684\u589e\u5927\u800c\u663e\u8457\u589e\u957f\uff08\u5728 Word2Vec \u6a21\u578b\u4e2d\u5c24\u4e3a\u660e\u663e\uff09\uff0c\u76f8\u6bd4\u4e4b\u4e0b DE \u7cfb\u7edf\u7684\u5185\u5b58\u5360\u7528\u53ea\u8ddf embedding \u7684\u603b\u5927\u5c0f\u6709\u5173\uff0c\u4e0e DEW \u7684\u6570\u91cf\u65e0\u5173\u3002\u4e4b\u6240\u4ee5\u6709\u8fd9\u6837\u7684\u5dee\u5f02\u4e5f\u662f\u56e0\u4e3a\u539f\u751f\u7684 TensorFlow \u4f1a\u5728\u4e0d\u540c worker \u95f4\u91cd\u590d\u5b58\u50a8 embedding \u6570\u636e\u3002GSS \u7684\u5bf9\u6bd4\u4e0a\u4e24\u8005\u7684\u52a0\u901f\u6bd4\u90fd\u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u603b\u4f53\u4e0a DE \u8fd8\u662f\u4f1a\u66f4\u4f18\u3002\\n\\n\u6700\u540e\u8bba\u6587\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u4e86 DE \u5728 Google Smart Campaigns \u4ea7\u54c1\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u5e94\u7528\uff1a\u7ed9\u5e7f\u544a\u4e3b\u81ea\u52a8\u63a8\u8350\u6295\u653e\u7684\u5173\u952e\u8bcd\u3002\u8fd9\u662f\u4e00\u4e2a\u53eb\u505a Sparse2Label \u7684\u6a21\u578b\uff0c\u8f93\u51fa\u5373\u662f\u63a8\u8350\u7684\u5173\u952e\u8bcd\uff08label\uff09\u3002\u8fd9\u4e2a\u6a21\u578b\u5e26\u6765\u7684\u6700\u5927\u53d8\u5316\u662f\u4ee5\u524d\u9700\u8981\u9488\u5bf9\u6bcf\u4e00\u79cd\u8bed\u8a00\u8bad\u7ec3\u4e00\u4e2a\u5355\u72ec\u7684\u6a21\u578b\uff0c\u800c\u73b0\u5728\u53ea\u9700\u8981\u4e00\u4e2a\u6a21\u578b\u5373\u53ef\u3002\u901a\u8fc7\u5bf9\u6bd4\u4e00\u4e9b\u6838\u5fc3\u6307\u6807\uff08\u5982 CTR\uff09\uff0cDE \u63a8\u8350\u7684\u5173\u952e\u8bcd\u90fd\u660e\u663e\u66f4\u597d\u3002\u6574\u4e2a\u6a21\u578b\u4e5f\u662f\u968f\u7740\u65f6\u95f4\u4e0d\u65ad\u589e\u957f\u7684\uff0c\u622a\u6b62 2020 \u5e74 2 \u6708\u8fd9\u4e2a\u6a21\u578b\u7684\u53c2\u6570\u91cf\u5df2\u7ecf\u8fbe\u5230\u4e86 1249 \u4ebf\u4e2a\uff0c\u5982\u679c\u6bcf\u4e2a\u53c2\u6570\u6309 4 \u5b57\u8282\u7b97\u7684\u8bdd\u6a21\u578b\u5927\u5c0f\u5dee\u4e0d\u591a\u4e3a 465 GiB\uff08\u5176\u5b9e\u6bd4\u60f3\u8c61\u4e2d\u5c0f\uff09\u3002\\n\\n\u53e6\u4e00\u4e2a\u66f4\u96be\u8bc4\u4f30\u7684\u6307\u6807\u662f\u7528\u6237\u641c\u7d22\u7684\u5173\u952e\u8bcd\uff08query\uff09\u4e0e\u5e7f\u544a\u6295\u653e\u7684\u5173\u952e\u8bcd\u4e4b\u95f4\u7684\u5173\u8054\u5ea6\uff0c\u5f88\u591a\u65f6\u5019\u4e24\u8005\u4e4b\u95f4\u5e76\u4e0d\u662f\u5b8c\u5168\u5339\u914d\u7684\u3002\u4f5c\u8005\u662f\u901a\u8fc7\u4eba\u5de5\u8bc4\u4f30 38 \u4e07\u4e2a\u6837\u672c\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u7684\uff0c\u6bcf\u4e2a\u6837\u672c\u90fd\u4f1a\u6709 5 \u4e2a\u4eba\u7c7b\u8fdb\u884c\u6253\u5206\uff0c\u5206\u6570\u533a\u95f4\u4ece -100 \u5230 100\uff0c\u8d8a\u9ad8\u8d8a\u5339\u914d\uff0c\u7136\u540e\u8ba1\u7b97\u8fd9 5 \u4e2a\u5206\u6570\u7684\u5e73\u5747\u503c\u4f5c\u4e3a\u8fd9\u4e2a\u6837\u672c\u7684\u6700\u7ec8\u5206\u6570\u3002\u5927\u4e8e\u7b49\u4e8e 50 \u5206\u7684\u6837\u672c\u8ba4\u4e3a\u662f\u597d\uff08good\uff09\u7684\u6837\u672c\uff0c\u5c0f\u4e8e\u7b49\u4e8e 0 \u5206\u7684\u5219\u8ba4\u4e3a\u662f\u4e0d\u597d\uff08bad\uff09\u7684\u6837\u672c\uff0c\u524d\u8005\u9664\u4ee5\u540e\u8005\u88ab\u79f0\u4f5c GB ratio\uff0c\u8fd9\u4e2a\u6bd4\u7387\u8d8a\u5927\u8d8a\u597d\u3002\u6bcf\u4e2a\u63a8\u8350\u7684\u5173\u952e\u8bcd\u90fd\u4f1a\u540c\u65f6\u6709\u4e00\u4e2a\u7f6e\u4fe1\u503c\uff08\u4e5f\u5c31\u662f\u7f51\u9875\u548c\u5173\u952e\u8bcd embedding \u4e4b\u95f4\u7684 cosine \u8ddd\u79bb\uff09\uff0c\u4ece\u8bc4\u6d4b\u7ed3\u679c\u4e0a\u6765\u770b\u5f53\u8fd9\u4e2a\u7f6e\u4fe1\u503c\u5927\u4e8e 0.7 \u65f6\uff0c\u4e0d\u597d\u7684\u6837\u672c\u91cf\u5c06\u4f1a\u663e\u8457\u51cf\u5c11\u3002\u5b9e\u9645\u751f\u4ea7\u73af\u5883\u6536\u96c6\u7684\u6570\u636e\u4e5f\u5370\u8bc1\u4e86 DE \u7cfb\u7edf\u63a8\u8350\u7684\u5173\u952e\u8bcd\u662f GB ratio \u6700\u9ad8\u7684\u3002\\n\\n\u603b\u7ed3\u4e00\u4e0b DE \u7cfb\u7edf\u89e3\u51b3\u4e86\u539f\u751f TensorFlow \u5728\u5927\u89c4\u6a21 embedding \u6a21\u578b\u8bad\u7ec3\u65f6\u6548\u7387\u4f4e\u4e0b\uff08\u751a\u81f3\u4e0d\u53ef\u7528\uff09\u7684\u95ee\u9898\uff0c\u77ed\u671f\u5185\u8fd9\u4e2a\u7cfb\u7edf\u4f30\u8ba1\u4e5f\u4e0d\u4f1a\u5f00\u6e90\u6216\u8005\u5408\u5e76\u5230\u4e0a\u6e38\u3002\u76ee\u524d\u53ef\u4ee5\u671f\u5f85\u7684\u8fd8\u662f\u817e\u8baf\u7684\u65b9\u6848\uff0c\u4ed6\u4eec\u5df2\u7ecf\u63d0\u4ea4\u4e86[\u4ee3\u7801](https://github.com/tensorflow/tensorflow/pull/41371)\u5230 TensorFlow \u793e\u533a\u3002\\n\\n## The Next Step for Generics\\n\\n[[\u94fe\u63a5]](https://blog.golang.org/generics-next-step)\\n\\n\u5728[\u7b2c\u4e8c\u671f](/blog/2020/06/02/maybe-news-issue-2) Maybe News \u4e2d\u66fe\u7ecf\u4ecb\u7ecd\u8fc7 Go \u8bed\u8a00\u5f00\u53d1\u8005\u5173\u4e8e\u6cdb\u578b\u8bbe\u8ba1\u7684\u4e00\u4e9b\u601d\u8003\uff0c\u8fd1\u671f Ian Lance Taylor \u53c8\u548c\u793e\u533a\u540c\u6b65\u4e86\u4e00\u4e0b\u6700\u65b0\u8fdb\u5c55\u3002\u6700\u5927\u7684\u53d8\u5316\u5c31\u662f\u53bb\u6389\u4e86 contract \u8fd9\u4e2a\u65b0\u589e\u7684\u6982\u5ff5\uff0c\u6539\u4e3a\u590d\u7528 interface\u3002\u540c\u65f6\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684 [playground](https://go2goplay.golang.org)\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5927\u5bb6\u8bd5\u9a8c\u6cdb\u578b\u4ee3\u7801\u3002\u5982\u679c\u6700\u65b0\u7684\u8fd9\u4e00\u7248\u8bbe\u8ba1\u793e\u533a\u6ca1\u6709\u592a\u5927\u5f02\u8bae\u7684\u8bdd\uff0c\u4e50\u89c2\u4f30\u8ba1\u5c06\u4f1a\u5728 Go 1.17 \u52a0\u5165\u6cdb\u578b\u7279\u6027\uff0c\u4e5f\u5c31\u662f\u5728 2021 \u5e74 8 \u6708\u5de6\u53f3\u3002\u5f53\u7136\u6700\u7ec8\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\u8fd8\u662f\u6709\u5f88\u591a\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u7279\u522b\u662f\u5f53\u524d\u75ab\u60c5\u5bf9\u4e8e\u5168\u7403\u5f71\u54cd\u7684\u60c5\u51b5\u4e0b\u3002\\n\\n## Fiber: Distributed Computing for AI Made Simple\\n\\n[[\u94fe\u63a5]](https://eng.uber.com/fiberdistributed)\\n\\n\u5206\u5e03\u5f0f\u8ba1\u7b97\u5728 AI \u9886\u57df\u7684\u9700\u6c42\u4e00\u76f4\u90fd\u5f88\u5f3a\u70c8\uff0c\u4f46\u5206\u5e03\u5f0f\u8ba1\u7b97\u4e0d\u4ec5\u4ec5\u662f\u5c06\u5355\u673a\u8fc1\u79fb\u5230\u591a\u673a\u8fd9\u6837\u5c31\u8db3\u591f\u4e86\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5982\uff1a\u6613\u7528\u6027\uff08\u964d\u4f4e\u7528\u6237\u4ece\u5355\u673a\u8fc1\u79fb\u7684\u6210\u672c\uff09\u3001\u7a33\u5b9a\u6027\uff08\u81ea\u52a8\u5bb9\u9519\uff09\u3001\u5f39\u6027\u4f38\u7f29\uff08\u548c\u5e95\u5c42\u8d44\u6e90\u8c03\u5ea6\u5c42\u914d\u5408\uff09\u3001\u7ebf\u6027\u52a0\u901f\uff08\u6a2a\u5411\u6269\u5c55\u591a\u5c11\u673a\u5668\u5c31\u80fd\u5e26\u6765\u591a\u5c11\u6027\u80fd\u63d0\u5347\uff09\u3002Uber \u548c OpenAI \u5171\u540c\u5f00\u53d1\u7684 Fiber \u6846\u67b6\u4fbf\u662f\u5c1d\u8bd5\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\u7684\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4ece Fiber \u7684[\u8bba\u6587](https://arxiv.org/abs/2003.11164)\u80fd\u770b\u5230\u8fd9\u4e2a\u6846\u67b6\u6700\u521d\u8bbe\u8ba1\u9762\u5411\u7684\u662f\u5f3a\u5316\u5b66\u4e60\uff08Reinforcement Learning\uff09\u573a\u666f\uff0c\u5728\u8fd9\u4e2a\u9886\u57df\u6709\u5f88\u591a\u7c7b\u4f3c\u7684\u6846\u67b6\uff0c\u6bd4\u5982 Google \u7684 [Dopamine](https://github.com/google/dopamine)\u3001Facebook \u7684 [ReAgent](https://github.com/facebookresearch/ReAgent)\u3001UC Berkeley \u7684 [Ray](https://github.com/ray-project/ray)\u3002\u81ea\u52a8\u5bb9\u9519\u548c\u5f39\u6027\u4f38\u7f29\u8fd9\u4e24\u4e2a\u7279\u6027\u53c8\u8ba9\u6211\u8054\u60f3\u5230\u8682\u8681\u91d1\u670d\u7684 [ElasticDL](https://github.com/sql-machine-learning/elasticdl) \u548c\u624d\u4e91\u7684 [FTLib](https://github.com/caicloud/ftlib)\u3002\\n\\n## The impact of slow NFS on data systems\\n\\n[[\u94fe\u63a5]](https://engineering.linkedin.com/blog/2020/the-impact-of-slow-nfs-on-data-systems)\\n\\nLinkedIn \u5206\u4eab\u4e86\u4ed6\u4eec\u4f7f\u7528 NFS \u8fdb\u884c\u6570\u636e\u5e93\u5907\u4efd\u65f6\u9047\u5230\u7684\u6027\u80fd\u95ee\u9898\uff0c\u56e0\u4e3a\u5907\u4efd\u8fdb\u7a0b\u548c\u6570\u636e\u5e93\u8fdb\u7a0b\u662f\u4e00\u8d77\u90e8\u7f72\u7684\uff0c\u56e0\u6b64\u8fd9\u4e2a\u95ee\u9898\u8fd8\u95f4\u63a5\u5f71\u54cd\u5230\u4e86\u5728\u7ebf\u4e1a\u52a1\u7684\u7a33\u5b9a\u6027\u3002\u6574\u4e2a\u95ee\u9898\u5206\u6790\u8fc7\u7a0b\u6e05\u6670\u6613\u61c2\uff0c\u8fd8\u80fd\u987a\u4fbf\u590d\u4e60\u4e00\u4e0b\u5927\u5b66\u91cc\u5b66\u4e60\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e00\u4e9b\u77e5\u8bc6\u3002\u4f46\u95ee\u9898\u7684\u6839\u6e90 NFS \u670d\u52a1\u7684\u6027\u80fd\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5dee\u8fd8\u662f\u6ca1\u6709\u7279\u522b\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ef\u80fd\u5728\u8fd9\u4e2a\u573a\u666f\u91cc NFS \u5c31\u4e0d\u662f\u7279\u522b\u597d\u7684\u9009\u62e9\u5427\u3002\\n\\n## Kubeflow & Kale simplify building better ML Pipelines with automatic hyperparameter tuning\\n\\n[[\u94fe\u63a5]](https://medium.com/kubeflow/kubeflow-kale-simplify-building-better-ml-pipelines-with-automatic-hyperparameter-tuning-5821747f4fcb)\\n\\nJupyter Notebooks \u662f\u5f53\u4e0b\u6570\u636e\u79d1\u5b66\u5bb6\u6216\u8005\u7b97\u6cd5\u5de5\u7a0b\u5e08\u65e5\u5e38\u5de5\u4f5c\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4ea4\u4e92\u5f0f\u7684\u754c\u9762\u52a0\u4e0a\u5373\u65f6\u7684\u4ee3\u7801\u8fd0\u884c\u53cd\u9988\u6781\u5927\u5730\u63d0\u5347\u4e86\u5f00\u53d1\u6548\u7387\u3002\u4f46\u662f\u5982\u679c\u8981\u5c06\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u63d0\u4ea4\u5230\u96c6\u7fa4\u4e2d\u8fd0\u884c\u5f80\u5f80\u8fd8\u5f97\u4f9d\u9760\u7c7b\u4f3c Kubeflow Pipelines \u8fd9\u79cd DAG \u7ba1\u7406\u53ca\u8c03\u5ea6\u7ec4\u4ef6\uff0cKubeflow Pipelines \u6709\u4e00\u5957\u57fa\u4e8e Python API \u7684\u8bed\u6cd5\uff0c\u56e0\u6b64\u7528\u6237\u9700\u8981\u518d\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2a\u72ec\u7acb\u7684 pipeline\u3002\u6709\u6ca1\u6709\u529e\u6cd5\u76f4\u63a5\u5c06 notebook \u4e2d\u5df2\u7ecf\u9a8c\u8bc1\u8fc7\u7684\u4ee3\u7801\u81ea\u52a8\u8f6c\u6362\u6210 pipeline \u5e76\u63d0\u4ea4\u5230\u96c6\u7fa4\u5462\uff1f[Kale](https://kubeflow-kale.github.io)\uff08**K**ubeflow **A**utomated Pipe**L**ines **E**ngine\uff09\u5373\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u800c\u8bde\u751f\uff0c\u5b83\u662f\u4e00\u4e2a\u80fd\u591f\u5c06 Jupyter Notebooks \u81ea\u52a8\u8f6c\u6362\u4e3a Kubeflow Pipelines \u7684\u5de5\u5177\u3002\u5728\u6700\u65b0\u7684 0.5 \u7248\u672c\u4e2d Kale \u65b0\u589e\u4e86\u5bf9 [Katib](https://github.com/kubeflow/katib) \u7684\u96c6\u6210\uff0c\u540e\u8005\u662f\u8fdb\u884c\u81ea\u52a8\u8d85\u53c2\u8c03\u4f18\uff08Hyperparameter Tuning\uff09\u548c\u795e\u7ecf\u7f51\u7edc\u67b6\u6784\u641c\u7d22\uff08Neural Architecture Search\uff09\u7684\u7ec4\u4ef6\u3002\\n\\n## GoogleCloudPlatform/spark-on-k8s-operator #976: Add support for dynamic allocation via shuffle tracking\\n\\n[[\u94fe\u63a5]](https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/pull/976)\\n\\nSpark 3.0 \u4e3a[\u52a8\u6001\u8d44\u6e90\u5206\u914d](http://spark.apache.org/docs/latest/job-scheduling.html#dynamic-resource-allocation)\uff08dynamic resource allocation\uff09\u65b0\u589e\u4e86 shuffle tracking \u7279\u6027\uff08\u9ed8\u8ba4\u5173\u95ed\uff09\uff0c\u5177\u4f53\u5b9e\u73b0\u53ef\u4ee5\u67e5\u770b [SPARK-27963](https://issues.apache.org/jira/browse/SPARK-27963)\u3002\u5f53\u4f7f\u7528\u52a8\u6001\u8d44\u6e90\u5206\u914d\u65f6\u7528\u6237\u9700\u8981\u9884\u5148\u8bbe\u5b9a\u8bf8\u5982\u521d\u59cb\u3001\u6700\u5c0f\u548c\u6700\u5927 executor \u6570\u91cf\u8fd9\u6837\u7684\u53c2\u6570\uff0c\u4e4b\u540e Spark \u8fd0\u884c\u65f6\u4f1a\u6839\u636e\u5f53\u524d\u4efb\u52a1\u6392\u961f\u65f6\u95f4\u548c executor \u7a7a\u95f2\u65f6\u95f4\u8fd9\u4e9b\u6307\u6807\u53bb\u521b\u5efa\u6216\u8005\u9500\u6bc1 executor\u3002\u5bf9\u4e8e\u6709\u72b6\u6001\u7684 executor\uff08\u5982 shuffle \u65f6\u5b58\u50a8\u5230\u78c1\u76d8\u7684\u6570\u636e\u3001cache \u5230\u5185\u5b58\u548c\u78c1\u76d8\u7684\u6570\u636e\uff09\u4f1a\u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u7b56\u7565\u9632\u6b62\u9519\u8bef\u56de\u6536\u8d44\u6e90\uff0c\u8fc7\u53bb\u7684\u505a\u6cd5\u662f\u4f7f\u7528\u5916\u90e8 shuffle \u670d\u52a1\u3002\u5f00\u542f shuffle tracking \u4ee5\u540e\u5c31\u4e0d\u518d\u4f9d\u8d56\u5916\u90e8 shuffle \u670d\u52a1\uff0c\u800c\u662f\u8bbe\u7f6e\u4e00\u4e2a executor \u6301\u6709 shuffle \u6570\u636e\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u8fc7\u53bb Spark \u7684 K8s \u6a21\u5f0f\u4e0d\u652f\u6301\u5916\u90e8 shuffle \u670d\u52a1\uff0c\u6709\u4e86\u8fd9\u4e2a\u65b0\u7684\u7279\u6027\u4ee5\u540e\u4f7f\u5f97\u52a8\u6001\u8d44\u6e90\u5206\u914d\u5728 K8s \u6a21\u5f0f\u4e0a\u6210\u4e3a\u53ef\u80fd\u3002spark-on-k8s-operator \u9879\u76ee\u8fd1\u671f\u4e5f\u652f\u6301\u4e86\u8fd9\u4e2a\u7279\u6027\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 [YAML \u914d\u7f6e](https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/blob/master/docs/user-guide.md#dynamic-allocation)\u6765\u5f00\u542f\u3002\\n\\n## Boiled Hippo\\n\\n[[Bandcamp]](https://spacefruityrecords.bandcamp.com/album/boiled-hippo-2) [[\u7f51\u6613\u4e91\u97f3\u4e50]](https://music.163.com/#/album?id=91278378) [[\u867e\u7c73]](https://www.xiami.com/album/1ttwrEdcce1)\\n\\n\u672c\u671f\u6700\u540e\u63a8\u8350\u4e00\u5f20\u6765\u81ea\u6211\u7684\u4e00\u4e2a\u597d\u670b\u53cb\u7684\u5531\u7247\uff0cBoiled Hippo \u662f\u4e00\u652f\u5317\u4eac\u7684\u8ff7\u5e7b\u6447\u6eda\u4e50\u961f\uff0c\u7ecf\u8fc7\u591a\u5e74\u7684\u6f14\u51fa\u79ef\u7d2f\u7ec8\u4e8e\u5728\u4eca\u5e74\u53d1\u884c\u4e86\u4e50\u961f\u7684\u7b2c\u4e00\u5f20\u540c\u540d\u4e13\u8f91\u3002\u867d\u8bf4\u662f\u8ff7\u5e7b\u6447\u6eda\uff0c\u4f46\u5982\u679c\u4ece\u65cb\u5f8b\u4e0a\u8bb2\u7edd\u5bf9\u662f\u975e\u5e38\u300c\u597d\u542c\u300d\u7684\u3002\u5982\u679c\u4f60\u6709\u5174\u8da3\u8d2d\u4e70\u5b9e\u4f53\u5531\u7247\uff08\u9ed1\u80f6\u3001\u78c1\u5e26\u3001CD \u90fd\u6709\uff09\uff0c\u76ee\u524d\u53ef\u4ee5\u5728\u5317\u4eac\u7684 fRUITYSPACE\u3001fRUITYSHOP\u3001\u72ec\u97f3\u5531\u7247\uff0c\u4e0a\u6d77\u7684 Daily Vinyl\uff0c\u91d1\u534e\u7684 Wave \u8fd9\u51e0\u4e2a\u5730\u65b9\u8d2d\u4e70\u3002"},{"id":"/2020/06/17/maybe-news-issue-4","metadata":{"permalink":"/blog/2020/06/17/maybe-news-issue-4","source":"@site/blog/2020-06-17-maybe-news-issue-4.md","title":"Maybe News Issue #4","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2020-06-17T14:07:52.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":15.155,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #4","date":"2020-06-17 14:07:52 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #5","permalink":"/blog/2020/07/21/maybe-news-issue-5"},"nextItem":{"title":"Maybe News Issue #3","permalink":"/blog/2020/06/10/maybe-news-issue-3"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## AliGraph: A Comprehensive Graph Neural Network Platform\\n\\n[[\u94fe\u63a5]](https://dl.acm.org/doi/10.1145/3292500.3340404)\\n\\nAliGraph \u662f\u963f\u91cc\u5df4\u5df4\u56e2\u961f\u7814\u53d1\u7684 GNN\uff08Graph Neural Network\uff09\u5206\u5e03\u5f0f\u8bad\u7ec3\u6846\u67b6\uff08\u867d\u7136\u6807\u9898\u91cc\u662f\u300c\u5e73\u53f0\u300d\u4f46\u611f\u89c9\u8fd8\u7b97\u4e0d\u4e0a\uff09\uff0c\u8bba\u6587\u53d1\u8868\u5728 KDD 2019 \u548c PVLDB 2019\u3002\\n\\n\u8bba\u6587\u5f00\u7bc7\u4fbf\u63d0\u51fa\u4e86\u5f53\u4e0b GNN \u6a21\u578b\u8bad\u7ec3\u7684 4 \u4e2a\u6311\u6218\uff1a\\n\\n1. \u5982\u4f55\u63d0\u9ad8\u5927\u89c4\u6a21\u56fe\u6a21\u578b\u7684\u8bad\u7ec3\u6548\u7387\u53ca\u4f18\u5316\u7a7a\u95f4\u5360\u7528\uff1f\\n2. \u600e\u6837\u4f18\u96c5\u5730\u5c06\u5f02\u6784\uff08heterogeneous\uff09\u4fe1\u606f\u7ec4\u5408\u5230\u4e00\u4e2a\u7edf\u4e00\u7684 embedding \u7ed3\u679c\u4e2d\uff1f\\n3. \u5982\u4f55\u5c06\u7ed3\u6784\u5316\u7684\u62d3\u6251\uff08topological\uff09\u4fe1\u606f\u4e0e\u975e\u7ed3\u6784\u5316\u7684\u5c5e\u6027\uff08attribute\uff09\u4fe1\u606f\u7edf\u4e00\u6765\u5171\u540c\u5b9a\u4e49\u90a3\u4e9b\u9700\u8981\u4fdd\u7559\u7684\u4fe1\u606f\uff1f\\n4. \u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u9ad8\u6548\u7684\u589e\u91cf\u66f4\u65b0\u52a8\u6001\u56fe\u7684 GNN \u65b9\u6cd5\uff1f\\n\\n\u540e\u9762\u7684\u7bc7\u7ae0\u4fbf\u662f\u8be6\u7ec6\u4ecb\u7ecd AliGraph \u5982\u4f55\u89e3\u51b3\u4ee5\u4e0a\u8fd9 4 \u4e2a\u95ee\u9898\u3002\u6846\u67b6\u4ece\u4e0a\u81f3\u4e0b\u6574\u4f53\u5206\u4e3a 3 \u5c42\uff1a\u7b97\u5b50\uff08operator\uff09\u3001\u91c7\u6837\uff08sampling\uff09\u3001\u5b58\u50a8\uff08storage\uff09\u3002\u7b97\u5b50\u5c42\u5305\u542b\u5e38\u89c1\u7684 GNN \u8fd0\u7b97\u64cd\u4f5c\uff0c\u91c7\u6837\u5c42\u5305\u542b\u51e0\u79cd\u9884\u8bbe\u7684\u91c7\u6837\u7b97\u6cd5\uff0c\u5b58\u50a8\u5c42\u4e3b\u8981\u5173\u6ce8\u5982\u4f55\u9ad8\u6548\u5bf9\u5927\u89c4\u6a21\u56fe\u8fdb\u884c\u5206\u5e03\u5f0f\u5b58\u50a8\u3002\u5728\u8fd9 3 \u5c42\u57fa\u7840\u4e4b\u4e0a\u53ef\u4ee5\u5b9e\u73b0\u4efb\u610f\u7684 GNN \u7b97\u6cd5\u4ee5\u53ca\u5e94\u7528\u3002\\n\\n\u5b58\u50a8\u5c42\u56e0\u4e3a\u662f\u8981\u89e3\u51b3\u4e00\u4e2a\u56fe\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u95ee\u9898\uff0c\u56e0\u6b64\u9996\u5148\u8981\u5c06\u56fe\u8fdb\u884c\u5206\u5272\uff08partition\uff09\u3002AliGraph \u5185\u7f6e\u4e86 4 \u79cd\u56fe\u5206\u5272\u7b97\u6cd5\uff1a[METIS](https://dm.kaist.ac.kr/kse625/resources/metis.pdf)\u3001[\u9876\u70b9\u5207\u5272\u548c\u8fb9\u5207\u5272](https://www.usenix.org/conference/osdi12/technical-sessions/presentation/gonzalez)\u3001[2D \u5206\u5272](https://dl.acm.org/doi/10.1145/2503210.2503293)\u3001[\u6d41\u5f0f\u5206\u5272](https://dl.acm.org/doi/10.1145/2339530.2339722)\u3002\u8fd9 4 \u79cd\u7b97\u6cd5\u5206\u522b\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u573a\u666f\uff0cMETIS \u9002\u5408\u5904\u7406\u7a00\u758f\uff08sparse\uff09\u7684\u56fe\uff0c\u9876\u70b9\u5207\u5272\u548c\u8fb9\u5207\u5272\u9002\u5408\u5bc6\u96c6\uff08dense\uff09\u7684\u56fe\uff0c2D \u5206\u5272\u9002\u5408 worker \u6570\u91cf\u56fa\u5b9a\u7684\u573a\u666f\uff0c\u6d41\u5f0f\u5206\u5272\u901a\u5e38\u5e94\u7528\u5728\u8fb9\uff08edge\uff09\u9891\u7e41\u66f4\u65b0\u7684\u56fe\u3002\u7528\u6237\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u9009\u62e9\u6070\u5f53\u7684\u5206\u5272\u7b97\u6cd5\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u7684\u5f62\u5f0f\u81ea\u5df1\u5b9e\u73b0\u3002\\n\\n\u53e6\u4e00\u4e2a\u5b58\u50a8\u5c42\u5173\u5fc3\u7684\u95ee\u9898\u662f\u5982\u4f55\u5c06\u56fe\u7ed3\u6784\u548c\u5c5e\u6027\uff08attribute\uff09\u5171\u540c\u5b58\u50a8\u3002\u8fd9\u91cc\u8bb2\u7684\u56fe\u7ed3\u6784\u5373\u9876\u70b9\u548c\u8fb9\u7684\u4fe1\u606f\uff0c\u8fd9\u662f\u6700\u4e3b\u8981\u7684\u56fe\u6570\u636e\u3002\u540c\u65f6\u6bcf\u4e2a\u9876\u70b9\u4e5f\u4f1a\u9644\u52a0\u4e00\u4e9b\u72ec\u7279\u7684\u5c5e\u6027\uff0c\u4f8b\u5982\u67d0\u4e2a\u9876\u70b9\u8868\u793a\u4e00\u4e2a\u7528\u6237\uff0c\u90a3\u9644\u52a0\u5728\u8fd9\u4e2a\u7528\u6237\u4e0a\u9762\u7684\u5c5e\u6027\u5c31\u662f\u7c7b\u4f3c\u6027\u522b\u3001\u5e74\u9f84\u3001\u5730\u7406\u4f4d\u7f6e\u8fd9\u6837\u7684\u4fe1\u606f\u3002\u5982\u679c\u76f4\u63a5\u5c06\u5c5e\u6027\u4fe1\u606f\u548c\u56fe\u7ed3\u6784\u4e00\u8d77\u5b58\u50a8\u4f1a\u9020\u6210\u975e\u5e38\u5927\u7684\u7a7a\u95f4\u6d6a\u8d39\uff0c\u56e0\u4e3a\u4ece\u5168\u5c40\u89d2\u5ea6\u770b\u540c\u4e00\u79cd\u7c7b\u578b\u7684\u9876\u70b9\u7684\u5c5e\u6027\u662f\u9ad8\u5ea6\u91cd\u5408\u7684\u3002\u5e76\u4e14\u5c5e\u6027\u4e0e\u56fe\u7ed3\u6784\u7684\u5927\u5c0f\u5dee\u5f02\u4e5f\u975e\u5e38\u660e\u663e\uff0c\u4e00\u4e2a\u9876\u70b9 ID \u901a\u5e38\u5360\u7528 8 \u5b57\u8282\uff0c\u4f46\u662f\u5c5e\u6027\u4fe1\u606f\u7684\u5927\u5c0f\u4ece 0.1KB \u5230 1KB \u90fd\u6709\u53ef\u80fd \u3002\u56e0\u6b64 AliGraph \u9009\u62e9\u5c06\u5c5e\u6027\u4fe1\u606f\u5355\u72ec\u5b58\u50a8\uff0c\u901a\u8fc7\u4e24\u4e2a\u5355\u72ec\u7684\u7d22\u5f15\u5206\u522b\u5b58\u50a8\u9876\u70b9\u548c\u8fb9\u7684\u5c5e\u6027\uff0c\u800c\u56fe\u7ed3\u6784\u4e2d\u53ea\u5b58\u50a8\u5c5e\u6027\u7d22\u5f15\u7684 ID\u3002\u8fd9\u6837\u8bbe\u8ba1\u7684\u597d\u5904\u81ea\u7136\u662f\u663e\u8457\u964d\u4f4e\u4e86\u5b58\u50a8\u6240\u9700\u7684\u7a7a\u95f4\uff0c\u4f46\u4ee3\u4ef7\u5c31\u662f\u964d\u4f4e\u4e86\u67e5\u8be2\u6027\u80fd\uff0c\u56e0\u4e3a\u9700\u8981\u9891\u7e41\u8bbf\u95ee\u7d22\u5f15\u6765\u83b7\u53d6\u5c5e\u6027\u4fe1\u606f\u3002AliGraph \u9009\u62e9\u589e\u52a0\u4e00\u5c42 LRU \u7f13\u5b58\u7684\u65b9\u5f0f\u5bf9\u67e5\u8be2\u6027\u80fd\u8fdb\u884c\u4f18\u5316\u3002\\n\\n\u5b58\u50a8\u5c42\u5173\u5fc3\u7684\u6700\u540e\u4e00\u4e2a\u95ee\u9898\u4e5f\u662f\u8ddf\u67e5\u8be2\u6027\u80fd\u6709\u5173\u3002\u5728\u56fe\u7b97\u6cd5\u4e2d\u4e00\u4e2a\u9876\u70b9\u7684\u90bb\u5c45\uff08neighbor\uff09\u662f\u975e\u5e38\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u90bb\u5c45\u53ef\u4ee5\u662f\u76f4\u63a5\uff081 \u8df3\uff09\u7684\u4e5f\u53ef\u4ee5\u662f\u95f4\u63a5\uff08\u591a\u8df3\uff09\u7684\uff0c\u7531\u4e8e\u56fe\u88ab\u5206\u5272\u4ee5\u540e\u672c\u5730\u53ea\u4f1a\u5b58\u50a8\u76f4\u63a5\u7684\u90bb\u5c45\uff0c\u5f53\u9700\u8981\u8bbf\u95ee\u95f4\u63a5\u90bb\u5c45\u7684\u65f6\u5019\u5c31\u5fc5\u987b\u901a\u8fc7\u7f51\u7edc\u901a\u4fe1\u4e0e\u5176\u5b83\u5b58\u50a8\u8282\u70b9\u8fdb\u884c\u4ea4\u4e92\uff0c\u8fd9\u91cc\u7684\u7f51\u7edc\u901a\u4fe1\u4ee3\u4ef7\u5728\u5927\u89c4\u6a21\u56fe\u8ba1\u7b97\u4e2d\u662f\u4e0d\u5bb9\u5ffd\u89c6\u7684\u3002\u89e3\u51b3\u601d\u8def\u4e5f\u5f88\u76f4\u63a5\uff0c\u5373\u5728\u6bcf\u4e2a\u8282\u70b9\u672c\u5730\u7f13\u5b58\u9876\u70b9\u7684\u95f4\u63a5\u90bb\u5c45\uff0c\u4f46\u8981\u7f13\u5b58\u54ea\u4e9b\u9876\u70b9\u7684\u90bb\u5c45\uff0c\u8981\u7f13\u5b58\u51e0\u4e2a\u90bb\u5c45\u662f\u9700\u8981\u4ed4\u7ec6\u8003\u91cf\u7684\u95ee\u9898\u3002AliGraph \u6ca1\u6709\u4f7f\u7528\u76ee\u524d\u5e38\u89c1\u7684\u4e00\u4e9b\u7f13\u5b58\u7b97\u6cd5\uff08\u5982 LRU\uff09\uff0c\u800c\u662f\u63d0\u51fa\u4e86\u4e00\u79cd\u65b0\u7684\u57fa\u4e8e\u9876\u70b9\u91cd\u8981\u6027\uff08importance\uff09\u7684\u7b97\u6cd5\u6765\u5bf9\u95f4\u63a5\u90bb\u5c45\u8fdb\u884c\u7f13\u5b58\u3002\u5728\u6709\u5411\u56fe\u4e2d\u8ba1\u7b97\u4e00\u4e2a\u9876\u70b9\u91cd\u8981\u6027\u7684\u516c\u5f0f\u662f `\u5165\u90bb\u5c45\u7684\u4e2a\u6570 / \u51fa\u90bb\u5c45\u7684\u4e2a\u6570`\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u90bb\u5c45\u4e2a\u6570\u540c\u6837\u53ef\u4ee5\u662f\u76f4\u63a5\u7684\u6216\u8005\u95f4\u63a5\u7684\u3002\u5f53\u8fd9\u4e2a\u516c\u5f0f\u7684\u8ba1\u7b97\u7ed3\u679c\u5927\u4e8e\u67d0\u4e2a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u9608\u503c\u65f6\u5373\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u300c\u91cd\u8981\u300d\u7684\u9876\u70b9\u3002\u4ece\u5b9e\u9645\u6d4b\u8bd5\u4e2d\u5f97\u51fa\u7684\u7ecf\u9a8c\u503c\u662f\u901a\u5e38\u53ea\u9700\u8981\u8ba1\u7b97\u4e24\u8df3\uff08hop\uff09\u7684\u90bb\u5c45\u4e2a\u6570\u5c31\u591f\u4e86\uff0c\u800c\u9608\u503c\u672c\u8eab\u4e0d\u662f\u4e00\u4e2a\u7279\u522b\u654f\u611f\u7684\u6570\u503c\uff0c\u8bbe\u7f6e\u5728 0.2 \u5de6\u53f3\u662f\u5bf9\u4e8e\u7f13\u5b58\u6210\u672c\u548c\u6548\u679c\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u5e73\u8861\u3002\u9009\u51fa\u6240\u6709\u91cd\u8981\u7684\u9876\u70b9\u4ee5\u540e\uff0c\u6700\u7ec8\u4f1a\u5728\u6240\u6709\u5305\u542b\u8fd9\u4e9b\u9876\u70b9\u7684\u8282\u70b9\u4e0a\u7f13\u5b58 _k_ \u8df3\u7684\u51fa\u90bb\u5c45\uff08out-neighbor\uff09\u3002\\n\\nGNN \u7b97\u6cd5\u901a\u5e38\u53ef\u4ee5\u603b\u7ed3\u4e3a 3 \u4e2a\u6b65\u9aa4\uff1a\u91c7\u6837\uff08sample\uff09\u67d0\u4e2a\u9876\u70b9\u7684\u90bb\u5c45\uff0c\u805a\u5408\uff08aggregate\uff09\u8fd9\u4e9b\u91c7\u6837\u540e\u7684\u9876\u70b9\u7684 embedding\uff0c\u5c06\u805a\u5408\u540e\u7684 embedding \u4e0e\u9876\u70b9\u81ea\u5df1\u7684\u8fdb\u884c\u5408\u5e76\uff08combine\uff09\u5f97\u5230\u65b0\u7684 embedding\u3002\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u91c7\u6837\u662f\u6574\u4e2a\u6d41\u7a0b\u4e2d\u7684\u7b2c\u4e00\u6b65\uff0c\u91c7\u6837\u7684\u6548\u679c\u4e5f\u4f1a\u76f4\u63a5\u5f71\u54cd\u540e\u7eed\u8ba1\u7b97\u7684 embedding \u7ed3\u679c\u3002AliGraph \u62bd\u8c61\u4e86 3 \u7c7b\u91c7\u6837\u65b9\u6cd5\uff1a\u904d\u5386\u91c7\u6837\uff08traverse\uff09\u3001\u8fd1\u90bb\u91c7\u6837\uff08neighborhood\uff09\u548c\u8d1f\u91c7\u6837\uff08negative\uff09\u3002\u904d\u5386\u91c7\u6837\u662f\u4ece\u672c\u5730\u5b50\u56fe\u4e2d\u83b7\u53d6\u6570\u636e\uff1b\u8fd1\u90bb\u91c7\u6837\u5bf9\u4e8e 1 \u8df3\u7684\u90bb\u5c45\u53ef\u4ee5\u4ece\u672c\u5730\u5b58\u50a8\u4e2d\u83b7\u53d6\uff0c\u591a\u8df3\u7684\u90bb\u5c45\u5982\u679c\u5728\u7f13\u5b58\u4e2d\u5c31\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u5426\u5219\u5c31\u8bf7\u6c42\u5176\u5b83\u8282\u70b9\uff1b\u8d1f\u91c7\u6837\u901a\u5e38\u4e5f\u662f\u4ece\u672c\u5730\u6311\u9009\u9876\u70b9\uff0c\u5728\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\u6709\u53ef\u80fd\u9700\u8981\u4ece\u5176\u5b83\u8282\u70b9\u6311\u9009\u3002\\n\\n\u5728\u91c7\u6837\u5b8c\u90bb\u5c45\u9876\u70b9\u4ee5\u540e\u5c31\u662f\u805a\u5408\u8fd9\u4e9b\u9876\u70b9\u7684 embedding\uff0c\u5e38\u7528\u7684\u805a\u5408\u65b9\u6cd5\u6709\uff1aelement-wise mean\u3001max-pooling \u548c LSTM\u3002\u6700\u540e\u662f\u5c06\u805a\u5408\u540e\u7684 embedding \u4e0e\u9876\u70b9\u81ea\u5df1\u7684\u8fdb\u884c\u5408\u5e76\uff0c\u901a\u5e38\u5c31\u662f\u5c06\u8fd9\u4e24\u4e2a embedding \u8fdb\u884c\u6c42\u548c\u3002\u4e3a\u4e86\u52a0\u901f\u805a\u5408\u548c\u5408\u5e76\u8fd9\u4e24\u4e2a\u7b97\u5b50\u7684\u8ba1\u7b97\uff0cAliGraph \u5e94\u7528\u4e86\u4e00\u4e2a\u7269\u5316\uff08materialization\uff09\u4e2d\u95f4\u5411\u91cf\u7684\u7b56\u7565\uff0c\u5373\u6bcf\u4e2a mini-batch \u4e2d\u7684\u6240\u6709\u9876\u70b9\u5171\u4eab\u91c7\u6837\u7684\u9876\u70b9\uff0c\u540c\u6837\u7684\u805a\u5408\u548c\u5408\u5e76\u64cd\u4f5c\u7684\u4e2d\u95f4\u7ed3\u679c\u4e5f\u5171\u4eab\uff0c\u8fd9\u4e2a\u7b56\u7565\u4f1a\u5927\u5e45\u964d\u4f4e\u8ba1\u7b97\u6210\u672c\u3002\\n\\n\u5728\u6700\u540e\u7684\u8bc4\u4f30\u73af\u8282\u7528\u4e86\u4e24\u4e2a\u6765\u81ea\u6dd8\u5b9d\u7684\u6570\u636e\u96c6\uff0c\u4e24\u4e2a\u6570\u636e\u96c6\u4e4b\u95f4\u53ea\u6709\u5927\u5c0f\u7684\u533a\u522b\uff0c\u5927\u6570\u636e\u96c6\u662f\u5c0f\u6570\u636e\u96c6\u7684 6 \u500d\u5de6\u53f3\u3002\u5927\u6570\u636e\u96c6\u7684\u57fa\u7840\u6570\u636e\u662f\uff1a4.8 \u4ebf\u4e2a\u7528\u6237\u9876\u70b9\uff0c968 \u4e07\u4e2a\u5546\u54c1\u9876\u70b9\uff0c65.8 \u4ebf\u6761\u7528\u6237\u5230\u5546\u54c1\u7684\u8fb9\uff0c2.3 \u4ebf\u6761\u5546\u54c1\u5230\u5546\u54c1\u7684\u8fb9\uff0c\u7528\u6237\u5e73\u5747\u6709 27 \u4e2a\u5c5e\u6027\uff0c\u5546\u54c1\u5e73\u5747\u6709 32 \u4e2a\u5c5e\u6027\u3002\u5f53\u4f7f\u7528 200 \u4e2a worker\uff08\u8282\u70b9\u914d\u7f6e\u8bba\u6587\u4e2d\u6ca1\u6709\u8bf4\u660e\uff09\u65f6\u5927\u6570\u636e\u96c6\u53ea\u9700\u8981 5 \u5206\u949f\u5373\u53ef\u5c06\u6574\u4e2a\u56fe\u6784\u5efa\u5b8c\u6bd5\uff0c\u76f8\u6bd4\u4e4b\u4e0b\u4ee5\u5f80\u7684\u4e00\u4e9b\u65b9\u6848\u53ef\u80fd\u9700\u8981\u8017\u8d39\u6570\u5c0f\u65f6\u3002\u57fa\u4e8e\u9876\u70b9\u91cd\u8981\u6027\u7684\u7f13\u5b58\u7b97\u6cd5\u76f8\u6bd4 LRU \u8fd9\u4e9b\u4f20\u7edf\u7b97\u6cd5\u4e5f\u662f\u660e\u663e\u66f4\u4f18\u30023 \u7c7b\u91c7\u6837\u65b9\u6cd5\u7684\u6027\u80fd\u8bc4\u4f30\u7ed3\u679c\u4ece\u51e0\u6beb\u79d2\u5230\u51e0\u5341\u6beb\u79d2\u4e0d\u7b49\uff0c\u4f46\u6700\u957f\u4e5f\u4e0d\u8d85\u8fc7 60 \u6beb\u79d2\uff0c\u5e76\u4e14\u91c7\u6837\u6027\u80fd\u4e0e\u6570\u636e\u96c6\u5927\u5c0f\u4e0d\u592a\u76f8\u5173\u3002\u805a\u5408\u548c\u5408\u5e76\u7b97\u5b50\u76f8\u6bd4\u4f20\u7edf\u7684\u5b9e\u73b0\u4e5f\u6709\u4e00\u4e2a\u6570\u91cf\u7ea7\u7684\u6027\u80fd\u63d0\u5347\uff0c\u8fd9\u4e3b\u8981\u5f97\u76ca\u4e8e\u524d\u9762\u63d0\u5230\u7684\u7269\u5316\u7b56\u7565\u3002\\n\\nAliGraph \u76ee\u524d\u5df2\u7ecf\u5f00\u6e90\uff08\u4e00\u90e8\u5206\uff1f\uff09\u4f46\u662f\u6362\u4e86\u4e00\u4e2a\u540d\u5b57\u53eb\u505a [graph-learn](https://github.com/alibaba/graph-learn)\uff0c\u8ddf\u5927\u591a\u6570\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u4e00\u6837\uff0c\u5e95\u5c42\u4f7f\u7528 C++ \u8bed\u8a00\u5b9e\u73b0\u5e76\u63d0\u4f9b Python \u8bed\u8a00\u7684 API\uff0c\u76ee\u524d\u652f\u6301 TensorFlow\uff0c\u672a\u6765\u4f1a\u652f\u6301 PyTorch\u3002\u6709\u610f\u601d\u7684\u662f\u521a\u521a\u5f00\u6e90\u4e0d\u4e45\u5c31\u6709\u4eba\u63d0\u4e86\u4e00\u4e2a [issue](https://github.com/alibaba/graph-learn/issues/16) \u5e0c\u671b\u80fd\u591f\u8ddf\u53e6\u5916\u51e0\u4e2a\u6d41\u884c\u7684 GNN \u6846\u67b6\u8fdb\u884c\u6bd4\u8f83\uff0c\u4f46\u662f\u9879\u76ee\u6210\u5458\u7684\u56de\u7b54\u6bd4\u8f83\u542b\u7cca\u3002\\n\\n## Building Uber\u2019s Go Monorepo with Bazel\\n\\n[[\u94fe\u63a5]](https://eng.uber.com/go-monorepo-bazel)\\n\\nUber \u5e94\u8be5\u662f\u9664\u4e86 Google \u4ee5\u5916\u5f88\u65e9\u9009\u62e9\u5728\u540e\u7aef\u670d\u52a1\u4e2d\u5927\u89c4\u6a21\u4f7f\u7528 Go \u8bed\u8a00\u7684\u516c\u53f8\u4e4b\u4e00\uff0c\u5e76\u8d21\u732e\u4e86\u5f88\u591a\u8457\u540d\u7684 Go \u8bed\u8a00\u9879\u76ee\uff08\u5982 [zap](https://github.com/uber-go/zap)\u3001[Jaeger](https://github.com/jaegertracing/jaeger)\uff09\u3002\u65e9\u5728 2017 \u5e74\uff0cUber \u7684 Android \u548c iOS \u56e2\u961f\u5c31\u5df2\u7ecf\u53ea\u4f7f\u7528\u4e00\u4e2a\u4ee3\u7801\u4ed3\u5e93\u8fdb\u884c\u5f00\u53d1\uff0c\u4fd7\u79f0 monorepo\u3002\u5b9e\u8df5 monorepo \u6700\u8457\u540d\u7684\u516c\u53f8\u5e94\u8be5\u8fd8\u662f Google\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u770b\u770b [Why Google Stores Billions of Lines of Code in a Single Repository](https://research.google/pubs/pub45424) \u8fd9\u7bc7\u6587\u7ae0\u3002\u73b0\u5728\u540e\u7aef\u56e2\u961f\u4e5f\u5f00\u59cb\u91c7\u7528 monorepo \u6765\u7ba1\u7406 Go \u8bed\u8a00\u9879\u76ee\uff0c\u4f46\u662f\u548c\u5ba2\u6237\u7aef\u56e2\u961f\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u6ca1\u6709\u7528 [Buck](https://buck.build) \u800c\u662f\u7528 [Bazel](https://bazel.build)\uff08\u524d\u8005\u662f Facebook \u5f00\u6e90\uff0c\u540e\u8005\u662f Google \u5f00\u6e90\uff09\u3002\u8fd9\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u4e86\u5728 monorepo \u4e2d\u5c06 Go \u8bed\u8a00\u548c Bazel \u7ed3\u5408\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898\u3002\\n\\n## Optimising Docker Layers for Better Caching with Nix\\n\\n[[\u94fe\u63a5]](https://grahamc.com/blog/nix-and-layered-docker-images)\\n\\n\u6050\u6015\u5927\u591a\u6570\u65f6\u5019\u63a5\u89e6\u5bb9\u5668\u662f\u4ece\u6784\u5efa\u4e00\u4e2a Docker \u955c\u50cf\u5f00\u59cb\u7684\uff0c\u8fd9\u4e00\u6b65\u5f80\u5f80\u4e5f\u662f\u6700\u5bb9\u6613\u88ab\u5ffd\u89c6\u7684\u3002\u4e3a\u4ec0\u4e48\u6211\u7684\u955c\u50cf\u8fd9\u4e48\u5927\uff1f\u4e3a\u4ec0\u4e48\u6bcf\u6b21\u62c9\u53d6\u955c\u50cf\u90fd\u8981\u4ece\u5934\u5f00\u59cb\uff1f\u8fd9\u4e9b\u95ee\u9898\u53ef\u80fd\u4f1a\u968f\u7740\u4f7f\u7528\u65f6\u95f4\u8d8a\u6765\u8d8a\u957f\u9010\u6e10\u6d6e\u73b0\u51fa\u6765\uff0c\u8981\u56de\u7b54\u5b83\u4eec\u9700\u8981\u4e86\u89e3 Docker \u955c\u50cf\u7684\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\u300clayer\u300d\uff0c\u672c\u8d28\u4e0a\u4f60\u5728 `Dockerfile` \u91cc\u5199\u7684\u6bcf\u4e00\u884c\u547d\u4ee4\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a layer\uff0c\u4e00\u4e2a\u955c\u50cf\u4fbf\u662f\u7531\u5f88\u591a layer \u6784\u6210\u3002Layer \u4e4b\u95f4\u662f\u6709\u5c42\u7ea7\u5173\u7cfb\u7684\uff0c\u5f53\u62c9\u53d6\u955c\u50cf\u65f6\u5982\u679c\u672c\u5730\u5df2\u7ecf\u5b58\u5728\u67d0\u4e2a layer \u5c31\u4e0d\u4f1a\u91cd\u590d\u62c9\u53d6\u3002\u5728\u4f20\u7edf\u7684 Linux \u53d1\u884c\u7248\u4e2d\u5b89\u88c5\u4f9d\u8d56\u65f6 Docker \u662f\u4e0d\u77e5\u9053\u5177\u4f53\u6709\u54ea\u4e9b\u6587\u4ef6\u88ab\u4fee\u6539\u7684\uff0c\u800c [Nix](https://github.com/NixOS/nix) \u8fd9\u4e2a\u7279\u6b8a\u7684\u5305\u7ba1\u7406\u5668\u91c7\u7528\u4e86\u4e0d\u4e00\u6837\u7684\u8bbe\u8ba1\u601d\u8def\u4f7f\u5f97\u5b89\u88c5\u4f9d\u8d56\u8fd9\u4ef6\u4e8b\u60c5\u5bf9\u4e8e Docker layer \u7f13\u5b58\u975e\u5e38\u53cb\u597d\u3002\u884d\u751f\u9605\u8bfb\u63a8\u8350 J\xe9r\xf4me Petazzoni \u5199\u7684\u5173\u4e8e\u5982\u4f55\u51cf\u5c11\u955c\u50cf\u5927\u5c0f\u7684[\u7cfb\u5217\u6587\u7ae0](https://www.ardanlabs.com/blog/2020/02/docker-images-part1-reducing-image-size.html)\u3002\\n\\n## Proposal: Permit embedding of interfaces with overlapping method sets\\n\\n[[\u94fe\u63a5]](https://github.com/golang/proposal/blob/master/design/6977-overlapping-interfaces.md)\\n\\nInterface \u662f Go \u8bed\u8a00\u4e00\u4e2a\u91cd\u8981\u7684\u7279\u6027\uff0c\u7c7b\u4f3c\u5f88\u591a\u5176\u5b83\u8bed\u8a00\u4e2d\u7684\u6982\u5ff5\uff0c\u63a5\u53e3\u5b9a\u4e49\u597d\u4ee5\u540e\u662f\u9700\u8981\u901a\u8fc7 struct \u6765\u5b9e\u73b0\u7684\u3002\u4f46\u4e0d\u540c\u4e4b\u5904\u53c8\u5728\u4e8e struct \u4e0d\u9700\u8981\u663e\u5f0f\u58f0\u660e\u5b9e\u73b0\u4e86\u4ec0\u4e48 interface\uff0c\u53ea\u8981\u6ee1\u8db3 interface \u4e2d\u5b9a\u4e49\u7684\u63a5\u53e3\u5c31\u884c\uff0c\u8fd9\u4e2a\u5173\u952e\u8bbe\u8ba1\u4f7f\u5f97 Go \u8bed\u8a00\u7684 interface \u4f7f\u7528\u573a\u666f\u53ef\u4ee5\u975e\u5e38\u7075\u6d3b\u3002\u8ddf struct \u4e00\u6837 interface \u4e5f\u5141\u8bb8\u5d4c\u5957\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u5728\u4e00\u4e2a interface \u5b9a\u4e49\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a interface\u3002\u5982\u679c\u540c\u65f6\u5d4c\u5957\u4e86\u591a\u4e2a interface\uff0c\u5e76\u4e14\u8fd9\u4e9b interface \u4e4b\u95f4\u6709\u91cd\u590d\u7684\u63a5\u53e3\u5728\u7f16\u8bd1\u65f6\u662f\u4f1a\u62a5\u9519\u7684\u3002\u5b9e\u9645\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4e3a\u4e86\u89c4\u907f\u8fd9\u4e2a\u9650\u5236\u53ef\u80fd\u9700\u8981\u4fee\u6539 interface \u7684\u5b9a\u4e49\uff0c\u8fd9\u5bf9\u4e8e\u5f00\u53d1\u8005\u6765\u8bf4\u4e0d\u592a\u53cb\u597d\u3002\u4e0a\u9762\u8fd9\u4e2a\u63d0\u6848\u5141\u8bb8\u5f00\u53d1\u8005\u5728\u4e0d\u4fee\u6539\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u907f\u5f00\u8fd9\u4e2a\u9650\u5236\uff0c\u76ee\u524d\u8fd9\u4e2a\u529f\u80fd\u5df2\u7ecf\u5728 [Go 1.14](https://golang.org/doc/go1.14#language) \u4e2d\u53d1\u5e03\u3002\\n\\n## VexTab\\n\\n[[\u94fe\u63a5]](https://github.com/0xfe/vextab)\\n\\n\u4e0d\u7ba1\u662f\u97f3\u4e50\u521b\u4f5c\u8fd8\u662f\u97f3\u4e50\u6f14\u594f\uff0c\u4e50\u8c31\u90fd\u662f\u4e00\u4e2a\u5fc5\u4e0d\u53ef\u5c11\u7684\u4e1c\u897f\u3002\u8fd8\u8bb0\u5f97\u521a\u5b66\u5409\u4ed6\u90a3\u4f1a\u513f\u975e\u5e38\u70ed\u8877\u7684\u4e00\u4ef6\u4e8b\u60c5\u5c31\u662f\u53bb\u7f51\u4e0a\u641c\u96c6\u5404\u79cd\u6b4c\u66f2\u7684\u516d\u7ebf\u8c31\uff0c\u8fd9\u4e9b\u4e50\u8c31\u7684\u683c\u5f0f\u4ece\u6700\u6734\u7d20\u7684\u7eaf\u6587\u672c\u5230\u9ad8\u7ea7\u7684 [Guitar Pro](https://www.guitar-pro.com) \u683c\u5f0f\u90fd\u6709\u3002\u518d\u540e\u6765\u5f00\u59cb\u5b66\u4e60\u6252\u6b4c\uff0c\u4e5f\u9762\u4e34\u628a\u6252\u4e0b\u6765\u7684\u8c31\u5b50\u7eaa\u5f55\u4e0b\u6765\u7684\u9700\u6c42\u3002\u867d\u7136 Guitar Pro \u5f88\u597d\u4f46\u6bd5\u7adf\u662f\u4e00\u4e2a\u6536\u8d39\u8f6f\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u4e5f\u662f\u79c1\u6709\u7684\u3002\u5c31\u50cf\u6211\u66f4\u559c\u6b22 Markdown \u800c\u4e0d\u662f\u76f4\u63a5\u7528 Word \u4e00\u6837\uff0c\u4e00\u76f4\u5e0c\u671b\u80fd\u6709\u4e00\u4e2a\u7c7b\u4f3c\u7684\u6807\u8bb0\u8bed\u8a00\u7528\u4e8e\u7f16\u5199\u4e50\u8c31\u3002VexTab \u5373\u662f\u8fd9\u6837\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u7f16\u5199\u4e94\u7ebf\u8c31\u548c\u516d\u7ebf\u8c31\u7684\u8bed\u8a00\uff0c\u4e5f\u63d0\u4f9b\u4e00\u4e2a JavaScript \u5e93\u65b9\u4fbf\u5d4c\u5165\u5230\u7f51\u9875\u4e2d\u3002\u6709\u610f\u601d\u7684\u662f VexTab \u7684\u4f5c\u8005\u540c\u65f6\u4e5f\u662f Google \u7684\u4e00\u540d\u5458\u5de5\u3002"},{"id":"/2020/06/10/maybe-news-issue-3","metadata":{"permalink":"/blog/2020/06/10/maybe-news-issue-3","source":"@site/blog/2020-06-10-maybe-news-issue-3.md","title":"Maybe News Issue #3","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2020-06-10T17:37:27.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":14.36,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #3","date":"2020-06-10 17:37:27 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #4","permalink":"/blog/2020/06/17/maybe-news-issue-4"},"nextItem":{"title":"Maybe News Issue #2","permalink":"/blog/2020/06/02/maybe-news-issue-2"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Kudu: Storage for Fast Analytics on Fast Data\\n\\n[[\u94fe\u63a5]](https://kudu.apache.org/kudu.pdf)\\n\\n[OLAP](https://en.wikipedia.org/wiki/Online_analytical_processing)\uff08Online Analytical Processing\uff09\u4e00\u76f4\u662f\u5927\u6570\u636e\u9886\u57df\u975e\u5e38\u91cd\u8981\u7684\u5e94\u7528\u573a\u666f\uff0c\u5149\u6709\u6570\u636e\u4e5f\u4e0d\u884c\uff0c\u4f60\u5f97\u300c\u5206\u6790\u300d\u554a\u3002\u81ea\u4ece\u6709\u4e86 Hadoop\uff0cOLAP \u7684\u5de5\u5177\u5c31\u4e00\u76f4\u5728\u6f14\u53d8\uff0c\u4ece\u6700\u65e9\u7684\u88f8\u5199 MapReduce \u4efb\u52a1\uff0c\u5230 [Pig](https://pig.apache.org)\u3001[Hive](https://hive.apache.org)\u3001[Presto](https://prestosql.io)\u3001[Impala](https://impala.apache.org)\u3001[Druid](https://druid.apache.org)\u3001[ClickHouse](https://clickhouse.tech)\uff0c\u4ee5\u53ca\u4eca\u5929\u8981\u4ecb\u7ecd\u7684 [Kudu](https://kudu.apache.org)\u3002\u4e00\u4e2a\u660e\u663e\u7684\u8d8b\u52bf\u662f OLAP \u5f15\u64ce\u5728\u9010\u6b65\u671d\u7740\u300c\u53bb Hadoop \u5316\u300d\u548c\u300c\u5b9e\u65f6\u5316\u300d\u53d1\u5c55\uff0c\u5f53\u7136\u8fd9\u4e9b\u9879\u76ee\u91cc\u6700\u65b0\u7684\u4e5f\u5df2\u7ecf\u662f 2016 \u5e74\u53d1\u5e03\u7684\u4e86\uff0c\u63a5\u4e0b\u6765\u4f1a\u600e\u4e48\u53d8\u5316\u8fd8\u662f\u4e2a\u672a\u77e5\u6570\u3002\\n\\n\u5148\u8bb2\u8bb2\u4e3a\u4ec0\u4e48\u4f1a\u6709\u7c7b\u4f3c Kudu \u8fd9\u6837\u7684\u9879\u76ee\u8bde\u751f\u3002\u4f20\u7edf\u7684 OLAP \u5f15\u64ce\u56e0\u4e3a\u662f\u6784\u5efa\u5728 HDFS \u4e0a\u7684\uff0c\u8981\u60f3\u5206\u6790\u6570\u636e\u9996\u5148\u5f97\u5c06\u6570\u636e\u5b58\u50a8\u5230 HDFS \u4e0a\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\uff08\u901a\u5e38\u53eb\u505a ETL\uff09\u5f80\u5f80\u662f\u6bd4\u8f83\u8017\u65f6\u4ee5\u53ca\u590d\u6742\u7684\u3002\u540c\u65f6\u7531\u4e8e HDFS \u5929\u751f\u4e0d\u652f\u6301\u968f\u673a\u8bfb\u5199\uff0c\u4e3a\u4e86\u5f25\u8865\u8fd9\u4e2a\u300c\u7f3a\u9677\u300d\uff0c\u6709\u4e86 HBase \u8fd9\u6837\u7684\u9879\u76ee\u3002\u4f46 HBase \u5bf9\u4e8e OLAP \u573a\u666f\u662f\u4e0d\u591f\u53cb\u597d\u7684\uff0c\u56e0\u6b64\u5f80\u5f80\u9700\u8981\u628a\u6570\u636e\u4ece HBase \u518d\u5bfc\u5165\u5230 HDFS \u4e2d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u53ef\u80fd\u6bd4\u8f83\u8017\u65f6\uff0c\u7ef4\u62a4\u6210\u672c\u4e5f\u6bd4\u8f83\u9ad8\u3002\u56e0\u6b64 Kudu \u7684\u76ee\u6807\u662f\u5b9e\u73b0\u4e00\u4e2a\u5373\u652f\u6301\u968f\u673a\u8bfb\u5199\uff08\u4e3b\u8981\u662f\u5199\uff09\uff0c\u53c8\u9488\u5bf9\u5927\u6279\u91cf\u67e5\u8be2\u8fdb\u884c\u4f18\u5316\u7684\u5b58\u50a8\u5f15\u64ce\u3002\u8fd9\u79cd\u65f6\u5019 HDFS \u5c31\u663e\u5f97\u5f88\u7d2f\u8d58\u4e86\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8d8a\u6765\u8d8a\u591a\u5f15\u64ce\u9009\u62e9\u4e0d\u4f9d\u8d56 HDFS \u7684\u7f18\u6545\uff08Kudu \u5b98\u7f51\u4e5f\u5728 FAQ \u4e2d\u4e13\u95e8[\u89e3\u91ca](https://kudu.apache.org/faq.html#why-doesnt-kudu-store-its-data-in-hdfs)\u4e86\u4e3a\u4ec0\u4e48\u4e0d\u7528 HDFS\uff09\u3002\u5f53\u7136\u5e76\u4e0d\u662f\u8bf4 HDFS \u5c31\u6ca1\u7528\u4e86\uff0c\u6709\u5f88\u591a\u6570\u636e\u8fd8\u662f\u975e\u5e38\u9759\u6001\u7684\uff0c\u5bf9\u4e8e\u5b9e\u65f6\u6027\u8981\u6c42\u4e5f\u4e0d\u9ad8\uff0c\u6b64\u65f6\u7528 HDFS \u662f\u4e00\u79cd\u7b80\u5355\u7ecf\u6d4e\u7684\u9009\u62e9\u3002\\n\\n\u8fd9\u7bc7\u8bba\u6587\u867d\u7136\u4ecb\u7ecd\u7684\u662f Kudu \u65e9\u671f\u7684\u4e00\u4e9b\u8bbe\u8ba1\u601d\u60f3\uff0c\u4f46\u57fa\u672c\u4e0a\u5c5e\u4e8e\u6700\u6838\u5fc3\u7684\u529f\u80fd\u3002\u8ddf\u5f88\u591a\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u4e00\u6837\uff0cKudu \u4e5f\u662f\u53d7 [Spanner](https://research.google/pubs/pub39966) \u542f\u53d1\u3002\u7cfb\u7edf\u67b6\u6784\u4e0a\u5206\u4e3a\u4e00\u4e2a Master \u670d\u52a1\u548c\u82e5\u5e72 Tablet \u670d\u52a1\u3002Master \u8d1f\u8d23\u7ef4\u62a4\u5143\u4fe1\u606f\uff0c\u5305\u62ec Tablet \u8282\u70b9\u548c\u6570\u636e\u7684\u3002Tablet \u670d\u52a1\u5219\u8d1f\u8d23\u6570\u636e\u5b58\u50a8\uff0c\u6bcf\u53f0\u8282\u70b9\u4e0a\u4f1a\u6709\u51e0\u5341\u81f3\u6570\u767e\u4e2a tablet\uff0c\u6bcf\u4e2a tablet \u4e2d\u5305\u542b\u4e86\u82e5\u5e72\u6570\u636e\uff0c\u6700\u5927\u53ef\u4ee5\u8fbe\u5230\u51e0\u5341 GB \u7684\u89c4\u6a21\uff08\u8fd9\u91cc\u4f60\u53ef\u4ee5\u628a tablet \u7c7b\u6bd4\u4e3a\u5f88\u591a\u522b\u7684\u7cfb\u7edf\u4e2d\u7684 region \u6982\u5ff5\uff09\u3002\\n\\n\u8ddf\u5f88\u591a\u5173\u7cfb\u6570\u636e\u5e93\u4e00\u6837\uff0cKudu \u662f\u6709 table \u7684\u6982\u5ff5\u7684\u3002\u4f46\u8ddf\u5f88\u591a NoSQL \u6570\u636e\u5e93\u4e0d\u4e00\u6837\u7684\u5730\u65b9\u662f\uff0c\u5f3a\u5236\u7528\u6237\u5fc5\u987b\u663e\u5f0f\u5b9a\u4e49 schema\u3002Kudu \u4e00\u4e2a\u6709\u610f\u601d\u7684\u8bbe\u8ba1\u5728\u4e8e\u540c\u65f6\u652f\u6301\u4e86 hash \u548c range \u8fd9\u4e24\u79cd\u6570\u636e partition \u65b9\u6cd5\uff0c\u800c\u4e0d\u50cf\u522b\u7684\u7cfb\u7edf\u53ea\u652f\u6301\u5176\u4e2d\u4e00\u79cd\uff08\u6709\u5173\u8fd9\u4e24\u79cd partition \u7684\u4ecb\u7ecd\u53ef\u4ee5\u770b\u6211\u4e4b\u524d\u7684[\u4e00\u7bc7\u6587\u7ae0](https://blog.xiaogaozi.org/2020/05/25/how-to-design-a-distributed-index-framework-part-5/)\uff09\u3002\u8fd9\u6837\u8bbe\u8ba1\u7684\u597d\u5904\u662f\u5373\u4fdd\u7559\u4e86 hash \u7684\u6570\u636e\u5747\u5300\u5206\u914d\u7279\u70b9\uff0c\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u9632\u6b62\u8bfb\u5199\u70ed\u70b9\uff0c\u53c8\u4fdd\u7559\u4e86 range \u5bf9\u4e8e\u8303\u56f4\u626b\u63cf\u7684\u53cb\u597d\u6027\u3002\\n\\nTablet \u670d\u52a1\u4e4b\u95f4\u662f\u901a\u8fc7 Raft \u6765\u8fdb\u884c\u6570\u636e\u590d\u5236\uff0c\u56e0\u6b64\u53ef\u4ee5\u8ba4\u4e3a Kudu \u662f\u4e00\u4e2a\u4fdd\u8bc1\u5f3a\u4e00\u81f4\u6027\u7684\u5b58\u50a8\u7cfb\u7edf\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f Kudu \u7684\u9ed8\u8ba4\u8bbe\u7f6e\u662f 500 \u6beb\u79d2\u7684\u5fc3\u8df3\u95f4\u9694\u4ee5\u53ca 1.5 \u79d2\u7684\u9009\u4e3e\u8d85\u65f6\uff0c\u8fd9\u4e2a\u8ddf Raft \u8bba\u6587\u63a8\u8350\u7684\u65f6\u95f4\u76f8\u6bd4\u957f\u4e86\u4e0d\u5c11\uff08\u63a8\u8350\u7684\u9009\u4e3e\u8d85\u65f6\u662f 150~300 \u6beb\u79d2\uff09\u3002\u5f53\u96c6\u7fa4\u6269\u5bb9\u65f6\uff0c\u65b0\u8282\u70b9\u5c06\u4f1a\u9996\u5148\u8fdb\u5165 `PRE_VOTER` \u72b6\u6001\uff0c\u7b49\u5230 log \u8ffd\u4e0a\u4ee5\u540e\u518d\u53d8\u6210 `VOTER` \u72b6\u6001\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u4e5f\u662f Raft \u8bba\u6587\u4e2d\u5efa\u8bae\u7684\uff0c\u4e0d\u8fc7\u8bba\u6587\u4e2d\u53eb\u505a learner \u6216\u8005 non-voting member\u3002Master \u670d\u52a1\u867d\u7136\u662f\u5355\u70b9\u8bbe\u8ba1\uff08\u5373\u72b6\u6001\u4e0d\u662f\u5206\u5e03\u5f0f\u5b58\u50a8\uff09\uff0c\u4f46\u4e3a\u4e86\u4fdd\u969c\u9ad8\u53ef\u7528\u4e5f\u53ef\u4ee5\u901a\u8fc7 Raft \u5b9e\u73b0\u591a\u8282\u70b9\u72b6\u6001\u590d\u5236\uff0c\u53ea\u4e0d\u8fc7\u4efb\u610f\u65f6\u95f4\u53ea\u80fd\u6709\u4e00\u4e2a\u8282\u70b9\u5de5\u4f5c\u3002\\n\\nKudu \u7684\u6570\u636e\u5b58\u50a8\u5f15\u64ce\u662f\u5b8c\u5168\u81ea\u5df1\u8bbe\u8ba1\u7684\uff0c\u6ca1\u6709\u76f4\u63a5\u7528\u4efb\u4f55\u73b0\u6709\u7684\u5f15\u64ce\uff0c\u867d\u7136\u4e5f\u80fd\u591a\u5c11\u770b\u51fa\u4e00\u4e9b\u522b\u7684\u5f15\u64ce\u7684\u5f71\u5b50\u3002\u5173\u4e8e\u8fd9\u4e00\u70b9\u53ef\u4ee5\u7406\u89e3\uff0cOLAP \u7cfb\u7edf\u533a\u522b\u4e8e [OLTP](https://en.wikipedia.org/wiki/Online_transaction_processing) \uff08Online Transactional Processing\uff09\u7cfb\u7edf\u7684\u6700\u5927\u4e0d\u540c\u5373\u5728\u4e8e\u6570\u636e\u5b58\u50a8\u7684\u5f62\u5f0f\uff0c\u7b80\u5355\u7406\u89e3\u540e\u8005\u662f\u884c\u5f0f\uff08row-oriented\uff09\u5b58\u50a8\uff0c\u800c\u524d\u8005\u662f\u5217\u5f0f\uff08column-oriented\uff09\u5b58\u50a8\u3002\u8457\u540d\u7684 [Parquet](https://parquet.apache.org) \u5c31\u662f\u5e7f\u6cdb\u88ab\u7528\u4e8e OLAP \u573a\u666f\u7684\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\uff0cKudu \u5728\u5b9e\u73b0\u4e0a\u4e5f\u590d\u7528\u4e86\u5f88\u591a Parquet \u7684\u4ee3\u7801\u3002\\n\\n\u6bcf\u4e2a table \u5728\u5b58\u50a8\u7ea7\u522b\u4f1a\u88ab\u5206\u5272\u4e3a\u591a\u4e2a RowSets\uff0c\u987e\u540d\u601d\u4e49\u6bcf\u4e2a RowSets \u662f\u7531\u5f88\u591a\u884c\uff08row\uff09\u7ec4\u6210\uff0cRowSets \u4e4b\u95f4\u4e0d\u4f1a\u6709\u91cd\u590d\u7684\u6570\u636e\uff0c\u4f46\u4e3b\u952e\u7684\u8303\u56f4\u53ef\u80fd\u4f1a\u4ea4\u53c9\u3002\\n\\n\u5f53\u6709\u65b0\u7684\u6570\u636e\u65f6\u4f1a\u9996\u5148\u5b58\u50a8\u5230\u5185\u5b58\u4e2d\u7684 MemRowSets\uff0c\u5e95\u5c42\u5b9e\u73b0\u662f\u4e00\u4e2a\u4f7f\u7528\u4e50\u89c2\u9501\uff08optimistic locking\uff09\u7684\u5e76\u53d1\uff08concurrent\uff09B \u6811\u3002\u6bd4\u8f83\u7279\u522b\u7684\u4e00\u70b9\u662f\u6570\u636e\u5e76\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u6309\u7167\u5217\u5f0f\u8fdb\u884c\u5b58\u50a8\uff0cMemRowSets \u4e2d\u8fd8\u662f\u7528\u7684\u884c\u5f0f\u5b58\u50a8\u3002\u5f53\u6570\u636e\u7d2f\u79ef\u5230\u4e00\u5b9a\u7a0b\u5ea6 MemRowSets \u5c31\u4f1a\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e0a\uff0c\u79f0\u4e4b\u4e3a DiskRowSets\uff0c\u6bcf\u4e2a DiskRowSet \u5927\u5c0f\u4e0a\u9650\u662f 32MB\u3002DiskRowSet \u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u57fa\u7840\u6570\u636e\uff08base data\uff09\u548c\u589e\u91cf\u6570\u636e\uff08delta stores\uff09\u3002\\n\\n\u57fa\u7840\u6570\u636e\u662f\u5217\u5f0f\u683c\u5f0f\uff0c\u5373\u6bcf\u4e00\u5217\u90fd\u5355\u72ec\u8fde\u7eed\u5b58\u50a8\uff0c\u6bcf\u4e00\u5217\u5185\u90e8\u53c8\u5212\u5206\u6210\u4e86\u591a\u4e2a\u5c0f\u7684\u9875\uff08page\uff09\uff0c\u6709\u4e00\u4e2a B \u6811\u6839\u636e\u884c\u53f7\u7d22\u5f15\u4e86\u8fd9\u4e9b\u9875\u3002\u6bcf\u4e00\u5217\u53ef\u4ee5\u7531\u7528\u6237\u6307\u5b9a\u4e0d\u540c\u7684\u7f16\u7801\uff08encoding\uff09\u65b9\u6cd5\uff08\u5982 dictionary encoding\u3001bitshuffle\u3001front coding\uff09\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u4f7f\u7528\u901a\u7528\u7684\u538b\u7f29\u7b97\u6cd5\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff08\u5982 LZ4\u3001gzip\u3001bzip2\uff09\uff0c\u57fa\u4e8e\u5217\u7684\u7f16\u7801\u53ca\u6570\u636e\u538b\u7f29\u662f\u5217\u5f0f\u5b58\u50a8\u975e\u5e38\u5927\u7684\u4e00\u4e2a\u7279\u70b9\u3002\\n\\n\u589e\u91cf\u6570\u636e\u4e5f\u5206\u4e3a\u5185\u5b58\u548c\u78c1\u76d8\u4e24\u79cd\u5f62\u5f0f\u3002\u5185\u5b58\u4e2d\u7684\u53eb\u505a DeltaMemStores\uff0c\u8fd9\u4e2a\u8ddf MemRowSets \u7684\u5b9e\u73b0\u4e00\u6837\u3002\u78c1\u76d8\u4e2d\u7684\u53eb\u505a DeltaFiles\uff0c\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u7c7b\u578b\u7684\u5217\u5757\uff08column block\uff09\u3002\u4e0d\u7ba1\u662f\u5185\u5b58\u8fd8\u662f\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u90fd\u4f1a\u6709\u4e00\u4e2a\u989d\u5916\u7684\u4ece `(row_offset, timestamp)` \u5230 RowChangeList \u7684\u6620\u5c04\uff0c`row_offset` \u662f\u67d0\u4e00\u884c\u5728\u4e00\u4e2a RowSet \u4e2d\u7684\u504f\u79fb\uff0cRowChangList \u662f\u4e8c\u8fdb\u5236\u7f16\u7801\u4ee5\u540e\u7684\u589e\u91cf\u64cd\u4f5c\uff08\u5982\u66f4\u65b0\u67d0\u4e00\u5217\u3001\u5220\u9664\u67d0\u4e00\u884c\uff09\u5217\u8868\u3002\u540c\u6837\u7684\uff0cDeltaMemStores \u4e5f\u4f1a\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e0a\u53d8\u6210 DeltaFiles\u3002\\n\\n\u8fd9\u4e9b\u589e\u91cf\u6570\u636e\u4f1a\u5b9a\u671f\u8ddf\u57fa\u7840\u6570\u636e\u8fdb\u884c\u5408\u5e76\uff08compation\uff09\uff0c\u4ee5\u9632\u6b62\u8fc7\u591a\u7684\u589e\u91cf\u6587\u4ef6\u3002\u540c\u65f6 DiskRowSets \u4e4b\u95f4\u4e5f\u4f1a\u8fdb\u884c\u5408\u5e76\uff0c\u76ee\u7684\u662f\u6e05\u7406\u5df2\u7ecf\u88ab\u5220\u9664\u7684\u884c\u4ee5\u53ca\u51cf\u5c11 DiskRowSets \u4e4b\u95f4\u7684\u4e3b\u952e\u4ea4\u53c9\u8303\u56f4\u3002\\n\\n\u524d\u9762\u63d0\u5230\u7684\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u6301\u4e45\u5316\u5230\u78c1\u76d8\u53ca\u5bf9\u6570\u636e\u8fdb\u884c\u5408\u5e76\u64cd\u4f5c\uff0c\u90fd\u662f\u7531\u4e00\u7ec4\u5355\u72ec\u7684\u540e\u53f0\u4efb\u52a1\u6765\u5b8c\u6210\uff0c\u4f46\u662f\u4ec0\u4e48\u65f6\u5019\u6267\u884c\u4ec0\u4e48\u64cd\u4f5c\u662f\u7531\u4e00\u4e2a\u8c03\u5ea6\u5668\u6765\u63a7\u5236\u7684\u3002\u6709\u8da3\u7684\u662f Kudu \u5c06\u8c03\u5ea6\u5668\u7684\u903b\u8f91\u62bd\u8c61\u6210\u4e86\u4e00\u4e2a[\u80cc\u5305\u95ee\u9898](https://en.wikipedia.org/wiki/Knapsack_problem)\uff0c\u53ea\u4e0d\u8fc7\u9700\u8981\u6743\u8861\u7684\u4e0d\u662f\u80cc\u5305\u5bb9\u91cf\uff0c\u800c\u662f I/O \u5e26\u5bbd\u3002\\n\\nKudu \u672c\u8eab\u53ea\u63d0\u4f9b\u7f16\u7a0b\u8bed\u8a00\u7ea7\u522b\u7684 API\uff08\u5982 Java\u3001C++\uff09\uff0c\u800c OLAP \u7cfb\u7edf\u4e2d\u5e38\u7528\u7684 SQL \u9700\u8981\u914d\u5408\u5176\u5b83\u9879\u76ee\u6765\u5b9e\u73b0\u3002Kudu \u539f\u751f\u5df2\u7ecf\u8ddf Spark \u548c Impala \u96c6\u6210\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u53ef\u4ee5\u5728\u8fd9\u4e24\u4e2a\u7cfb\u7edf\u4e2d\u901a\u8fc7 SQL \u6765\u67e5\u8be2\u3002\\n\\n\u6700\u540e\u662f\u6027\u80fd\u8bc4\u6d4b\u3002\u5728 [TPC-H](http://www.tpc.org/tpch) \u6570\u636e\u96c6\u4e0a\u4e0e Parquet \u8fdb\u884c\u5bf9\u6bd4\u6d4b\u8bd5\uff0cKudu \u5e73\u5747\u6709 31% \u7684\u6027\u80fd\u63d0\u5347\uff0c\u5c3d\u7ba1\u5982\u6b64 Kudu \u56e2\u961f\u8ba4\u4e3a\u968f\u7740 Parquet \u7684\u8fed\u4ee3\u8fd9\u4e2a\u5dee\u8ddd\u53ef\u80fd\u4f1a\u9010\u6e10\u7f29\u5c0f\u3002\u5728\u4e0e [Phoenix](http://phoenix.apache.org) \u7684\u5bf9\u6bd4\u6d4b\u8bd5\u4e2d\u4e5f\u6709 16~187 \u500d\u7684\u6027\u80fd\u63d0\u5347\u3002\u6700\u540e\u4e0e HBase \u8fdb\u884c\u7684 [YCSB](https://github.com/brianfrankcooper/YCSB) \u6d4b\u8bd5\u662f\u4e3a\u4e86\u770b\u770b Kudu \u5728 OLTP \u573a\u666f\u7684\u6027\u80fd\uff0c\u867d\u7136\u5b83\u672c\u8eab\u5e76\u4e0d\u662f\u4e3a OLTP \u573a\u666f\u800c\u8bbe\u8ba1\uff0c\u7ed3\u679c\u4e0a\u7684\u786e\u4e5f\u662f HBase \u8868\u73b0\u66f4\u597d\uff0c\u4f46 Kudu P99 6 \u6beb\u79d2\u7684\u54cd\u5e94\u65f6\u95f4\u5728\u67d0\u4e9b\u65f6\u5019\u4e5f\u8bb8\u53ef\u4ee5\u4ee3\u66ff OLTP \u7cfb\u7edf\u3002\\n\\nKudu \u7531 Cloudera \u516c\u53f8\u5f00\u53d1\u5e76\u4e8e 2016 \u5e74\u6b63\u5f0f\u53d1\u5e03\uff0c\u73b0\u5df2\u6350\u732e\u7ed9 Apache \u57fa\u91d1\u4f1a\uff0c\u6574\u4e2a\u7cfb\u7edf\u4f7f\u7528 C++ \u8bed\u8a00\u7f16\u5199\u3002\\n\\n\u987a\u5e26\u8bf4\u4e2a\u9898\u5916\u8bdd\u8fd9\u4e24\u5e74\u7092\u5f97\u6bd4\u8f83\u706b\u7684 [HTAP](https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing)\uff08Hybrid Transactional/Analytical Processing\uff09\uff0c\u672c\u8d28\u4e0a\u662f\u5e0c\u671b\u5728\u4e00\u4e2a\u5f15\u64ce\u4e2d\u540c\u65f6\u9002\u914d OLTP \u548c OLAP \u8fd9\u4e24\u4e2a\u573a\u666f\u3002\u4f46\u5728\u6211\u770b\u6765\u5c31\u76ee\u524d\u7684\u6280\u672f\u73b0\u72b6\u8fd9\u4e2a\u613f\u666f\u5b9e\u73b0\u8d77\u6765\u8fd8\u662f\u6bd4\u8f83\u56f0\u96be\uff0c\u8f6f\u4ef6\u5de5\u7a0b\u754c\u7684\u540d\u8a00[\u300c\u6ca1\u6709\u94f6\u5f39\u300d](https://en.wikipedia.org/wiki/No_Silver_Bullet)\u544a\u8bc9\u6211\u4eec\u4e0d\u5b58\u5728\u4e00\u4e2a\u53ef\u4ee5\u901a\u5403\u7684\u3001\u5b8c\u7f8e\u7684\u65b9\u6848\uff0c\u56e0\u6b64 HTAP \u76ee\u524d\u66f4\u591a\u8fd8\u53ea\u662f\u4e00\u4e2a\u8425\u9500\u6982\u5ff5\u5427\u3002\\n\\n## \u5b57\u8282\u8df3\u52a8\u81ea\u7814\u5f3a\u4e00\u81f4\u5728\u7ebf KV & \u8868\u683c\u5b58\u50a8\u5b9e\u8df5\\n\\n[[\u4e0a\u7bc7]](https://mp.weixin.qq.com/s/jdPE9WClBuimIHVxJnwwUw) [[\u4e0b\u7bc7]](https://mp.weixin.qq.com/s/DvUBnWBqb0XGnicKUb-iqg)\\n\\n[\u53c8](https://github.com/cockroachdb/cockroach)[\u53c8](https://github.com/pingcap/tidb)[\u53c8](https://github.com/dgraph-io/dgraph)[\u53c8](https://kudu.apache.org)[\u53c8](https://github.com/vesoft-inc/nebula)\u4e00\u4e2a\u53d7 Spanner \u542f\u53d1\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\uff08Google \u529f\u5fb7\u65e0\u91cf\uff01Jeff Dean \u4e07\u5bff\u65e0\u7586\uff01\uff09\uff0c\u8fd9\u6b21\u7684\u9879\u76ee\u6765\u81ea\u5b57\u8282\u8df3\u52a8\u3002\u5173\u952e\u8bcd\uff1arange \u5206\u5272\u3001Raft\u3001RocksDB\u3001MVCC\u3001\u5206\u5e03\u5f0f\u4e8b\u52a1\u3001SQL \u5c42\uff0c\u770b\u770b\u8fd9\u4e9b\u4e5f\u57fa\u672c\u80fd\u5bf9\u6574\u4f53\u8bbe\u8ba1\u731c\u4e2a\u516b\u4e5d\u4e0d\u79bb\u5341\u4e86\uff0c\u6bd4\u8f83\u6709\u4ef7\u503c\u7684\u4fe1\u606f\u662f\u5b66\u4e60\u5b66\u4e60\u5b57\u8282\u8df3\u52a8\u5728\u4ed6\u4eec\u7684\u5b9e\u8df5\u4e2d\u7684\u4e00\u4e9b\u7ecf\u9a8c\u3002\u9879\u76ee\u4f7f\u7528 C++ \u8bed\u8a00\u7f16\u5199\uff0c\u76ee\u524d\u6ca1\u6709\u5f00\u6e90\u3002\\n\\n## Challenges Supporting MIG in Kubernetes\\n\\n[[\u94fe\u63a5]](https://docs.google.com/document/d/1Dxx5MwG_GiBeKOuMNwv4QbO8OqA7XFdzn7fzzI7AQDg)\\n\\n\u968f\u7740\u6df1\u5ea6\u5b66\u4e60\u7684\u84ec\u52c3\u53d1\u5c55\uff0cGPU \u5171\u4eab\u9010\u6e10\u6210\u4e3a\u4e86 K8s \u793e\u533a\u7684\u4e00\u4e2a[\u70ed\u95e8\u8bdd\u9898](https://github.com/kubernetes/kubernetes/issues/52757)\u3002\u76ee\u524d NVIDIA \u5b98\u65b9\u63d0\u4f9b\u7684[\u8bbe\u5907\u63d2\u4ef6](https://github.com/NVIDIA/k8s-device-plugin)\u53ef\u4ee5\u7533\u8bf7\u7684\u6700\u5c0f\u8d44\u6e90\u7c92\u5ea6\u8fd8\u662f 1 \u4e2a GPU\uff0c\u4f46\u5f88\u591a\u65f6\u5019\u8d44\u6e90\u662f\u6d6a\u8d39\u7684\u3002\u4e3a\u4e86\u63d0\u5347 GPU \u7684\u8d44\u6e90\u5229\u7528\u7387\uff0c\u793e\u533a\u5df2\u7ecf\u51fa\u73b0\u4e86\u591a\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u4f8b\u5982\u5206\u522b\u6765\u81ea[\u963f\u91cc\u4e91](https://github.com/AliyunContainerService/gpushare-scheduler-extender)\u3001[\u817e\u8baf\u4e91](https://github.com/tkestack/gpu-manager)\u4ee5\u53ca [AWS](https://github.com/awslabs/aws-virtual-gpu-device-plugin) \u7684\u5b9e\u73b0\u3002\u73b0\u5728 NVIDIA \u5b98\u65b9\u7ec8\u4e8e\u5728\u65b0\u4e00\u4ee3\u7684 Ampere \u67b6\u6784\u786c\u4ef6\u4e0a\u539f\u751f\u652f\u6301\u4e86\u5171\u4eab\uff0c\u4e5f\u5c31\u662f\u6807\u9898\u4e2d\u7684 MIG\uff08Multi-Instance GPUs\uff09\u3002\u8fd9\u7bc7\u6587\u6863\u6765\u81ea NVIDIA \u56e2\u961f\uff0c\u9996\u5148\u4ecb\u7ecd\u4e86\u5f53\u524d\u662f\u5982\u4f55\u5728 K8s \u4e2d\u7ba1\u7406 GPU \u8d44\u6e90\u7684\uff0c\u7136\u540e\u4ecb\u7ecd\u4e86 MIG \u7684\u4e00\u4e9b\u6982\u5ff5\uff0c\u6700\u540e\u63d0\u8bae\u4e86 4 \u4e2a\u652f\u6301 MIG \u7684\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\u3002\u6574\u4f53\u611f\u89c9 GPU \u5171\u4eab\u8fd8\u662f\u6ca1\u6709 CPU \u7075\u6d3b\uff0c\u4e0d\u5c11\u5730\u65b9\u8bbe\u7f6e\u4e86\u9650\u5236\uff0c\u4f46\u6bd5\u7adf\u8fd9\u662f NVIDIA \u5b98\u65b9\u8fc8\u51fa\u7684\u7b2c\u4e00\u6b65\u3002\\n\\n## How to read deep learning papers?\\n\\n[[\u94fe\u63a5]](https://www.reddit.com/r/MachineLearning/comments/gi3ihe/d_how_to_read_deep_learning_papers)\\n\\nReddit \u4e0a\u4e00\u4e2a\u6709\u8da3\u7684\u8ba8\u8bba\uff1a\u5982\u4f55\u9605\u8bfb\u6df1\u5ea6\u5b66\u4e60\u7684\u8bba\u6587\uff1f\u6211\u4eec\u5e38\u5e38\u8c03\u4f83\u673a\u5668\u5b66\u4e60\u5c31\u662f\u5728\u300c\u70bc\u4e39\u300d\uff0c\u6ca1\u6709\u4eba\u80fd\u89e3\u91ca\u4e3a\u4ec0\u4e48\u7ed3\u679c\u5c31\u662f\u6709\u6548\u7684\uff0c\u53cd\u6b63[\u300cit just works\u300d](https://www.youtube.com/watch?v=YPN0qhSyWy8)\u3002\u6700\u9ad8\u7968\u7684\u8bc4\u8bba\u8bf4\u4f60\u4e0d\u9700\u8981\u63a5\u53d7\u8bba\u6587\u4e2d\u7684\u6bcf\u4e00\u4e2a\u89c2\u70b9\uff0c\u53ea\u8981\u628a\u6ce8\u610f\u529b\u96c6\u4e2d\u5728\u4f5c\u8005\u63d0\u4f9b\u7684\u8bc1\u636e\u5e76\u6709\u9009\u62e9\u6027\u5730\u8c03\u6574\u4f60\u7684\u60f3\u6cd5\u5c31\u597d\u4e86\u3002\u6b63\u597d\u524d\u6bb5\u65f6\u95f4\u524d\u5fae\u8f6f\u6267\u884c\u526f\u603b\u88c1\u6c88\u5411\u6d0b\u535a\u58eb\u505a\u4e86\u4e00\u4e2a\u4e3b\u9898\u540d\u4e3a[\u300cYou are how you read\u300d](https://www.bilibili.com/video/BV1df4y1m74k)\u7684\u6f14\u8bb2\uff0c\u4e3b\u8981\u5185\u5bb9\u5c31\u662f\u4e00\u4e9b\u9605\u8bfb\u8bba\u6587\u7684\u7ecf\u9a8c\uff08\u6709\u8da3\u7684\u662f\u6c88\u535a\u58eb\u5728\u51e0\u5e74\u524d\u8fd8\u5199\u8fc7\u4e00\u7bc7\u53eb\u505a[\u300cYou are what you write\u300d](https://www.linkedin.com/pulse/you-what-write-harry-shum)\u7684\u535a\u5ba2\uff09\u3002\\n\\n## Farewell, TensorFlow\\n\\n[[\u94fe\u63a5]](https://mrry.github.io/2020/05/10/farewell-tensorflow.html)\\n\\nTensorFlow \u6838\u5fc3\u5f00\u53d1\u8005\u3001Google Brain \u56e2\u961f\u7684 Derek Murray \u5ba3\u5e03\u79bb\u5f00\uff0c\u8fd9\u4f4d\u5927\u54e5\u5728 GitHub \u548c Stack Overflow \u4e0a\u90fd\u5f88\u6d3b\u8dc3\uff0c\u5982\u679c\u4f60\u7ecf\u5e38\u6d4f\u89c8\u793e\u533a\u5e94\u8be5\u5bf9\u4ed6\u7684\u5934\u50cf\u4e0d\u964c\u751f\u3002\u5728\u8fd9\u7bc7\u544a\u522b\u6587\u4e2d Murray \u63d0\u5230\u4e86\u5f88\u591a Google \u5185\u90e8\u5e2e\u52a9\u5de5\u7a0b\u5e08\u89e3\u51b3\u95ee\u9898\u7684\u5de5\u5177\uff0c\u5e76\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u8fd1\u671f\u5bf9 TensorFlow \u5e95\u5c42\u8fd0\u884c\u65f6\u8fdb\u884c\u7684\u4e00\u9879\u6027\u80fd\u4f18\u5316\u7684\u8fc7\u7a0b\uff0c\u5728\u90e8\u5206\u8bc4\u6d4b\u4e2d\u53ef\u4ee5\u63d0\u5347 10% \u7684\u63a8\u7406\u6027\u80fd\u3002\u8fd9\u4e2a\u4f18\u5316\u76ee\u524d\u5df2\u7ecf\u5408\u5165 master\uff0c\u5e76\u5c06\u5728 TensorFlow 2.3 \u53d1\u5e03\u3002"},{"id":"/2020/06/02/maybe-news-issue-2","metadata":{"permalink":"/blog/2020/06/02/maybe-news-issue-2","source":"@site/blog/2020-06-02-maybe-news-issue-2.md","title":"Maybe News Issue #2","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2020-06-02T09:25:45.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":11.24,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #2","date":"2020-06-02 09:25:45 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #3","permalink":"/blog/2020/06/10/maybe-news-issue-3"},"nextItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e94\uff09\uff1a\u5206\u5e03\u5f0f","permalink":"/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## In Search of an Understandable Consensus Algorithm (Extended Version)\\n\\n[[\u94fe\u63a5]](https://raft.github.io/raft.pdf)\\n\\n\u7ec8\u4e8e\u6709\u673a\u4f1a\u4ed4\u7ec6\u9605\u8bfb\u4e00\u904d Raft \u7684\u8bba\u6587\uff0c\u5982\u679c\u4f60\u8fd8\u4e0d\u4e86\u89e3 Raft \u662f\u4ec0\u4e48\u53ef\u4ee5\u770b\u770b\u6211\u8fc7\u53bb\u7684\u4e00\u7bc7\u4ecb\u7ecd\u5206\u5e03\u5f0f\u7cfb\u7edf\u57fa\u7840\u6982\u5ff5\u7684[\u6587\u7ae0](/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5)\u3002\\n\\nRaft \u4e3a\u8282\u70b9\u5b9a\u4e49\u4e86\u4e09\u79cd\u72b6\u6001\uff1aleader\u3001follower \u548c candidate\uff08\u4ee5\u53ca\u4e00\u4e2a\u975e\u6b63\u5f0f\u72b6\u6001 learner \u6216\u8005\u53eb\u505a non-voting member\uff09\u3002\u4e00\u4e2a\u96c6\u7fa4\u53ea\u4f1a\u6709 1 \u4e2a leader\uff0c\u5176\u4f59\u8282\u70b9\u90fd\u662f follower\u3002Leader \u8d1f\u8d23\u5904\u7406\u6240\u6709\u7684\u8bfb\u5199\u8bf7\u6c42\uff0c\u5982\u679c\u8bf7\u6c42 follower \u4f1a\u5931\u8d25\u5e76\u544a\u77e5\u5ba2\u6237\u7aef leader \u7684\u5730\u5740\u3002\\n\\n\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u81ea\u5df1\u7684 log\uff0clog \u4e2d\u6bcf\u4e2a\u6761\u76ee\u90fd\u6709\u4e00\u4e2a\u4e0b\u6807\uff08index\uff09\u3002\u8fd9\u4e2a log \u57fa\u672c\u7b97\u662f append-only \u7684\uff0c\u901a\u5e38\u4e5f\u9700\u8981\u6301\u4e45\u5316\u5230\u53ef\u9760\u7684\u5b58\u50a8\u4e0a\uff08\u4f8b\u5982\u78c1\u76d8\uff09\u3002\u5f53\u5904\u7406\u5199\u8bf7\u6c42\u65f6 leader \u4f1a\u9996\u5148\u66f4\u65b0\u81ea\u5df1\u7684 log\uff0c\u7136\u540e\u901a\u8fc7 RPC \u590d\u5236\u5230\u5176\u5b83\u8282\u70b9\uff0c\u53ea\u8981\u5927\u591a\u6570\uff08majority\uff09\u8282\u70b9\u66f4\u65b0\u6210\u529f leader \u5c31\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u8bf7\u6c42\u5df2\u7ecf committed\uff0c\u6b64\u65f6\u4f1a\u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001\u673a\uff08state machine\uff09\u5e76\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\u5982\u679c RPC \u8bf7\u6c42\u5931\u8d25 leader \u4f1a\u4e0d\u65ad\u91cd\u8bd5\u76f4\u5230\u6210\u529f\u3002\\n\\n\u5982\u679c\u51fa\u73b0\u5f02\u5e38\uff0c\u5982 leader \u5b95\u673a\u3001\u7f51\u7edc\u6545\u969c\u7b49\uff0c\u5c31\u53ef\u80fd\u89e6\u53d1 leader \u91cd\u65b0\u9009\u4e3e\u3002\u9009\u4e3e\u8fc7\u7a0b\u662f\u6240\u6709 follower \u4e3a candidate \u6295\u7968\uff0c\u53ea\u8981\u83b7\u5f97\u591a\u6570\u7968 candidate \u5c31\u4f1a\u5347\u7ea7\u4e3a leader\u3002\u5982\u679c\u6295\u7968\u5931\u8d25\u4f1a\u7ee7\u7eed\u65b0\u4e00\u8f6e\u9009\u4e3e\uff0c\u9009\u4e3e\u8fc7\u7a0b\u901a\u5e38\u662f\u6beb\u79d2\u7ea7\u7684\u3002\u6bcf\u4e00\u8f6e\u65b0\u7684\u9009\u4e3e\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u5bf9\u5e94\u7684 term\uff08\u4efb\u671f\uff09\uff0cRaft \u5728\u534f\u8bae\u4e0a\u4fdd\u8bc1\u4e86\u91cd\u65b0\u9009\u4e3e\u540e\u7684\u65b0 leader \u4e00\u5b9a\u662f\u5305\u542b\u4e4b\u524d\u6240\u6709 term \u5df2\u7ecf committed \u7684 log\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u65b0 leader \u9009\u4e3e\u6210\u529f\u4ee5\u540e\u9700\u8981\u9996\u5148\u8865\u4e0a\u7f3a\u5931\u7684\u6570\u636e\u3002\\n\\n\u5f53\u96c6\u7fa4\u9700\u8981\u4f38\u7f29\u65f6\uff0cleader \u4f1a\u9996\u5148\u5c06\u65e7\u96c6\u7fa4\u914d\u7f6e\uff08configuration\uff09\u548c\u65b0\u96c6\u7fa4\u914d\u7f6e\u5408\u5e76\u5230\u4e00\u8d77\u5e76\u901a\u8fc7 log \u7684\u5f62\u5f0f\u590d\u5236\u5230 follower\u3002\u6210\u529f\u6536\u5230\u8fd9\u4e2a\u5408\u5e76\u540e\u914d\u7f6e\u7684\u8282\u70b9\u4f1a\u7528\u8fd9\u4e2a\u914d\u7f6e\u66ff\u4ee3\u8001\u7684\u914d\u7f6e\u3002\u4e00\u65e6\u8fd9\u4e2a\u5408\u5e76\u540e\u7684\u914d\u7f6e committed\uff0cleader \u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u53ea\u5305\u542b\u65b0\u914d\u7f6e\u7684 log \u7ee7\u7eed\u590d\u5236\u5230 follower\u3002\u7b49\u5230\u65b0\u7684\u914d\u7f6e committed\uff0c\u65e7\u914d\u7f6e\u5c06\u4e0d\u518d\u751f\u6548\uff0c\u9700\u8981\u4e0b\u7ebf\u7684\u8282\u70b9\u4e5f\u53ef\u4ee5\u88ab\u5b89\u5168\u5173\u95ed\u3002\\n\\n\u968f\u7740\u65f6\u95f4\u589e\u957f\uff0clog \u7684\u5bb9\u91cf\u4f1a\u8d8a\u6765\u8d8a\u5927\uff0cRaft \u5f15\u5165\u4e86\u5feb\u7167\uff08snapshot\uff09\u673a\u5236\uff0c\u5b9a\u671f\u5c06 log \u538b\u7f29\u5230\u5feb\u7167\u6587\u4ef6\u3002\u8fd9\u4e2a\u5feb\u7167\u6587\u4ef6\u540c\u65f6\u4e5f\u53ef\u4ee5\u5e2e\u52a9\u65b0\u52a0\u5165\u7684\u8282\u70b9\u5feb\u901f\u8865\u4e0a\u7f3a\u5931\u7684\u6570\u636e\u3002\\n\\n\u603b\u7ed3\u4e00\u4e0b Raft \u7b97\u6cd5\u4fdd\u8bc1\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u5c5e\u6027\u59cb\u7ec8\u6210\u7acb\uff1a\\n\\n- **Election Safety**\uff1a\u5728\u4e00\u4e2a\u7279\u5b9a\u7684\u4efb\u671f\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a leader \u88ab\u9009\u4e3e\u51fa\u6765\\n- **Leader Append-Only**\uff1aleader \u6c38\u8fdc\u4e0d\u4f1a\u8986\u76d6\u6216\u8005\u5220\u9664 log \u4e2d\u7684\u6761\u76ee\uff0c\u53ea\u4f1a\u8ffd\u52a0\u65b0\u7684\u6761\u76ee\u3002\\n- **Log Matching**\uff1a\u5982\u679c\u4e24\u4efd log \u540c\u65f6\u5305\u542b\u4e00\u4e2a\u5177\u6709\u76f8\u540c\u4efb\u671f\u6570\u548c\u4e0b\u6807\u7684\u6761\u76ee\uff0c\u90a3\u4e48\u8fd9\u4e24\u4efd log \u4e2d\u8fd9\u4e2a\u4e0b\u6807\u4e4b\u524d\u7684\u6240\u6709\u6761\u76ee\u90fd\u5e94\u8be5\u662f\u4e00\u81f4\u7684\u3002\\n- **Leader Completeness**\uff1a\u5982\u679c\u67d0\u4e2a\u4efb\u671f\u4e2d\u7684\u4e00\u4e2a log \u6761\u76ee\u5df2\u7ecf committed\uff0c\u90a3\u4e48\u5728\u4e4b\u540e\u4efb\u671f\u4e2d\u9009\u4e3e\u51fa\u7684\u65b0 leader \u4e00\u5b9a\u5305\u542b\u8fd9\u4e2a\u6761\u76ee\u3002\\n- **State Machine Safety**\uff1a\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u5df2\u7ecf\u5c06\u4e00\u4e2a\u7ed9\u5b9a\u4e0b\u6807\u7684 log \u6761\u76ee\u66f4\u65b0\u5230\u81ea\u5df1\u7684\u72b6\u6001\u673a\uff0c\u90a3\u4e48\u5176\u5b83\u8282\u70b9\u4e0a\u540c\u6837\u7684\u4e0b\u6807\u4e00\u5b9a\u4e0d\u4f1a\u662f\u4e0d\u540c\u7684\u6761\u76ee\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u4f1a\u66f4\u65b0\u4e00\u4e2a\u4e0d\u540c\u7684\u6761\u76ee\u5230\u81ea\u5df1\u7684\u72b6\u6001\u673a\u3002\\n\\n\u66f4\u591a\u6709\u5173 Raft \u7684\u4fe1\u606f\u53ef\u4ee5\u67e5\u770b\u5b83\u7684[\u5b98\u7f51](https://raft.github.io)\uff0c\u5f3a\u70c8\u5efa\u8bae\u521d\u6b21\u63a5\u89e6\u4e00\u81f4\u6027\u534f\u8bae\u7684\u670b\u53cb\u770b\u770b\u7f51\u7ad9\u4e0a\u7684\u52a8\u753b\u6f14\u793a\uff0c\u975e\u5e38\u6709\u52a9\u4e8e\u5efa\u7acb\u4e00\u4e2a\u5f62\u8c61\u76f4\u89c2\u7684\u8ba4\u77e5\u3002\\n\\n## Scaling Raft\\n\\n[[\u94fe\u63a5]](https://www.cockroachlabs.com/blog/scaling-raft)\\n\\n\u4f5c\u4e3a\u524d\u9762\u4ecb\u7ecd Raft \u7684\u4e00\u7bc7\u884d\u751f\u9605\u8bfb\uff0c\u539f\u59cb\u7684 Raft \u5b9e\u73b0\u662f\u5c06\u6240\u6709\u8282\u70b9\u770b\u4f5c\u4e00\u4e2a group\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u5728\u67d0\u4e9b\u573a\u666f\uff08\u4f8b\u5982\u96c6\u7fa4\u89c4\u6a21\u5f88\u5c0f\uff09\u662f\u53ef\u884c\u7684\u3002\u4f46\u662f\u5f53\u96c6\u7fa4\u89c4\u6a21\u5927\u5230\u4e00\u5b9a\u7a0b\u5ea6\uff0c\u6216\u8005\u7c7b\u4f3c [CockroachDB](https://github.com/cockroachdb/cockroach) \u548c [TiKV](https://github.com/tikv/tikv) \u8fd9\u79cd\u5c06\u6570\u636e\u5212\u5206\u4e3a\u975e\u5e38\u591a\u7684 range\uff0c\u591a\u4e2a range \u7ec4\u6210\u4e00\u4e2a Raft group \u7684\u573a\u666f\uff08\u901a\u5e38\u53eb\u505a Multi-Raft\uff09\uff0c\u5c31\u4f1a\u53d1\u73b0 Raft \u7684\u57fa\u7840\u7f51\u7edc\u901a\u4fe1\u5df2\u7ecf\u8db3\u4ee5\u5f71\u54cd\u5355\u8282\u70b9\u7684\u6027\u80fd\uff08\u6bd4\u5982\u8fc7\u591a\u7684\u5fc3\u8df3\u8bf7\u6c42\uff09\u3002\u56e0\u6b64\u793e\u533a\u5df2\u7ecf\u9488\u5bf9\u8fd9\u6837\u7684\u95ee\u9898\u6709\u4e86\u4e00\u4e9b\u4f18\u5316\u65b9\u6848\uff0c\u6bd4\u5982 [CockroachDB \u7684\u65b9\u6848](https://github.com/cockroachdb/cockroach/issues/357)\u548c [TiKV \u7684\u65b9\u6848](https://github.com/tikv/tikv/pull/4591)\u3002\u8fd9\u4e24\u4e2a\u65b9\u6848\u90fd\u5f88\u7c7b\u4f3c\uff0c\u57fa\u672c\u601d\u60f3\u662f\u6682\u505c\u90a3\u4e9b\u4e0d\u6d3b\u8dc3\u7684 Raft group \u7684\u7f51\u7edc\u901a\u4fe1\uff0c\u7b49\u5230\u9700\u8981\u7684\u65f6\u5019\u518d\u5524\u9192\u3002\\n\\n## Why Generics?\\n\\n[[\u94fe\u63a5]](https://blog.golang.org/why-generics)\\n\\n\u8fd9\u7bc7\u6587\u7ae0\u662f Ian Lance Taylor \u5728 GopherCon 2019 \u6f14\u8bb2\u7684\u6587\u5b57\u7248\uff08\u6587\u7ae0\u4e2d\u4e5f\u9644\u5e26\u4e86\u89c6\u9891\uff09\uff0c\u4e3b\u8981\u4ecb\u7ecd\u4e86\u76ee\u524d Go \u7684\u6838\u5fc3\u5f00\u53d1\u8005\u5173\u4e8e\u6cdb\u578b\uff08generics\uff09\u7684\u4e00\u4e9b\u601d\u8003\u3002\u603b\u7684\u6765\u8bf4 Go \u6838\u5fc3\u56e2\u961f\u7684\u8bbe\u8ba1\u601d\u60f3\u8fd8\u662f\u4fdd\u6301 Go \u8bed\u8a00\u4e00\u8d2f\u7684\u7b80\u6d01\uff0c\u4e0d\u5e0c\u671b\u5f15\u5165\u8fc7\u591a\u7684\u6982\u5ff5\u548c\u590d\u6742\u6027\u3002\u5927\u90e8\u5206\u65b0\u589e\u7684\u8bed\u6cd5\u7279\u6027\u90fd\u7531\u63d0\u4f9b\u6cdb\u578b\u63a5\u53e3\u7684\u5f00\u53d1\u8005\u6765\u5b66\u4e60\uff0c\u5bf9\u4e8e\u4f7f\u7528\u8005\u6765\u8bf4\u548c\u8c03\u7528\u666e\u901a\u63a5\u53e3\u51e0\u4e4e\u6ca1\u6709\u533a\u522b\u3002\u65e9\u5728 2016 \u5e74\u793e\u533a\u5c31\u5df2\u7ecf\u6709\u4e86 [#15292](https://github.com/golang/go/issues/15292) \u8fd9\u4e2a\u5173\u4e8e\u6cdb\u578b\u7684\u8ba8\u8bba\uff0c\u5e76\u4e14\u8fd8\u5728\u6301\u7eed\u66f4\u65b0\u4e2d\uff0c\u76ee\u524d\u5df2\u7ecf\u6709\u4e86 710 \u6761\u8bc4\u8bba\uff0cIan Lance Taylor \u4e5f\u5728\u5176\u4e2d\u79ef\u6781\u56de\u590d\u3002\u867d\u7136\u8fd9\u4e2a issue \u6253\u4e0a\u4e86 Go2 \u7684\u6807\u7b7e\uff0c\u4f46\u6cdb\u578b\u7279\u6027\u662f\u5426\u80fd\u5728 Go \u8bed\u8a00\u7684 2.0 \u7248\u672c\u4e2d\u51fa\u73b0\u73b0\u5728\u8fd8\u662f\u4e2a\u672a\u77e5\u6570\u3002\\n\\n## The Open Application Model from Alibaba\u2019s Perspective\\n\\n[[\u94fe\u63a5]](https://www.infoq.com/articles/oam-alibaba)\\n\\n\u963f\u91cc\u4e91\u548c\u5fae\u8f6f\u5728\u53bb\u5e74[\u5171\u540c\u5ba3\u5e03](https://cloudblogs.microsoft.com/opensource/2019/10/16/announcing-open-application-model)\u4e86 Open Application Model\uff08OAM\uff09\uff0cOAM \u7ec4\u7ec7\u7684[\u6838\u5fc3\u6210\u5458](https://github.com/orgs/oam-dev/people)\u540c\u65f6\u4e5f\u662f\u524d CoreOS \u56e2\u961f\u6210\u5458\u4ee5\u53ca etcd\u3001K8s Operator \u7684\u521b\u9020\u8005\u3002\u7b80\u5355\u7406\u89e3 OAM \u5c31\u662f\u5e0c\u671b\u5c06\u4f20\u7edf\u7684 K8s YAML \u914d\u7f6e\u62bd\u8c61\u6210\u4e24\u90e8\u5206\uff1a\u5f00\u53d1\u8005\u548c\u8fd0\u7ef4\uff0c\u5f00\u53d1\u8005\u7684\u914d\u7f6e\u4e2d\u53ea\u5305\u542b\u4e0e\u4e1a\u52a1\u6700\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u800c\u8fd0\u7ef4\u7684\u914d\u7f6e\u4e2d\u5219\u5305\u542b\u4e0e\u8fd0\u884c\u73af\u5883\u76f8\u5173\u7684\u5185\u5bb9\u3002\u672c\u8d28\u4e0a\u662f\u5e0c\u671b\u5c06\u5f00\u53d1\u8005\u548c\u8fd0\u7ef4\u7684\u754c\u7ebf\u5206\u5f97\u66f4\u6e05\u695a\uff0c\u8ba9\u4e0d\u540c\u7684\u89d2\u8272\u66f4\u4e13\u6ce8\u4e8e\u81ea\u5df1\u7684\u9886\u57df\u3002\u5728\u6211\u770b\u6765 OAM \u7684\u597d\u5904\u5f53\u7136\u662f\u964d\u4f4e\u4e86\u666e\u901a\u5f00\u53d1\u8005\u63a5\u5165 K8s \u7684\u95e8\u69db\uff0c\u6240\u8c13\u5927\u9053\u81f3\u7b80\uff0c\u4f46\u8fd9\u79cd\u8868\u9762\u4e0a\u7684\u300c\u7b80\u300d\u80cc\u540e\u9690\u85cf\u7684\u590d\u6742\u6027\u4e5f\u662f\u4e0d\u80fd\u5ffd\u7565\u7684\u3002\u7406\u60f3\u60c5\u51b5\u662f\u67d0\u4e2a\u4e91\u670d\u52a1\u5546\u80fd\u591f\u5b8c\u5168\u5305\u529e\u6240\u6709\u8ddf\u8fd0\u7ef4\u6709\u5173\u7684\u4e8b\u60c5\uff0c\u7528\u6237\u53ea\u9700\u8981\u8d1f\u8d23\u4e1a\u52a1\u5f00\u53d1\u5c31\u597d\u4e86\u3002\u4f46\u73b0\u72b6\u8fd8\u662f\u4e0d\u7ba1\u591a\u5c0f\u7684\u516c\u53f8\u90fd\u80af\u5b9a\u4f1a\u6709\u4e13\u4eba\u5728\u8d1f\u8d23\u8fd0\u7ef4\u5de5\u4f5c\u3002\u5f88\u591a\u5e74\u524d Google App Engine \u521a\u8bde\u751f\u65f6\u8ba9\u6240\u6709\u4eba\u90fd\u773c\u524d\u4e00\u4eae\uff0c\u90fd\u8ba4\u4e3a\u8fd9\u624d\u662f\u8f6f\u4ef6\u5f00\u53d1\u7684\u672a\u6765\u554a\uff0c\u4f46\u5373\u4f7f\u662f Google \u4e5f\u6ca1\u80fd\u8ba9\u8fd9\u4e2a\u8d8b\u52bf\u6301\u7eed\u4e0b\u53bb\u3002\u6700\u8fd1\u51e0\u5e74\u8fd9\u4e2a\u8d8b\u52bf\u53c8\u5f00\u59cb\u56de\u6f6e\uff0c\u53ea\u4e0d\u8fc7\u6362\u4e86\u4e00\u4e2a\u540d\u5b57\u53eb\u505a\u300cServerless\u300d\uff0c\u5e0c\u671b\u8fd9\u4e00\u6b21\u80fd\u591f\u6301\u7eed\u4e0b\u53bb\uff0c\u867d\u7136\u8fd8\u6709\u5f88\u957f\u7684\u8def\u8981\u8d70\u3002\\n\\n## Lightweight coscheduling based on back-to-back queue sorting\\n\\n[[\u94fe\u63a5]](https://github.com/kubernetes-sigs/scheduler-plugins/blob/master/kep/20200116-lightweight-coscheduling-based-on-back-to-back-queue-sorting.md)\\n\\n\u81ea\u4ece K8s 1.15 \u65b0\u589e\u4e86 [Scheduling Framework](https://kubernetes.io/docs/concepts/scheduling-eviction/scheduling-framework) \u4ee5\u540e\uff0c\u539f\u751f\u8c03\u5ea6\u5668\u7684\u6269\u5c55\u6027\u6709\u4e86\u5f88\u5927\u7a0b\u5ea6\u7684\u589e\u5f3a\u3002\u8fd9\u4e2a KEP \u6765\u81ea\u963f\u91cc\u4e91\u56e2\u961f\uff0c\u63d0\u51fa\u4e86\u57fa\u4e8e Scheduling Framework \u6765\u5b9e\u73b0 coscheduling\uff08\u6216\u8005\u53eb\u505a gang scheduling\uff09\u3002Coscheduling \u8fd9\u4e2a\u7279\u6027\u5bf9\u4e8e\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u6765\u8bf4\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u4e00\u4e2a\u4efb\u52a1\u901a\u5e38\u5305\u542b\u591a\u4e2a pod\uff0c\u53ea\u6709\u5f53\u591a\u4e2a pod \u80fd\u591f\u540c\u65f6\u8fd0\u884c\u65f6\u8fd9\u4e2a\u4efb\u52a1\u624d\u7b97\u662f\u6b63\u5e38\u8fd0\u884c\uff0c\u5982\u679c\u53ea\u6709\u90e8\u5206 pod \u53ef\u4ee5\u8fd0\u884c\u5176\u5b9e\u662f\u4e00\u79cd\u8d44\u6e90\u7684\u6d6a\u8d39\u3002\u56e0\u6b64 coscheduling \u4fdd\u8bc1\u7684\u5c31\u662f\u4e00\u4e2a\u4efb\u52a1\u5fc5\u987b\u6ee1\u8db3\u4e00\u5b9a\u6570\u91cf\u7684 pod \u90fd\u80fd\u591f\u88ab\u8c03\u5ea6\u65f6\u624d\u4f1a\u5b9e\u9645\u5206\u914d\u8d44\u6e90\u3002\u8fd9\u4e2a\u7279\u6027\u5728 K8s \u793e\u533a\u65e9\u6709\u8ba8\u8bba\uff0c\u4e5f\u8bde\u751f\u4e86\u4e00\u4e9b\u76f8\u5173\u8054\u7684\u9879\u76ee\uff0c\u5982 [Volcano](https://volcano.sh)\uff08\u524d\u8eab\u662f [kube-batch](https://github.com/kubernetes-sigs/kube-batch)\uff09\u30025 \u6708\u521d\u8fd9\u4e2a\u63d2\u4ef6\u7684\u7b2c\u4e00\u7248\u5df2\u7ecf\u88ab [merge](https://github.com/kubernetes-sigs/scheduler-plugins/pull/4) \u5230 scheduler-plugins \u9879\u76ee\u3002\\n\\n## Scheduler Support for Elastic Quota Management\\n\\n[[\u94fe\u63a5]](https://docs.google.com/document/d/1ViujTXLP1XX3WKYUTk6u5LTdJ1sX-tVIw9_t9_mLpIc/edit?usp=sharing)\\n\\n\u540c\u6837\u662f\u4e0e K8s \u76f8\u5173\u7684\u4e00\u4e2a\u8ba8\u8bba\uff0c\u4e5f\u540c\u6837\u6765\u81ea\u963f\u91cc\u4e91\u56e2\u961f\u3002`ResourceQuota` \u662f K8s \u76ee\u524d\u63d0\u4f9b\u7684\u4e00\u79cd\u9650\u5236\u67d0\u4e2a namespace \u6700\u5927\u8d44\u6e90\u4f7f\u7528\u91cf\u7684\u65b9\u5f0f\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u7684\u591a\u79df\u6237\u573a\u666f\u4e2d\uff0c`ResourceQuota` \u5f80\u5f80\u663e\u5f97\u4e0d\u591f\u7075\u6d3b\u3002\u5f88\u591a\u65f6\u5019\u6211\u4eec\u662f\u5e0c\u671b\u7ed9\u6bcf\u4e2a\u79df\u6237\u4e00\u4e2a\u53ef\u4ee5\u4fdd\u8bc1\uff08guarantee\uff09\u7684\u6700\u5c0f\u8d44\u6e90\u91cf\uff0c\u4ee5\u53ca\u4e00\u4e2a\u8d85\u5356\u7684\u6700\u5927\u8d44\u6e90\u91cf\u3002\u5f53\u67d0\u4e2a\u79df\u6237\u7684\u8d44\u6e90\u6bd4\u8f83\u7a7a\u95f2\u65f6\uff0c\u5c31\u5141\u8bb8\u5176\u5b83\u79df\u6237\u4e34\u65f6\u79df\u7528\u3002\u4f46\u662f\u8c03\u5ea6\u5668\u4e5f\u8981\u4fdd\u969c\u8fd9\u4e2a\u79df\u6237\u6709\u80fd\u529b\u5728\u5fc5\u8981\u7684\u65f6\u5019\u53ef\u4ee5\u62ff\u56de\u8fd9\u4e9b\u88ab\u79df\u7528\u7684\u8d44\u6e90\uff0c\u8fd9\u901a\u5e38\u662f\u901a\u8fc7\u62a2\u5360\uff08preemption\uff09\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u3002\u8fd9\u4e2a\u63d0\u6848\u5c31\u63d0\u51fa\u4e86\u6269\u5c55 `ResourceQuota` \u6765\u5b9e\u73b0\u7c7b\u4f3c\u529f\u80fd\u7684\u60f3\u6cd5\u3002"},{"id":"/2020/05/25/how-to-design-a-distributed-index-framework-part-5","metadata":{"permalink":"/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5","source":"@site/blog/2020-05-25-how-to-design-a-distributed-index-framework-part-5.md","title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e94\uff09\uff1a\u5206\u5e03\u5f0f","description":"\u8fd9\u662f\u4e00\u4e2a\u7cfb\u5217\u6587\u7ae0\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002","date":"2020-05-25T11:21:49.000Z","tags":[{"inline":true,"label":"index","permalink":"/blog/tags/index"},{"inline":true,"label":"distrubted","permalink":"/blog/tags/distrubted"},{"inline":true,"label":"htdadif","permalink":"/blog/tags/htdadif"},{"inline":true,"label":"recommendation","permalink":"/blog/tags/recommendation"},{"inline":true,"label":"machine learning","permalink":"/blog/tags/machine-learning"}],"readingTime":15.05,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e94\uff09\uff1a\u5206\u5e03\u5f0f","date":"2020-05-25 11:21:49 +0800","tags":["index","distrubted","htdadif","recommendation","machine learning"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #2","permalink":"/blog/2020/06/02/maybe-news-issue-2"},"nextItem":{"title":"Maybe News Issue #1","permalink":"/blog/2020/05/21/maybe-news-issue-1"}},"content":"> \u8fd9\u662f\u4e00\u4e2a[\u7cfb\u5217\u6587\u7ae0](/blog/tags/htdadif)\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002\\n\\n\u524d\u9762\u51e0\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u7684\u6280\u672f\u90fd\u662f\u5728\u5355\u673a\u4e0a\u5b9e\u73b0\u7684\uff0c\u4f46\u5982\u679c\u505a\u4e0d\u5230\u5206\u5e03\u5f0f\u90a3\u6574\u4e2a\u7cfb\u7edf\u7684\u6269\u5c55\u6027\u5c06\u4f1a\u53d7\u5230\u975e\u5e38\u5927\u7684\u9650\u5236\u3002\u672c\u7bc7\u6587\u7ae0\u5c06\u4f1a\u56f4\u7ed5\u5206\u5e03\u5f0f\u8fd9\u4e2a\u8bdd\u9898\u8ba8\u8bba\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u6570\u636e\u5206\u5272\uff08Partition\uff09\\n\\n\u5206\u5e03\u5f0f\u5b58\u50a8\u5f88\u5927\u4e00\u4e2a\u76ee\u7684\u662f\u4e3a\u4e86\u5c06\u6570\u636e\u5206\u5e03\u5230\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u4ee5\u7a81\u7834\u5355\u673a\u7684\u5b58\u50a8\u9650\u5236\uff0c\u5b9e\u73b0\u6c34\u5e73\u6269\u5c55\uff08horizontal scaling\uff09\u3002\u56e0\u6b64\u8fd9\u5c31\u6d89\u53ca\u5230\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u95ee\u9898\uff1a\u8981\u5982\u4f55\u5c06\u6570\u636e\u5206\u5e03\u5230\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\uff1f\u53ef\u80fd\u7684\u51e0\u79cd\u505a\u6cd5\u6709\uff1a\\n\\n1. \u968f\u673a\uff1a\u6bcf\u4e00\u6761\u6570\u636e\u90fd\u968f\u673a\u5206\u914d\u5230\u67d0\u4e2a\u8282\u70b9\u4e0a\\n2. \u8f6e\u8be2\uff08round-robin\uff09\uff1a\u901a\u8fc7\u8f6e\u8be2\u7684\u65b9\u5f0f\u5c06\u6570\u636e\u5206\u914d\u5230\u8282\u70b9\u4e0a\uff0c\u4f8b\u5982\u7b2c 1 \u6761\u6570\u636e\u5206\u914d\u5230\u8282\u70b9 1\uff0c\u7b2c 2 \u6761\u6570\u636e\u5c31\u5206\u914d\u5230\u8282\u70b9 2\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\\n3. \u54c8\u5e0c\uff08hash\uff09\uff1a\u901a\u8fc7\u67d0\u79cd\u54c8\u5e0c\u7b97\u6cd5\u5c06\u6570\u636e\u4e2d\u7684\u67d0\u4e2a key \u6620\u5c04\u5230\u4e00\u4e2a\u56fa\u5b9a\u7684\u503c\uff0c\u6839\u636e\u8fd9\u4e2a\u503c\u6765\u5206\u914d\u8282\u70b9\u3002\\n4. \u8303\u56f4\uff08range\uff09\uff1a\u5212\u5b9a\u4e00\u4e9b\u8303\u56f4\uff0c\u5e76\u5c06\u8fd9\u4e9b\u8303\u56f4\u4e0e\u8282\u70b9\u8fdb\u884c\u6620\u5c04\uff0c\u5f53\u6570\u636e\u4e2d\u7684\u67d0\u4e2a key \u5c5e\u4e8e\u67d0\u4e2a\u8303\u56f4\u65f6\u5c31\u5206\u914d\u5230\u5bf9\u5e94\u7684\u8282\u70b9\u4e0a\u3002\\n\\n\u65b9\u6848 1 \u663e\u7136\u662f\u6700\u7b80\u5355\u7684\uff0c\u4f46\u4e5f\u662f\u6700\u4e0d\u53ef\u884c\u7684\u3002\u8fd9\u4e2a\u65b9\u6848\u6709\u4e24\u4e2a\u5927\u95ee\u9898\uff1a\u56e0\u4e3a\u6570\u636e\u662f\u968f\u673a\u5206\u914d\u7684\uff0c\u56e0\u6b64\u5728\u67e5\u8be2\u67d0\u4e00\u6761\u6570\u636e\u65f6\u5fc5\u987b\u8bf7\u6c42\u6240\u6709\u8282\u70b9\uff1b\u540c\u6837\u56e0\u4e3a\u968f\u673a\u5206\u914d\u7684\u5173\u7cfb\uff0c\u4e0d\u540c\u8282\u70b9\u4e4b\u95f4\u7684\u6570\u636e\u91cf\u53ef\u80fd\u662f\u975e\u5e38\u4e0d\u5747\u8861\u7684\u3002\\n\\n\u65b9\u6848 2 \u76f8\u6bd4\u65b9\u6848 1 \u7a0d\u5fae\u6539\u8fdb\u4e86\u4e00\u70b9\uff0c\u8f6e\u8be2\u7684\u65b9\u5f0f\u53ef\u4ee5\u57fa\u672c\u4fdd\u8bc1\u6570\u636e\u5206\u5e03\u662f\u5747\u8861\u7684\uff0c\u4f46\u662f\u5728\u67e5\u8be2\u65f6\u8fd8\u662f\u5fc5\u987b\u8bf7\u6c42\u6240\u6709\u8282\u70b9\u3002\\n\\n\u65b9\u6848 3 \u57fa\u672c\u89e3\u51b3\u4e86\u524d\u9762\u63d0\u5230\u7684\u4e24\u4e2a\u95ee\u9898\uff0c\u54c8\u5e0c\u7b97\u6cd5\u901a\u5e38\u662f\u7a33\u5b9a\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u901a\u8fc7\u67d0\u4e2a key \u5f97\u5230\u7684\u54c8\u5e0c\u503c\u662f\u56fa\u5b9a\u7684\u3002\u6bd4\u5982\u6700\u7b80\u5355\u7684\u54c8\u5e0c\u7b97\u6cd5\u53d6\u6a21\u8fd0\u7b97\uff0c\u5c06 key \u6a21\u4e0a\u96c6\u7fa4\u7684\u8282\u70b9\u6570 `key mod N`\uff0c\u5c31\u53ef\u4ee5\u7b97\u51fa\u8fd9\u4e2a key \u5e94\u8be5\u5206\u914d\u7684\u8282\u70b9\u3002\u4e0d\u8fc7\u53d6\u6a21\u8fd0\u7b97\u867d\u7136\u7b80\u5355\u4f46\u4e5f\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u6700\u660e\u663e\u7684\u5c31\u662f\u5f53\u6dfb\u52a0\u65b0\u8282\u70b9\u6216\u8005\u5220\u9664\u8001\u8282\u70b9\u7684\u65f6\u5019\u4f1a\u9020\u6210\u5927\u91cf\u7684\u6570\u636e\u91cd\u65b0\u5206\u914d\uff08rebalance\uff09\u3002\u56e0\u6b64\u6bd4\u8f83\u5e38\u89c1\u7684\u6539\u8fdb\u65b9\u6848\u662f\u91c7\u7528[\u4e00\u81f4\u6027\u54c8\u5e0c](https://en.wikipedia.org/wiki/Consistent_hashing)\uff08consistent hashing\uff09\uff0c\u4e00\u81f4\u6027\u54c8\u5e0c\u53ef\u4ee5\u663e\u8457\u964d\u4f4e\u6570\u636e\u91cd\u65b0\u5206\u914d\u8fd9\u4e2a\u8fc7\u7a0b\u9700\u8981\u8fc1\u79fb\u7684\u6570\u636e\u91cf\u3002Amazon \u7684 [Dynamo](https://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf) \u4fbf\u662f\u91c7\u7528\u4e00\u81f4\u6027\u54c8\u5e0c\u8fdb\u884c\u6570\u636e\u5206\u5272\u7684\u4e00\u4e2a\u5f88\u597d\u7684\u4f8b\u5b50\uff0cCassandra \u7684[\u5b98\u65b9\u6587\u6863](https://cassandra.apache.org/doc/latest/architecture/dynamo.html)\u91cc\u4e5f\u4ecb\u7ecd\u4e86\u7c7b\u4f3c\u7684\u5185\u5bb9\u3002\u4f46\u662f\u4e00\u81f4\u6027\u54c8\u5e0c\u4e5f\u4e0d\u662f\u6ca1\u6709\u7f3a\u70b9\uff0c\u5f53\u96c6\u7fa4\u8282\u70b9\u6570\u8f83\u5c11\u65f6\u8fd8\u662f\u6709\u53ef\u80fd\u9020\u6210\u6570\u636e\u5206\u5e03\u4e0d\u5747\u8861\uff0c\u56e0\u6b64 Dynamo \u63d0\u51fa\u4e86\u901a\u8fc7\u589e\u52a0\u865a\u62df\u8282\u70b9\uff08virtual node\uff09\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003\u8bba\u6587\u6216\u8005 Cassandra \u7684\u6587\u6863\u3002\\n\\n\u65b9\u6848 4 \u4e5f\u80fd\u5b9e\u73b0\u7a33\u5b9a\u67e5\u8be2\uff0c\u4f8b\u5982\u5c06\u6570\u636e key \u7684\u9996\u5b57\u6bcd\u9650\u5b9a\u5728 a-z \u8fd9 26 \u4e2a\u5b57\u6bcd\u4e2d\uff0c\u518d\u5c06 a-z \u7b49\u5206\u4e3a\u51e0\u4e2a\u8303\u56f4\uff08range\uff09\uff0c\u90a3\u4e48\u5c31\u80fd\u6839\u636e key \u7684\u9996\u5b57\u6bcd\u786e\u5b9a\u5c5e\u4e8e\u54ea\u4e2a\u8303\u56f4\u3002\u540c\u65f6\u6bcf\u4e2a\u8282\u70b9\u4f1a\u5305\u542b 1 \u4e2a\u6216\u591a\u4e2a\u8303\u56f4\uff0c\u4fbf\u80fd\u5c06 key \u5206\u914d\u5230\u67d0\u4e2a\u8282\u70b9\u4e0a\u3002HBase \u4fbf\u662f\u91c7\u7528\u8303\u56f4\u5206\u5272\u6570\u636e\u7684\u4e00\u4e2a\u6848\u4f8b\uff0c\u4f46\u662f\u7531\u4e8e HBase \u4e0d\u4f1a\u9884\u5148\u4e3a\u6240\u6709\u8282\u70b9\u7ed1\u5b9a\u8303\u56f4\uff0c\u56e0\u6b64\u5728\u5b9e\u8df5\u4e2d\u901a\u5e38\u8fd8\u8981\u7ed3\u5408 [pre-split](https://hbase.apache.org/book.html#tricks.pre-split) \u6765\u907f\u514d\u6570\u636e\u90fd\u96c6\u4e2d\u5728\u5c11\u6570\u8282\u70b9\u4e2d\u3002\u56e0\u4e3a\u6bcf\u4e2a\u8303\u56f4\u90fd\u662f\u8fde\u7eed\u7684\uff0c\u6240\u4ee5\u65b9\u6848 4 \u76f8\u6bd4\u65b9\u6848 3 \u7684\u4e00\u4e2a\u4f18\u52bf\u662f\u5bf9\u4e8e\u8303\u56f4\u626b\u63cf\uff08range scan\uff09\u7684\u652f\u6301\u66f4\u597d\u3002\\n\\n\u7efc\u5408\u6765\u770b\u65b9\u6848 3 \u548c\u65b9\u6848 4 \u90fd\u662f\u53ef\u884c\u7684\u65b9\u6848\uff0c\u5b83\u4eec\u4e5f\u90fd\u6709\u5404\u81ea\u7684\u4e00\u4e9b\u4f18\u7f3a\u70b9\uff0c\u5982\u4f55\u9009\u62e9\u8fd8\u5f97\u770b\u5177\u4f53\u7684\u4f7f\u7528\u573a\u666f\u3002\\n\\n## \u6570\u636e\u590d\u5236\uff08Replication\uff09\\n\\n\u6570\u636e\u5206\u5e03\u5230\u591a\u4e2a\u8282\u70b9\u4e0a\u4ee5\u540e\uff0c\u867d\u7136\u6269\u5c55\u6027\uff08scalability\uff09\u5f97\u5230\u4e86\u6ee1\u8db3\uff0c\u4f46\u662f\u968f\u7740\u8282\u70b9\u6570\u7684\u589e\u591a\uff0c\u53ef\u7528\u6027\uff08availability\uff09\u7684\u91cd\u8981\u6027\u4f1a\u9010\u6e10\u51f8\u663e\u51fa\u6765\u3002\u8282\u70b9\u56e0\u4e3a\u5404\u79cd\u539f\u56e0\u4e0b\u7ebf\u662f\u975e\u5e38\u666e\u904d\u7684\uff0c\u4e00\u65e6\u8282\u70b9\u4e0b\u7ebf\u90a3\u8fd9\u53f0\u8282\u70b9\u4e0a\u7684\u6570\u636e\u5c06\u65e0\u6cd5\u8bbf\u95ee\u3002\u56e0\u6b64\u4e3a\u4e86\u4fdd\u969c\u53ef\u7528\u6027\uff0c\u901a\u5e38\u4f1a\u901a\u8fc7\u5197\u4f59\u5b58\u50a8\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\uff0c\u4e5f\u5c31\u662f\u4e3a\u6bcf\u4e00\u4efd\u6570\u636e\u65b0\u589e\u591a\u4e2a\u526f\u672c\uff08replica\uff09\uff0c\u7136\u540e\u5c06\u526f\u672c\u5206\u6563\u5230\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\uff0c\u53ea\u8981\u8fd8\u6709\u81f3\u5c11 1 \u4e2a\u526f\u672c\u5b58\u5728\u90a3\u5373\u4f7f\u90e8\u5206\u8282\u70b9\u4e0b\u7ebf\u4e5f\u80fd\u7ee7\u7eed\u8bbf\u95ee\u6570\u636e\u3002\u4e3a\u4e86\u5b9e\u73b0\u591a\u526f\u672c\u4e5f\u6709\u51e0\u79cd\u53ef\u80fd\u7684\u65b9\u6848\uff1a\\n\\n1. \u8282\u70b9\u7ec4\uff08node group\uff09\uff1a\u4e3a\u6bcf\u4e2a\u8282\u70b9\u521b\u5efa\u591a\u4e2a\u526f\u672c\u8282\u70b9\uff0c\u8fd9\u4e9b\u8282\u70b9\u5171\u540c\u7ec4\u6210\u4e00\u4e2a\u8282\u70b9\u7ec4\u3002\u4e00\u4e2a\u8282\u70b9\u7ec4\u5185\u90e8\u7684\u6570\u636e\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u4e0d\u540c\u8282\u70b9\u7ec4\u4e4b\u95f4\u7684\u6570\u636e\u662f\u4e0d\u540c\u7684\u3002\\n2. \u6df7\u5408\uff08hybrid\uff09\uff1a\u6bcf\u4e2a\u8282\u70b9\u4e0d\u4ec5\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684\u6570\u636e\uff0c\u540c\u65f6\u8fd8\u5b58\u50a8\u4e86\u5176\u5b83\u8282\u70b9\u6570\u636e\u7684\u526f\u672c\u3002\\n\\n\u65b9\u6848 1 \u4e2d\u8282\u70b9\u7ec4\u4e4b\u95f4\u7684\u6570\u636e\u56e0\u4e3a\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u56e0\u6b64\u5b9e\u73b0\u548c\u7ef4\u62a4\u76f8\u5bf9\u6765\u8bf4\u90fd\u4f1a\u6bd4\u8f83\u7b80\u5355\uff0c\u65b0\u589e\u526f\u672c\u5c31\u53ea\u9700\u8981\u5728\u6bcf\u4e2a\u8282\u70b9\u7ec4\u4e2d\u65b0\u589e\u8282\u70b9\u5373\u53ef\u3002\u6211\u4eec\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u7ecf\u5e38\u89c1\u5230\u4e3b\uff08master\uff09\u4ece\uff08slave\uff09\u8282\u70b9\u7684\u6982\u5ff5\uff0c\u8fd9\u91cc\u53ef\u4ee5\u628a 1 \u4e2a\u4e3b\u8282\u70b9\u548c\u591a\u4e2a\u4ece\u8282\u70b9\u770b\u4f5c\u662f\u4e00\u4e2a\u8282\u70b9\u7ec4\u3002\\n\\n\u65b9\u6848 2 \u662f\u76ee\u524d\u4e3b\u6d41\u5206\u5e03\u5f0f\u5b58\u50a8\u7684\u5b9e\u73b0\u65b9\u6848\uff0c\u5728\u5b58\u50a8\u6570\u636e\u65f6\u901a\u8fc7\u67d0\u79cd\u7b97\u6cd5\u9009\u62e9\u591a\u4e2a\u526f\u672c\u8282\u70b9\uff0c\u5e76\u65f6\u523b\u68c0\u67e5\u5f53\u524d\u6570\u636e\u7684\u526f\u672c\u6570\u662f\u5426\u7b26\u5408\u7528\u6237\u8bbe\u5b9a\u7684\u503c\u3002\u8fd9\u79cd\u65b9\u6848\u56e0\u4e3a\u5728\u4e00\u4e2a\u8282\u70b9\u4e0a\u540c\u65f6\u5305\u542b\u4e86\u539f\u59cb\u6570\u636e\u548c\u526f\u672c\uff0c\u76f8\u6bd4\u65b9\u6848 1 \u8282\u70b9\u7684\u8d44\u6e90\u5229\u7528\u7387\u4f1a\u66f4\u9ad8\uff0c\u4f46\u4ee3\u4ef7\u5c31\u662f\u7ef4\u62a4\u6210\u672c\u4f1a\u6709\u6240\u63d0\u5347\u3002\\n\\n\u4e0d\u8bba\u662f\u9009\u62e9\u524d\u9762\u4ecb\u7ecd\u7684\u54ea\u79cd\u65b9\u6848\u90fd\u4f1a\u6d89\u53ca\u5230\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u4f55\u5c06\u539f\u59cb\u6570\u636e\u540c\u6b65\u5230\u526f\u672c\u4e0a\uff1f\u8fd9\u91cc\u5c31\u5fc5\u987b\u63d0\u53ca\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u6982\u5ff5\u300c\u4e00\u81f4\u6027\uff08consistency\uff09\u300d[^1]\uff0c\u6240\u8c13\u4e00\u81f4\u6027\u5c31\u662f\u7528\u4e8e\u63cf\u8ff0\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u4e0d\u540c\u5b9e\u4f53\u95f4\u72b6\u6001\uff08state\uff09\u4e00\u81f4\u7a0b\u5ea6\u7684\u6982\u5ff5\u3002\u4e00\u81f4\u6027\u4ece\u5f3a\u5230\u5f31\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b 4 \u79cd\u7c7b\u522b\uff1a\\n\\n1. \u7ebf\u6027\u4e00\u81f4\u6027\uff08Linearizability\uff09\u6216\u8005\u5f3a\u4e00\u81f4\u6027\uff08Strong consistency\uff09\\n2. \u987a\u5e8f\u4e00\u81f4\u6027\uff08Sequential consistency\uff09\\n3. \u56e0\u679c\u4e00\u81f4\u6027\uff08Causal consistency\uff09\\n4. \u6700\u7ec8\u4e00\u81f4\u6027\uff08Eventual consistency\uff09\\n\\n\u4e00\u81f4\u6027\u8d8a\u5f3a\u7684\u7b97\u6cd5\u5bf9\u6570\u636e\u7684\u4e00\u81f4\u8981\u6c42\u4e5f\u8d8a\u9ad8\uff0c\u5f53\u7136\u5b9e\u73b0\u6210\u672c\u4e5f\u8d8a\u9ad8\u3002\u7ebf\u6027\u4e00\u81f4\u6027\u7684\u4ee3\u8868\u6709 <a href=\\"https://en.wikipedia.org/wiki/Paxos_(computer_science)\\">Paxos</a> \u548c [Raft](https://raft.github.io)\uff0c\u6700\u7ec8\u4e00\u81f4\u6027\u7684\u4ee3\u8868\u6709 Dynamo[^2]\u3002\u4e3a\u4ec0\u4e48\u4e00\u81f4\u6027\u5982\u6b64\u91cd\u8981\u5462\uff1f\u56e0\u4e3a\u5206\u5e03\u5f0f\u7cfb\u7edf\u5929\u7136\u5b58\u5728\u7684\u5e76\u53d1\u548c\u5ef6\u8fdf\uff0c\u8981\u5982\u4f55\u628a\u4e00\u4e2a\u96c6\u7fa4\u7684\u72b6\u6001\u66f4\u65b0\u6700\u7ec8\u5b9e\u73b0\u5f97\u770b\u8d77\u6765\u5c31\u50cf\u4e00\u53f0\u5355\u673a\u4e00\u6837\uff0c\u8fd9\u662f\u4e00\u81f4\u6027\u7b97\u6cd5\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002\\n\\n\u5177\u4f53\u7ec6\u5206\u72b6\u6001\u590d\u5236\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a\u4e00\u79cd\u662f\u4f20\u7edf\u7684 replicated state machine\uff08\u6216\u8005\u53eb\u505a active replication\uff09\uff0c\u53e6\u4e00\u79cd\u662f primary-backup\uff08\u6216\u8005\u53eb\u505a primary-copy\u3001passive replication\uff09\u3002\u524d\u8005\u7684\u4ee3\u8868\u6709 Paxos \u548c Raft\uff0c\u540e\u8005\u7684\u4ee3\u8868\u6709 [Viewstamped Replication](http://www.cs.princeton.edu/courses/archive/fall09/cos518/papers/viewstamped.pdf) \u548c [Zab\uff08ZooKeeper Atomic Broadcast\uff09](https://marcoserafini.github.io/papers/zab.pdf)\u3002\u6709\u5173\u8fd9\u4e24\u79cd\u72b6\u6001\u590d\u5236\u65b9\u6848\u7684\u533a\u522b\u53ef\u4ee5\u770b\u770b Raft \u4f5c\u8005\u7684[\u535a\u58eb\u6bd5\u4e1a\u8bba\u6587](https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf)[^3]\u548c [Vive la Diff\xe9rence: Paxos vs. Viewstamped Replication vs. Zab](https://arxiv.org/abs/1309.5671) \u8fd9\u7bc7\u8bba\u6587\u3002\\n\\n\u56e0\u6b64\u56de\u5230\u6700\u5f00\u59cb\u7684\u90a3\u4e2a\u95ee\u9898\u300c\u8981\u5982\u4f55\u5c06\u539f\u59cb\u6570\u636e\u540c\u6b65\u5230\u526f\u672c\u300d\uff0c\u8fd9\u53d6\u51b3\u4e8e\u4f60\u9700\u8981\u54ea\u79cd\u7a0b\u5ea6\u7684\u4e00\u81f4\u6027\uff0c\u4f60\u751a\u81f3\u53ef\u4ee5\u8bf4\u6211\u4e0d\u9700\u8981\u4e00\u81f4\u6027[^4]\u3002\u5bf9\u4e8e\u63a8\u8350\u7cfb\u7edf\u7684\u573a\u666f\uff0c\u7ebf\u6027\u4e00\u81f4\u6027\u5c5e\u4e8e\u6740\u9e21\u7528\u725b\u5200[^5]\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u8ffd\u6c42\u6700\u7ec8\u4e00\u81f4\u6027\u5c31\u591f\u4e86\u3002\\n\\n## \u96c6\u7fa4\u6210\u5458\u7ba1\u7406\\n\\n\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u5fc5\u7136\u662f\u7531\u591a\u4e2a\u8282\u70b9\u6784\u6210\u7684\uff0c\u90a3\u8fd9\u4e9b\u8282\u70b9\u4e4b\u95f4\u8981\u5982\u4f55\u4e92\u76f8\u611f\u77e5\u5462\uff1f\u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\u65b9\u6848\uff1a\u4e2d\u5fc3\u5316\u548c\u53bb\u4e2d\u5fc3\u5316\u3002\\n\\n\u6240\u8c13\u4e2d\u5fc3\u5316\u5c31\u662f\u5b58\u5728\u4e00\u4e2a\uff08\u6216\u4e00\u7ec4\uff09\u96c6\u4e2d\u7ba1\u7406\u7684\u670d\u52a1\uff0c\u8fd9\u4e2a\u4e2d\u5fc3\u670d\u52a1\u8d1f\u8d23\u63a5\u6536\u5e76\u5b58\u50a8\u96c6\u7fa4\u6240\u6709\u8282\u70b9\u4e0a\u62a5\u7684\u4fe1\u606f\uff0c\u4ee5\u53ca\u53cd\u5411\u5206\u53d1\u8fd9\u4e9b\u4fe1\u606f\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u96c6\u7fa4\u7684\u4fe1\u606f\u67a2\u7ebd\u3002\u5728\u5fae\u670d\u52a1\u9886\u57df\u6709\u53e6\u5916\u4e00\u4e2a\u8bcd\u7528\u4e8e\u8868\u793a\u7c7b\u4f3c\u7684\u529f\u80fd\uff1a\u670d\u52a1\u6ce8\u518c\u4e0e\u53d1\u73b0\u3002\u5e38\u89c1\u7684\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u79cd\u4e2d\u5fc3\u670d\u52a1\u7684\u5f00\u6e90\u7ec4\u4ef6\u6709 [ZooKeeper](https://zookeeper.apache.org/)\u3001[etcd](https://etcd.io) \u548c [Consul](https://www.consul.io)\u3002\\n\\n\u800c\u53bb\u4e2d\u5fc3\u5316\u987e\u540d\u601d\u4e49\u5c31\u662f\u4e0d\u5b58\u5728\u4e00\u4e2a\u4e2d\u5fc3\u670d\u52a1\uff0c\u5b8c\u5168\u4f9d\u9760\u96c6\u7fa4\u5185\u5404\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u6765\u5b9e\u73b0\u62d3\u6251\u53d1\u73b0\u3002\u6700\u8457\u540d\u7684\u53bb\u4e2d\u5fc3\u5316\u534f\u8bae\u6050\u6015\u5c31\u662f [gossip \u534f\u8bae](https://en.wikipedia.org/wiki/Gossip_protocol)\uff0c\u8fd9\u662f\u4e00\u4e2a\u53ef\u4ee5\u5b9e\u73b0\u70b9\u5bf9\u70b9\uff08P2P\uff09\u901a\u4fe1\u7684\u534f\u8bae\uff0c\u5f88\u591a\u5f00\u6e90\u7cfb\u7edf\u91cc\u4e5f\u4f7f\u7528\u5230\u4e86 gossip\uff0c\u6bd4\u5982 [Cassandra](https://cassandra.apache.org/doc/latest/architecture/dynamo.html#distributed-cluster-membership-and-failure-detection) \u548c [Consul](https://www.consul.io/docs/internals/gossip.html)\u3002\\n\\n\u81f3\u4e8e\u662f\u4e2d\u5fc3\u5316\u8fd8\u662f\u53bb\u4e2d\u5fc3\u5316\u597d\u90a3\u53ea\u80fd\u662f\u89c1\u4ec1\u89c1\u667a\u4e86\uff0c\u6ca1\u6709\u54ea\u4e2a\u65b9\u6848\u662f\u7edd\u5bf9\u5b8c\u7f8e\u7684\u3002\\n\\n## \u6570\u636e\u91cd\u65b0\u5206\u914d\uff08Rebalance\uff09\\n\\n\u524d\u9762\u7684\u300c\u6570\u636e\u5206\u5272\u300d\u5c0f\u8282\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u5982\u4f55\u5c06\u6570\u636e\u5206\u5e03\u5230\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\uff0c\u5982\u679c\u4e00\u4e2a\u96c6\u7fa4\u7684\u8282\u70b9\u6570\u6c38\u8fdc\u4e0d\u53d8\u90a3\u8fd9\u4e0d\u4f1a\u5e26\u6765\u4efb\u4f55\u95ee\u9898\uff0c\u4f46\u662f\u5982\u679c\u5b58\u5728\u65b0\u589e\u6216\u8005\u5220\u9664\u8282\u70b9\u7684\u60c5\u51b5\u5462\uff1f\u4e0d\u8bba\u662f\u54c8\u5e0c\u8fd8\u662f\u8303\u56f4\u5206\u5272\u7684\u65b9\u6cd5\uff0c\u90fd\u5fc5\u987b\u8981\u91cd\u65b0\u5206\u914d\u6570\u636e\uff0c\u4ee5\u4fdd\u6301\u96c6\u7fa4\u8282\u70b9\u95f4\u7684\u6570\u636e\u5747\u8861\u3002\u4e3a\u4e86\u4e0d\u5f71\u54cd\u5df2\u6709\u7684\u8282\u70b9\uff0c\u6570\u636e\u91cd\u65b0\u5206\u914d\u901a\u5e38\u7684\u5b9e\u73b0\u90fd\u662f\u5728\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u540c\u65f6\u4e5f\u8981\u63a7\u5236\u6570\u636e\u540c\u6b65\u7684\u5e26\u5bbd\u548c\u901f\u7387\u3002\u5f53\u6570\u636e\u91cd\u65b0\u5206\u914d\u8fd9\u4e2a\u8fc7\u7a0b\u5b8c\u6210\u4ee5\u540e\u5c31\u53ef\u4ee5\u4e0a\u7ebf\u6216\u8005\u4e0b\u7ebf\u5bf9\u5e94\u7684\u8282\u70b9\u3002\\n\\n\u5f53\u7136\u6570\u636e\u91cd\u65b0\u5206\u914d\u4e5f\u4e0d\u4e00\u5b9a\u5c31\u53ea\u662f\u7531\u96c6\u7fa4\u8282\u70b9\u4f38\u7f29\u89e6\u53d1\u7684\uff0c\u67d0\u4e9b\u7cfb\u7edf\u4e5f\u4f1a\u5b9e\u65f6\u5730\u6839\u636e\u5f53\u524d\u6bcf\u4e2a\u8282\u70b9\u7684\u8d1f\u8f7d\u800c\u52a8\u6001\u8c03\u6574\u6570\u636e\u7684\u5206\u5e03\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u907f\u514d\u51fa\u73b0\u70ed\u70b9\u5bfc\u81f4\u6574\u4f53\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u53d7\u5f71\u54cd\u3002\\n\\n## \u6574\u4f53\u8bbe\u8ba1\\n\\n\u7efc\u5408\u524d\u9762\u4ecb\u7ecd\u7684\u6240\u6709\u5185\u5bb9\uff0c\u73b0\u5728\u5982\u679c\u8ba9\u4f60\u6765\u8bbe\u8ba1\u5206\u5e03\u5f0f\u7d22\u5f15\u4f60\u4f1a\u5982\u4f55\u8bbe\u8ba1\uff1f\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\u6211\u4eec\u7684\u5b9e\u73b0\u65b9\u6848\uff0c\u4f46\u662f\u8bf7\u8bb0\u4f4f\u4e00\u5b9a\u4e0d\u5b58\u5728\u4e00\u4e2a\u5b8c\u7f8e\u7684\u65b9\u6848\uff0c\u4efb\u4f55\u67b6\u6784\u8bbe\u8ba1\u90fd\u662f\u6743\u8861\uff08trade-off\uff09\u7684\u7ed3\u679c\u3002\\n\\n![recommendation system distributed design](/img/blog/rec_sys_distributed_design.png)\\n\\n\u7b80\u5355\u603b\u7ed3\u4e0a\u9762\u8fd9\u4e2a\u65b9\u6848\u7684\u4e00\u4e9b\u7279\u70b9\uff1a\\n\\n- \u901a\u8fc7\u54c8\u5e0c\u6765\u8fdb\u884c\u6570\u636e\u5206\u5272\\n- \u901a\u8fc7\u8282\u70b9\u7ec4\u7684\u65b9\u5f0f\u8fdb\u884c\u6570\u636e\u590d\u5236\uff0c\u4e00\u81f4\u6027\u7684\u8981\u6c42\u662f\u6700\u7ec8\u4e00\u81f4\u6027[^6]\u3002\\n- \u901a\u8fc7 Consul \u6765\u8fdb\u884c\u670d\u52a1\u6ce8\u518c\u548c\u53d1\u73b0\uff0c\u5e76\u5c01\u88c5\u4e00\u4e2a\u5e93\u4f9b\u5ba2\u6237\u7aef\u4f7f\u7528\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f\u5173\u4e8e\u5206\u5e03\u5f0f\u7684\u4ecb\u7ecd\uff0c\u4e0b\u4e00\u7bc7\u6587\u7ae0\u7684\u5185\u5bb9\u4f1a\u76f8\u5bf9\u8f7b\u677e\u4e00\u4e9b\uff0c\u804a\u4e00\u804a\u6240\u8c13\u7684\u7aef\u5230\u7aef\uff08end-to-end\uff09\u7528\u6237\u4f53\u9a8c\u3002\\n\\n[^1]: \u5982\u679c\u60f3\u7cfb\u7edf\u4e86\u89e3\u4e00\u81f4\u6027\uff0c\u63a8\u8350\u9605\u8bfb Jepsen \u7684[\u7cfb\u5217\u6587\u6863](https://jepsen.io/consistency)\u3001\u666e\u6797\u65af\u987f\u5927\u5b66\u7684 [COS 418](https://www.cs.princeton.edu/courses/archive/fall19/cos418) \u8bfe\u7a0b\u4ee5\u53ca The Morning Paper \u7684[\u7cfb\u5217\u89e3\u8bfb](https://blog.acolyer.org/2015/03/01/cant-we-all-just-agree)\u3002\\n[^2]: Amazon \u7684 CTO \u4e5f\u5199\u8fc7[\u4e00\u7bc7\u535a\u5ba2](https://www.allthingsdistributed.com/2008/12/eventually_consistent.html)\u8bb2\u89e3\u6700\u7ec8\u4e00\u81f4\u6027\\n[^3]: \u5177\u4f53\u4f4d\u7f6e\u5728\u300c11.6 Replicated state machines vs. primary copy approach\u300d\u7ae0\u8282\\n[^4]: \u90a3\u4f60\u7231\u548b\u540c\u6b65\u548b\u540c\u6b65\\n[^5]: \u7528\u6237\u6839\u672c\u4e0d\u5173\u5fc3\uff08\u6216\u8005\u8bf4\u6839\u672c\u5bdf\u89c9\u4e0d\u51fa\uff09\u4e0d\u540c\u63a8\u8350\u7ed3\u679c\u4e4b\u95f4\u6709\u4ec0\u4e48\u4e00\u81f4\u6027\u95ee\u9898\\n[^6]: \u5b9e\u8df5\u4e2d\u6211\u4eec\u662f\u901a\u8fc7 HDFS \u4f5c\u4e3a\u7d22\u5f15\u6570\u636e\u6e90\uff0c\u6bcf\u4e2a\u8282\u70b9\u81ea\u884c\u62c9\u53d6\uff08pull\uff09\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002"},{"id":"/2020/05/21/maybe-news-issue-1","metadata":{"permalink":"/blog/2020/05/21/maybe-news-issue-1","source":"@site/blog/2020-05-21-maybe-news-issue-1.md","title":"Maybe News Issue #1","description":"\u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684\u7cfb\u5217\u6587\u7ae0\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u5b83\u3002","date":"2020-05-21T17:34:22.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":8.305,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Maybe News Issue #1","date":"2020-05-21 17:34:22 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e94\uff09\uff1a\u5206\u5e03\u5f0f","permalink":"/blog/2020/05/25/how-to-design-a-distributed-index-framework-part-5"},"nextItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u56db\uff09\uff1a\u7d22\u5f15\u66f4\u65b0","permalink":"/blog/2020/05/13/how-to-design-a-distributed-index-framework-part-4"}},"content":"> \u300cMaybe News\u300d\u662f\u4e00\u4e2a\u5b9a\u671f\uff08\u6216\u8bb8\u4e0d\u5b9a\u671f\uff09\u5206\u4eab\u4e00\u4e9b\u53ef\u80fd\u662f\u65b0\u95fb\u7684\u77e5\u8bc6\u7684[\u7cfb\u5217\u6587\u7ae0](/blog/tags/maybe-news)\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## CFS: A Distributed File System for Large Scale Container Platforms\\n\\n[[\u94fe\u63a5]](https://dl.acm.org/doi/10.1145/3299869.3314046)\\n\\n\u8ddf[\u4e0a\u6b21\u4ecb\u7ecd](https://blog.xiaogaozi.org/2020/04/26/weekly-reading-list-issue-1/)\u7684 FoundationDB Record Layer \u4e00\u6837\uff0c\u8fd9\u7bc7\u6765\u81ea\u4eac\u4e1c\u56e2\u961f\u7684\u8bba\u6587\u4e5f\u662f\u53d1\u8868\u5728 SIGMOD 2019\uff0c\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u4e3a\u5927\u89c4\u6a21\u5bb9\u5668\u5e73\u53f0\u8bbe\u8ba1\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u3002\\n\\n\u7cfb\u7edf\u6574\u4f53\u7531 3 \u90e8\u5206\u7ec4\u6210\uff1a\u5143\u6570\u636e\u5b50\u7cfb\u7edf\uff08metadata subsystem\uff09\u3001\u6570\u636e\u5b50\u7cfb\u7edf\uff08data subsystem\uff09\u3001\u8d44\u6e90\u7ba1\u7406\u5668\uff08resource manager\uff09\u3002\u5143\u6570\u636e\u5b50\u7cfb\u7edf\u8d1f\u8d23\u7ef4\u62a4 inode \u548c dentry\uff08directory entry\uff09\uff0c\u6570\u636e\u5b50\u7cfb\u7edf\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\u5757\uff0c\u8d44\u6e90\u7ba1\u7406\u5668\u8d1f\u8d23\u5904\u7406\u5ba2\u6237\u7aef\u7684\u5404\u79cd\u6587\u4ef6\u64cd\u4f5c\u8bf7\u6c42\u4ee5\u53ca\u7ef4\u62a4\u524d\u9762\u4e24\u4e2a\u5b50\u7cfb\u7edf\u7684\u72b6\u6001\u3002\u5143\u6570\u636e\u5b50\u7cfb\u7edf\u548c\u6570\u636e\u5b50\u7cfb\u7edf\u90fd\u662f\u591a partition \u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u591a\u4e2a\u5143\u6570\u636e\u548c\u6570\u636e\u7684 partition \u903b\u8f91\u4e0a\u5171\u540c\u7ec4\u6210\u4e00\u4e2a\u5377\uff08volume\uff09\uff0c\u8fd9\u4e2a\u5377\u5373\u662f\u5bf9\u5ba2\u6237\u7aef\uff08\u5bb9\u5668\uff09\u53ef\u89c1\u7684\u5b58\u50a8\u5355\u5143\u5e76\u4e14\u53ef\u4ee5\u88ab\u6302\u8f7d\uff0c\u901a\u8fc7\u4f20\u7edf\u7684 POSIX \u63a5\u53e3\u8bbf\u95ee\u3002\\n\\n\u56e0\u4e3a\u4e0a\u8ff0 3 \u90e8\u5206\u7ec4\u4ef6\u5185\u90e8\u5176\u5b9e\u90fd\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u56e0\u6b64\u90fd\u7528\u5230\u4e86 Raft \u4f5c\u4e3a\u4e00\u81f4\u6027\u534f\u8bae\uff0c\u8d44\u6e90\u7ba1\u7406\u5668\u8fd8\u7528\u5230\u4e86 RocksDB \u4f5c\u4e3a\u672c\u5730\u6301\u4e45\u5316\u5b58\u50a8\u3002\u7a0d\u5fae\u7279\u6b8a\u7684\u662f\u6570\u636e\u5b50\u7cfb\u7edf\u6839\u636e\u4e0d\u540c\u7c7b\u578b\u7684\u5199\u64cd\u4f5c\u9009\u62e9\u4e86\u4e0d\u540c\u7684\u590d\u5236\u65b9\u6848\uff0c\u8bba\u6587\u91cc\u628a\u8fd9\u4e2a\u53eb\u505a Scenario-Aware Replication\uff0c\u5177\u4f53\u8bb2\u5c31\u662f\u987a\u5e8f\u5199\u64cd\u4f5c\uff08\u6bd4\u5982 append\uff09\u7528\u7684\u662f primary-backup\uff0c\u800c\u8986\u76d6\uff08overwrite\uff09\u64cd\u4f5c\u7528\u7684\u662f Raft\u3002\\n\\n\u7cfb\u7edf\u7684\u53e6\u4e00\u4e2a\u4eae\u70b9\u662f\u57fa\u4e8e\u8d44\u6e90\u5229\u7528\u7387\u7684 partition \u5206\u914d\u7b56\u7565\uff0c\u8bba\u6587\u4e2d\u53eb\u505a Utilization-Based Placement\u3002\u4f20\u7edf\u7684 partition \u5206\u914d\u7b56\u7565\u901a\u5e38\u662f\u54c8\u5e0c\uff0c\u8fd9\u79cd\u7b56\u7565\u7684\u4f18\u70b9\u662f\u7b80\u5355\u4f46\u662f\u5f53\u6269\u7f29\u5bb9\u65f6\u5fc5\u987b\u8fdb\u884c rebalance\u3002CFS \u7684\u505a\u6cd5\u662f\u5143\u6570\u636e\u548c\u6570\u636e\u5b50\u7cfb\u7edf\u5b9a\u671f\u4e0a\u62a5\u5185\u5b58\u3001\u78c1\u76d8\u4f7f\u7528\u7387\u5230\u8d44\u6e90\u7ba1\u7406\u5668\uff0c\u5f53\u9700\u8981\u521b\u5efa\u65b0\u7684 partition \u65f6\u6839\u636e\u8d44\u6e90\u5229\u7528\u7387\u9009\u62e9\u6700\u4f4e\u7684\u90a3\u4e2a\u8282\u70b9\uff0c\u8fd9\u6837\u8bbe\u8ba1\u7684\u597d\u5904\u662f\u4e0d\u518d\u9700\u8981 rebalance\u3002\u4f46\u662f\u5bf9\u4e8e\u8fd9\u79cd\u8bbe\u8ba1\u65b9\u6848\u662f\u5426\u4f1a\u9020\u6210\u6570\u636e\u4e0d\u5747\u8861\u8868\u793a\u5b58\u7591\uff0c\u8bba\u6587\u4e2d\u4e5f\u6ca1\u6709\u505a\u8fc7\u591a\u8bba\u8ff0\u3002\\n\\n\u4e3a\u4e86\u5c3d\u91cf\u51cf\u5c11\u5ba2\u6237\u7aef\u7684\u7f51\u7edc\u4ea4\u4e92\uff0c\u4e0d\u8ba9\u67d0\u4e2a\u7cfb\u7edf\u7ec4\u4ef6\u6210\u4e3a\u74f6\u9888\uff0c\u5ba2\u6237\u7aef\u4f1a\u7f13\u5b58\u5143\u6570\u636e\u5b50\u7cfb\u7edf\u3001\u6570\u636e\u5b50\u7cfb\u7edf\u548c\u8d44\u6e90\u7ba1\u7406\u5668\u7684\u4fe1\u606f\u5230\u672c\u5730\uff0c\u5f53\u6267\u884c\u6587\u4ef6\u64cd\u4f5c\u65f6\u4f1a\u4f18\u5148\u8bfb\u53d6\u672c\u5730\u7f13\u5b58\u3002\u5f53\u7136\u67d0\u4e9b\u7ec4\u4ef6\uff08\u6bd4\u5982\u8d44\u6e90\u7ba1\u7406\u5668\uff09\u8fd8\u662f\u6709\u53ef\u80fd\u5728\u67d0\u4e00\u5929\u6210\u4e3a\u74f6\u9888\uff0c\u4f46\u662f\u57fa\u4e8e\u4eac\u4e1c\u7684\u7ecf\u9a8c\u8fd9\u4ef6\u4e8b\u60c5\u57fa\u672c\u4e0a\u4e0d\u4f1a\u53d1\u751f\u3002\\n\\n\u5728\u4e0e Ceph \u7684\u8bc4\u6d4b\u4e2d\uff0cCFS \u5e73\u5747\u6709 3 \u500d\u7684 IOPS \u63d0\u5347\uff0c\u7279\u522b\u662f\u591a\u5ba2\u6237\u7aef\u548c\u968f\u673a\u8bfb\u5199\u7684\u573a\u666f\u3002\u8fd9\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5f97\u76ca\u4e8e\u5143\u6570\u636e\u548c\u6570\u636e\u8282\u70b9\u5206\u79bb\u7684\u8bbe\u8ba1\uff0c\u4e14 CFS \u7684\u5143\u6570\u636e\u662f\u5168\u5185\u5b58\u5b58\u50a8\uff0c\u800c Ceph \u5e76\u4e0d\u662f\u3002\\n\\n\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u4e00\u76f4\u90fd\u662f\u6bd4\u8f83\u91cd\u8981\u7684\u57fa\u7840\u7ec4\u4ef6\uff0c\u5728\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u3001\u5927\u6570\u636e\u3001\u673a\u5668\u5b66\u4e60\u9886\u57df\u6709\u5e7f\u6cdb\u5e94\u7528\u3002\u5e38\u89c1\u7684\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u5982 HDFS\u3001Ceph\uff0c\u5728\u5982\u4eca\u8fd9\u4e2a\u5168\u9762\u63a8\u884c\u5bb9\u5668\u5316\u7684\u65f6\u4ee3\u8d8a\u6765\u8d8a\u663e\u5f97\u6349\u895f\u89c1\u8098\u3002\u5bb9\u5668\u5316\u4e00\u4e2a\u5f88\u5927\u7684\u7279\u70b9\u662f\u5feb\u901f\u6269\u7f29\u5bb9\uff0c\u4f20\u7edf\u7684\u5b58\u50a8\u7cfb\u7edf\u5728\u8fd9\u4e00\u70b9\u4e0a\u662f\u975e\u5e38\u4e0d\u53cb\u597d\u7684\uff0c\u56e0\u6b64\u624d\u4f1a\u6709\u8d8a\u6765\u8d8a\u591a\u9488\u5bf9\u5bb9\u5668\u5316\u573a\u666f\u7684\u57fa\u7840\u7ec4\u4ef6\u8bde\u751f\uff08\u5177\u4f53\u53ef\u4ee5\u8bbf\u95ee [CNCF](https://www.cncf.io) \u67e5\u770b\uff09\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u7684 CFS \u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u53e6\u4e00\u4e2a\u7c7b\u4f3c\u7684\u662f [JuiceFS](https://juicefs.com)\u3002\\n\\nCFS \u76ee\u524d\u5c5e\u4e8e CNCF \u4e0b\u7684 [sandbox \u9879\u76ee](https://www.cncf.io/sandbox-projects)\uff0c\u4e14\u5df2\u7ecf[\u5f00\u6e90](https://github.com/chubaofs/chubaofs)\uff0c\u4f7f\u7528 Go \u8bed\u8a00\u7f16\u5199\u3002\\n\\n## tensorflow/community #237: RFC: Sparse Domain Isolation for Supporting large-scale Sparse Weights Training\\n\\n[[\u94fe\u63a5]](https://github.com/tensorflow/community/pull/237)\\n\\n\u63a8\u8350\u7cfb\u7edf\u5927\u89c4\u6a21\u7a00\u758f\u7279\u5f81\u5206\u5e03\u5f0f\u8bad\u7ec3\u4e00\u76f4\u662f\u5de5\u4e1a\u754c\u4e00\u4ef6\u6709\u6311\u6218\u7684\u4e8b\u60c5\uff0c\u5927\u516c\u53f8\u5185\u90e8\u81ea\u7814\u7684\u8bad\u7ec3\u6846\u67b6\u5927\u591a\u5df2\u7ecf\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u662f\u5728\u5f00\u6e90\u793e\u533a\u95ee\u9898\u4ecd\u7136\u5b58\u5728\u3002TensorFlow \u4f5c\u4e3a\u4e5f\u8bb8\u76ee\u524d\u6700\u6d41\u884c\u7684\u6df1\u5ea6\u5b66\u4e60\u8bad\u7ec3\u6846\u67b6\uff0c\u793e\u533a\u91cc\u4e5f\u65e9\u6709\u76f8\u5173\u7684\u8ba8\u8bba\uff08\u6bd4\u5982 [#19324](https://github.com/tensorflow/tensorflow/issues/19324)\u3001[#24539](https://github.com/tensorflow/tensorflow/issues/24539)\u3001[#24915](https://github.com/tensorflow/tensorflow/pull/24915)\uff09\uff0c\u4f46\u57fa\u672c\u90fd\u4ee5\u70c2\u5c3e\u544a\u7ec8\u3002\u6700\u65b0\u7684 RFC #237 \u6765\u81ea\u817e\u8baf\uff0c\u533a\u522b\u4e8e\u73b0\u6709\u7684\u4e00\u4e9b\u5f00\u6e90\u5b9e\u73b0\uff08\u6bd4\u5982\u963f\u91cc\u5df4\u5df4\u7684 [XDL](https://github.com/alibaba/x-deeplearning)\u3001\u5b57\u8282\u8df3\u52a8\u7684 [BytePS](https://github.com/bytedance/byteps)\u3001\u8682\u8681\u91d1\u670d\u7684 [ElasticDL](https://github.com/sql-machine-learning/elasticdl)\uff09\u5b8c\u5168\u81ea\u5df1\u91cd\u65b0\u9020\u4e86\u4e00\u4e2a parameter server\uff0c\u817e\u8baf\u7684\u65b9\u6848\u6700\u5927\u9650\u5ea6\u590d\u7528\u4e86 TensorFlow \u73b0\u6709\u7684\u7ec4\u4ef6\uff0c\u5bf9\u7528\u6237\u7684\u4ee3\u7801\u4fb5\u5165\u4e5f\u6700\u5c0f\u3002\u76ee\u524d\u8fd9\u4e2a RFC \u8fd8\u5728\u8ba8\u8bba\u4e2d\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u8ba2\u9605 PR\u3002\\n\\n## \u6df1\u5165\u4e91\u539f\u751f AI\uff1a\u57fa\u4e8e Alluxio \u6570\u636e\u7f13\u5b58\u7684\u5927\u89c4\u6a21\u6df1\u5ea6\u5b66\u4e60\u8bad\u7ec3\u6027\u80fd\u4f18\u5316\\n\\n[[\u94fe\u63a5]](https://mp.weixin.qq.com/s/2Pj8erPbYuMo7mBJvweJgQ)\\n\\n\u673a\u5668\u5b66\u4e60\u6a21\u578b\u8bad\u7ec3\u7531\u4e8e\u4f9d\u8d56\u5927\u91cf\u7684\u6570\u636e\u4f5c\u4e3a\u8f93\u5165\uff0c\u56e0\u6b64\u6570\u636e I/O \u7684\u6027\u80fd\u4f1a\u76f4\u63a5\u5f71\u54cd\u6a21\u578b\u8bad\u7ec3\u7684\u6548\u7387\u3002\u6709\u65f6\u95f4\u4f1a\u53d1\u73b0\u8ba1\u7b97\u8bbe\u5907\u7684\u7b97\u529b\u5347\u7ea7\u4e86\uff0c\u4f46\u662f\u6570\u636e I/O \u8ddf\u4e0d\u4e0a\u4e86\uff0c\u53cd\u800c\u62d6\u6162\u4e86\u6574\u4e2a\u8bad\u7ec3\u6d41\u7a0b\u3002\u963f\u91cc\u4e91\u56e2\u961f\u5206\u4eab\u7684\u8fd9\u7bc7\u6587\u7ae0\u4fbf\u662f\u4ed6\u4eec\u5728\u4f7f\u7528 Alluxio\uff08\u8bd5\u56fe\uff09\u52a0\u901f\u6570\u636e I/O \u7684\u8fc7\u7a0b\u4e2d\u7684\u7ecf\u9a8c\uff0c\u867d\u7136\u6700\u540e\u7684\u4f18\u5316\u7ed3\u679c\u6027\u80fd\u6307\u6807\u5176\u5b9e\u4e5f\u53ea\u662f\u57fa\u672c\u8ddf\u672c\u5730\u8bfb\u53d6\u6301\u5e73\u3002\\n\\n## Rob Pike interview: \u201cGo has indeed become the language of cloud infrastructure\u201d\\n\\n[[\u94fe\u63a5]](https://evrone.com/rob-pike-interview)\\n\\n\u6ca1\u5565\u597d\u4ecb\u7ecd\u7684\u4e86\uff0c\u503c\u5f97\u4e00\u8bfb\u7684\u4e00\u7bc7\u91c7\u8bbf\u3002\u6587\u4e2d\u6709\u4e24\u4e2a\u6709\u8da3\u7684\u95ee\u9898\uff1a\\n\\n- **\u5bf9\u4e8e Rust \u5ba3\u79f0\u7684\u300c\u6ca1\u6709 GC\u300d\u7684\u8bbe\u8ba1\u6709\u4ec0\u4e48\u770b\u6cd5**\uff1aRob Pike \u53ea\u662f\u8868\u793a\u4e86\u4ed6\u5bf9 Rust \u5f88\u611f\u5174\u8da3\uff0c\u5176\u5b83\u610f\u89c1\u4e0d\u4fbf\u53d1\u8868\u3002\\n- **\u5982\u679c\u53ef\u4ee5\u65f6\u95f4\u65c5\u884c\u5230\u6700\u521d\u8bbe\u8ba1 Go \u7684\u65f6\u5019\u60f3\u7ed9\u81ea\u5df1\u4e00\u4e2a\u4ec0\u4e48\u5fe0\u544a**\uff1a\u65e0\u89c6\u90a3\u4e9b\u4ec7\u6068\u8005\uff08haters\uff09\uff0c\u53ea\u9700\u8981\u8046\u542c\u90a3\u4e9b\u7406\u89e3\u4ee5\u53ca\u548c\u4f60\u6709\u5171\u540c\u76ee\u6807\u7684\u4eba\u7684\u58f0\u97f3\u3002\u4e0d\u53ef\u80fd\u6bcf\u4e00\u4e2a\u4eba\u90fd\u8ba4\u540c\u4f60\u6b63\u5728\u505a\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u90a3\u4e9b\u9f13\u52b1\u4f60\u524d\u8fdb\u7684\u4eba\u4f1a\u662f\u63d0\u4f9b\u7ed9\u4f60\u975e\u5e38\u68d2\uff08fantastic\uff09\u7684\u60f3\u6cd5\u3001\u80fd\u91cf\u548c\u7075\u611f\u7684\u6e90\u6cc9\u3002\\n\\n## \u5b64\u82b3\u300c\u81ea\u8d4f\u300d\uff1a\u76ef\u978b\u97f3\u4e50\u7684\u524d\u4e16\u4e0e\u4eca\u751f\\n\\n[[\u4e0a]](https://www.gcores.com/articles/121368) [[\u4e0b]](https://www.gcores.com/articles/123770)\\n\\n\u8fd9\u4e24\u7bc7\u6587\u7ae0\u6765\u81ea\u300c\u7adf\u7136\u8fd8\u80fd\u804a\u6e38\u620f\u300d\u7684\u673a\u6838\uff0c\u76f8\u5bf9\u7cfb\u7edf\u5730\u4ecb\u7ecd\u4e86\u300c\u76ef\u978b\uff08shoegaze\uff09\u300d\u8fd9\u79cd\u97f3\u4e50\u98ce\u683c\uff0c\u4f5c\u4e3a\u76ee\u524d\u53ef\u80fd\u662f\u9664\u4e86\u540e\u670b\u514b\u4ee5\u5916\u6211\u6700\u559c\u6b22\u7684\u97f3\u4e50\u98ce\u683c\u975e\u5e38\u9ad8\u5174\u80fd\u591f\u6709\u4eba\u79d1\u666e\uff0c\u7a0d\u5fae\u6b20\u7f3a\u7684\u662f\u6587\u4e2d\u6ca1\u6709\u63d0\u5230\u4efb\u4f55\u4e2d\u56fd\u7684\u4e50\u961f\u3002"},{"id":"/2020/05/13/how-to-design-a-distributed-index-framework-part-4","metadata":{"permalink":"/blog/2020/05/13/how-to-design-a-distributed-index-framework-part-4","source":"@site/blog/2020-05-13-how-to-design-a-distributed-index-framework-part-4.md","title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u56db\uff09\uff1a\u7d22\u5f15\u66f4\u65b0","description":"\u8fd9\u662f\u4e00\u4e2a\u7cfb\u5217\u6587\u7ae0\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002","date":"2020-05-13T14:55:43.000Z","tags":[{"inline":true,"label":"index","permalink":"/blog/tags/index"},{"inline":true,"label":"distrubted","permalink":"/blog/tags/distrubted"},{"inline":true,"label":"htdadif","permalink":"/blog/tags/htdadif"},{"inline":true,"label":"recommendation","permalink":"/blog/tags/recommendation"},{"inline":true,"label":"machine learning","permalink":"/blog/tags/machine-learning"}],"readingTime":9.77,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u56db\uff09\uff1a\u7d22\u5f15\u66f4\u65b0","date":"2020-05-13 14:55:43 +0800","tags":["index","distrubted","htdadif","recommendation","machine learning"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #1","permalink":"/blog/2020/05/21/maybe-news-issue-1"},"nextItem":{"title":"Maybe News Issue #0","permalink":"/blog/2020/05/11/maybe-news-issue-0"}},"content":"> \u8fd9\u662f\u4e00\u4e2a[\u7cfb\u5217\u6587\u7ae0](/blog/tags/htdadif)\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002\\n\\n[\u4e0a\u4e00\u7bc7\u6587\u7ae0](/blog/2020/04/24/how-to-design-a-distributed-index-framework-part-3)\u4ecb\u7ecd\u4e86\u5982\u4f55\u5b9e\u73b0\u6b63\u6392\u7d22\u5f15\u548c\u4e8c\u7ea7\u7d22\u5f15\uff0c\u4f46\u8981\u521b\u5efa\u7d22\u5f15\u4e5f\u5f97\u5148\u6709\u6570\u636e\u624d\u884c\uff0c\u672c\u7bc7\u5c06\u4f1a\u4ecb\u7ecd\u6570\u636e\u662f\u5982\u4f55\u66f4\u65b0\u7684\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5168\u91cf\u7d22\u5f15\\n\\n\u6240\u8c13\u300c\u5168\u91cf\u7d22\u5f15\uff08full index\uff09\u300d\u5c31\u662f\u6307\u9700\u8981\u7d22\u5f15\u7684\u6570\u636e\u7684\u5168\u96c6\uff0c\u901a\u5e38\u5168\u91cf\u7d22\u5f15\u7684\u6570\u636e\u91cf\u90fd\u662f\u4e00\u4e2a\u6bd4\u8f83\u5927\u7684\u91cf\u7ea7[^1]\uff0c\u79bb\u7ebf\u6784\u5efa\u4e00\u6b21\u5168\u91cf\u7d22\u5f15\u7684\u65f6\u95f4\u6210\u672c\u4e5f\u6bd4\u8f83\u9ad8\uff0c\u56e0\u6b64\u66f4\u65b0\u9891\u7387\u4e0d\u4f1a\u7279\u522b\u9891\u7e41[^2]\u3002\u5168\u91cf\u7d22\u5f15\u7684\u66f4\u65b0\u5f88\u7b80\u5355\uff0c\u4e00\u822c\u5c31\u662f\u8986\u76d6\u7ebf\u4e0a\u5df2\u7ecf\u5b58\u5728\u7684\u90a3\u4efd\u65e7\u7684\u5168\u91cf\u7d22\u5f15\uff0c\u5f53\u7136\u8fd9\u4e2a\u66f4\u65b0\u6d41\u7a0b\u4e0d\u4f1a\u662f\u76f4\u63a5\u66ff\u6362\uff0c\u800c\u662f\u5148\u628a\u65b0\u7684\u6570\u636e\u52a0\u8f7d\u597d\u518d\u8fdb\u884c\u66ff\u6362\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u66f4\u65b0\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u4fdd\u8bc1\u5185\u5b58\u4e2d\u80fd\u591f\u540c\u65f6\u5b58\u653e\u4e24\u4efd\u6570\u636e\u3002\\n\\n\u5168\u91cf\u7d22\u5f15\u6709\u51e0\u4e2a\u6bd4\u8f83\u4e25\u91cd\u7684\u95ee\u9898\uff1a\\n\\n- \u7d22\u5f15\u7684\u6570\u636e\u91cf\u51b3\u5b9a\u4e86\u5b83\u7684\u66f4\u65b0\u9891\u7387\u4e0d\u4f1a\u5f88\u5feb\uff0c\u800c\u4e14\u6709\u53d8\u5316\u7684\u6570\u636e\u5728\u8fd9\u4e2a\u5168\u96c6\u4e2d\u5fc5\u5b9a\u662f\u5c11\u6570\uff0c\u6bcf\u6b21\u90fd\u66f4\u65b0\u5168\u90e8\u6570\u636e\u6709\u70b9\u6d6a\u8d39\u3002\\n- \u7d22\u5f15\u66f4\u65b0\u8fc7\u7a0b\u4e2d\u9700\u8981\u4e34\u65f6\u5b58\u50a8\u53cc\u4efd\u6570\u636e\uff0c\u4f1a\u6709\u5927\u91cf\u65b0\u5bf9\u8c61\u4ea7\u751f\uff0c\u5bf9 GC \u7684\u538b\u529b\u4e5f\u4f1a\u5f88\u5927\u3002\u5f88\u591a\u65f6\u5019\u6211\u4eec\u9009\u62e9\u4e0d\u9891\u7e41\u66f4\u65b0\u5168\u91cf\u7d22\u5f15\u4e5f\u662f\u8fd9\u4e2a\u539f\u56e0\uff0c\u8fd9\u5c31\u8fdb\u4e00\u6b65\u52a0\u5267\u4e86\u4e0a\u4e00\u4e2a\u95ee\u9898\u7684\u5f71\u54cd\u3002\\n\\n\u89e3\u51b3\u601d\u8def\u5176\u5b9e\u4e5f\u5f88\u76f4\u63a5\uff0c\u65e2\u7136\u9700\u8981\u66f4\u65b0\u7684\u6570\u636e\u662f\u5c11\u6570\uff0c\u90a3\u6bcf\u6b21\u7d22\u5f15\u66f4\u65b0\u5c31\u53ea\u66f4\u65b0\u8fd9\u90e8\u5206\u6570\u636e\u597d\u4e86\uff0c\u8fd9\u4e5f\u5c31\u662f\u4e0b\u4e00\u7ae0\u8282\u8981\u7740\u91cd\u4ecb\u7ecd\u7684\u5185\u5bb9\u3002\\n\\n## \u589e\u91cf\u7d22\u5f15\\n\\n\u4e0e\u300c\u5168\u91cf\u7d22\u5f15\u300d\u4e00\u8d77\u7ecf\u5e38\u88ab\u63d0\u53ca\u7684\u53e6\u4e00\u4e2a\u8bcd\u5c31\u662f\u300c\u589e\u91cf\u7d22\u5f15\uff08incremental index\uff09\u300d\uff0c\u987e\u540d\u601d\u4e49\u589e\u91cf\u7d22\u5f15\u662f\u53ea\u9488\u5bf9\u589e\u91cf\u6570\u636e\u6784\u5efa\u7684\u96c6\u5408\uff0c\u56e0\u6b64\u7d22\u5f15\u7684\u6570\u636e\u91cf\u4e5f\u4f1a\u5c0f\u975e\u5e38\u591a\uff0c\u81ea\u7136\u66f4\u65b0\u9891\u7387\u5c31\u53ef\u4ee5\u5f88\u5feb\u4e86\u3002\u6784\u5efa\u589e\u91cf\u7d22\u5f15\u5e76\u4e0d\u662f\u4e00\u4ef6\u7279\u522b\u590d\u6742\u7684\u4e8b\u60c5\uff0c\u53ea\u9700\u8981\u6709\u529e\u6cd5\u83b7\u53d6\u5230\u6700\u8fd1\u4e00\u6bb5\u65f6\u95f4\u6709\u53d8\u5316\u7684\u5185\u5bb9\u5c31\u884c[^3]\u3002\u4f46\u662f\u6784\u5efa\u597d\u7684\u589e\u91cf\u7d22\u5f15\u8981\u5982\u4f55\u66f4\u65b0\u5230\u7ebf\u4e0a\u662f\u4e00\u4e2a\u503c\u5f97\u8ba4\u771f\u601d\u8003\u7684\u95ee\u9898\uff0c\u6709\u4e24\u79cd\u65b9\u6848\u53ef\u4ee5\u9009\u62e9\uff1a\\n\\n1. \u76f4\u63a5\u4fee\u6539\u5168\u91cf\u6570\u636e\u7684\u5012\u6392\u7d22\u5f15\u548c\u6b63\u6392\u7d22\u5f15\\n2. \u5355\u72ec\u4e3a\u589e\u91cf\u6570\u636e\u521b\u5efa\u5012\u6392\u7d22\u5f15\u548c\u6b63\u6392\u7d22\u5f15\\n\\n\u7b2c 1 \u79cd\u65b9\u6848\u5982\u679c\u662f\u65b0\u589e\u7684\u5185\u5bb9\u6bd4\u8f83\u7b80\u5355\uff0c\u5728\u5012\u6392\u7d22\u5f15\u548c\u6b63\u6392\u7d22\u5f15\u4e2d\u63d2\u5165\u65b0\u7684\u6761\u76ee\u5373\u53ef\u3002\u4f46\u5982\u679c\u662f\u65e7\u7684\u5185\u5bb9\u88ab\u66f4\u65b0\u6216\u8005\u5220\u9664\uff0c\u90a3\u5c31\u9700\u8981\u5728\u8fd9\u4e24\u79cd\u7d22\u5f15\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u6761\u76ee\u5e76\u5168\u90e8\u66f4\u65b0\u6216\u8005\u5220\u9664\u3002\u76f4\u63a5\u539f\u5730\u66f4\u65b0\u6216\u8005\u5220\u9664\u5bf9\u4e8e\u5012\u6392\u7d22\u5f15\u6765\u8bf4\u56e0\u4e3a\u9700\u8981\u626b\u63cf\u6574\u4e2a\u7d22\u5f15\u6761\u76ee\u5217\u8868\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4f1a\u968f\u7740\u5217\u8868\u957f\u5ea6\u4ee5\u53ca\u589e\u91cf\u66f4\u65b0\u7684\u6570\u636e\u91cf\u7ebf\u6027\u589e\u957f\uff1b\u5bf9\u4e8e\u6b63\u6392\u7d22\u5f15\u6765\u8bf4\u5806\u5916\u5185\u5b58\u4e0d\u53ef\u907f\u514d\u4f1a\u4ea7\u751f\u7a7a\u95f4\u788e\u7247\uff0c\u5fc5\u987b\u5b9a\u671f\u6e05\u7406\u788e\u7247\u4ee5\u514d\u9020\u6210\u7a7a\u95f4\u6d6a\u8d39\u3002\\n\\n\u7b2c 2 \u79cd\u65b9\u6848\u521b\u5efa\u7d22\u5f15\u7684\u903b\u8f91\u8ddf\u5168\u91cf\u7d22\u5f15\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7\u662f\u9488\u5bf9\u589e\u91cf\u6570\u636e\u3002\u4f46\u662f\u6b64\u65f6\u76f8\u5f53\u4e8e\u5c31\u5b58\u5728\u4e86\u591a\u4e2a\u5012\u6392\u7d22\u5f15\u548c\u6b63\u6392\u7d22\u5f15\uff0c\u67e5\u8be2\u903b\u8f91\u5e94\u8be5\u600e\u6837\u5b9e\u73b0\u5462\uff1f\u7531\u4e8e\u6b63\u6392\u7d22\u5f15\u662f\u4e00\u4e00\u6620\u5c04\uff0c\u56e0\u6b64\u5982\u679c\u6709\u591a\u4e2a\u76f8\u540c primary key \u7684\u7d22\u5f15\uff0c\u90a3\u5728\u67e5\u8be2\u65f6\u9009\u62e9\u6700\u65b0\u7684\u90a3\u4e2a\u7d22\u5f15\u5373\u53ef\u3002\u67e5\u8be2\u5012\u6392\u7d22\u5f15\u7a0d\u5fae\u590d\u6742\u4e00\u70b9\uff0c\u540c\u4e00\u4e2a\u5012\u6392\u7d22\u5f15 key \u53ef\u80fd\u5728\u591a\u4e2a\u7d22\u5f15\u4e2d\u90fd\u5b58\u5728\uff0c\u67e5\u8be2\u65f6\u9700\u8981\u540c\u65f6\u4ece\u8fd9\u4e9b\u7d22\u5f15\u4e2d\u904d\u5386\uff0c\u6700\u7ec8\u9009\u53d6\u51fa top N \u7684\u6761\u76ee[^4]\u3002\u904d\u5386\u65f6\u9664\u4e86\u7528\u6237\u63d0\u4f9b\u7684\u8fc7\u6ee4\u5668\u4ee5\u5916\uff0c\u8fd8\u9700\u8981\u8fc7\u6ee4\u90a3\u4e9b\u5df2\u7ecf\u88ab\u5220\u9664\u7684\u6761\u76ee\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u5168\u5c40\u7684\u5df2\u5220\u9664\u6761\u76ee\u96c6\u5408\u6765\u5b9e\u73b0\u3002\u968f\u7740\u589e\u91cf\u7d22\u5f15\u6570\u91cf\u7684\u589e\u591a\uff0c\u4e0d\u540c\u7d22\u5f15\u95f4\u5197\u4f59\u7684\u6570\u636e\u4f1a\u53d8\u5f97\u8d8a\u6765\u8d8a\u591a\uff0c\u6d6a\u8d39\u5b58\u50a8\u7a7a\u95f4\u7684\u540c\u65f6\u4e5f\u4f1a\u589e\u52a0\u67e5\u8be2\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e0d\u5b9a\u671f\u5408\u5e76\u8fd9\u4e9b\u7d22\u5f15\uff0c\u53bb\u9664\u90a3\u4e9b\u91cd\u590d\u6216\u8005\u88ab\u5220\u9664\u7684\u6761\u76ee\u3002\\n\\n\u6211\u4eec\u6700\u7ec8\u9009\u62e9\u4e86\u65b9\u6848 2\uff0c\u56e0\u4e3a\u6574\u4f53\u4e0a\u66f4\u503e\u5411\u4e8e\u628a\u5b58\u50a8\u7684\u6570\u636e\u7ed3\u6784\u8bbe\u8ba1\u6210 append-only \u7684\u6a21\u5f0f\uff0c\u7b80\u5316\u5e95\u5c42\u5b58\u50a8\u7684\u5b9e\u73b0[^5]\u3002\u719f\u6089\u6570\u636e\u5e93\u7cfb\u7edf\u8bbe\u8ba1\u7684\u670b\u53cb\u53ef\u80fd\u5df2\u7ecf\u53d1\u73b0\u65b9\u6848 2 \u540c\u73b0\u5728\u6d41\u884c\u7684 [LevelDB](https://github.com/google/leveldb)\u3001[RocksDB](https://rocksdb.org) \u6709\u4e00\u4e9b\u76f8\u4f3c\u7684\u5730\u65b9\uff0c\u4e8b\u5b9e\u4e0a\u6211\u4eec\u5728\u8bbe\u8ba1\u65f6\u4e5f\u7684\u786e\u501f\u9274\u4e86\u5b83\u4eec\u7684\u90e8\u5206\u601d\u60f3\u3002\u8fd9\u4e24\u8005\u5e95\u5c42\u90fd\u662f [LSM tree](https://en.wikipedia.org/wiki/Log-structured_merge-tree) \u7684\u6570\u636e\u7ed3\u6784\uff0c\u7b80\u5355\u4ecb\u7ecd LSM tree \u5c31\u662f\u5c06\u6570\u636e\u5206\u4e3a\u591a\u4e2a level\uff0c\u6bcf\u4e2a level \u7684\u6570\u636e\u90fd\u662f\u53ea\u8bfb\u7684\u4e14\u53ef\u80fd\u5b58\u5728\u5197\u4f59\uff0c\u4e0d\u540c level \u4e4b\u95f4\u4f1a\u901a\u8fc7\u538b\u7f29\uff08compaction\uff09\u6765\u53bb\u6389\u8fd9\u4e9b\u5197\u4f59\u3002\u4e0b\u56fe\u662f\u589e\u91cf\u7d22\u5f15\u7684\u8bbe\u8ba1\u793a\u610f\u56fe\u3002\\n\\n![incremental index design](/img/blog/incremental_index_design.png)\\n\\n\u6211\u4eec\u9650\u5b9a\u6700\u5927\u7684 level \u6570\uff08\u5373\u589e\u91cf\u7d22\u5f15\u6570\uff09\uff0c\u5982\u679c\u8d85\u8fc7\u8fd9\u4e2a\u9650\u5b9a\u503c\u5c31\u4f1a\u89e6\u53d1\u5408\u5e76\u3002\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u4f1a\u662f\u589e\u91cf\u7d22\u5f15\u4e4b\u95f4\u8fdb\u884c\u5408\u5e76\uff0c\u4f46\u5982\u679c\u5408\u5e76\u4e4b\u540e\u7684\u5927\u5c0f\u5df2\u7ecf\u8d85\u8fc7\u5168\u91cf\u7d22\u5f15\u5927\u5c0f\u7684\u67d0\u4e2a\u6bd4\u4f8b\uff0c\u5c31\u4f1a\u89e6\u53d1 1 \u6b21\u540c\u5168\u91cf\u7d22\u5f15\u7684\u5408\u5e76\u3002\\n\\n\u6709\u4e86\u589e\u91cf\u7d22\u5f15\u4e4b\u540e\u7d22\u5f15\u7684\u66f4\u65b0\u9891\u7387\u6700\u5feb\u53ef\u4ee5\u63a7\u5236\u5728\u5206\u949f\u7ea7\uff0c\u76f8\u6bd4\u5168\u91cf\u7d22\u5f15\u52a8\u8f84\u5c0f\u65f6\u7ea7\u751a\u81f3\u5929\u7ea7\u7684\u9891\u7387\u5df2\u7ecf\u5feb\u4e86\u4e0d\u5c11\u3002\u7d22\u5f15\u66f4\u65b0\u66f4\u5feb\u4e5f\u610f\u5473\u7740\u5185\u5bb9\u53ef\u4ee5\u66f4\u5feb\u5730\u88ab\u7528\u6237\u6d88\u8d39\uff0c\u4fc3\u8fdb\u4e86\u6574\u4e2a\u793e\u533a\u7684\u4fe1\u606f\u6d41\u52a8\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f\u672c\u7bc7\u8981\u4ecb\u7ecd\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u7b80\u5355\u56de\u987e\u4e00\u4e0b\uff1a\\n\\n- \u5168\u91cf\u7d22\u5f15\u867d\u7136\u6784\u5efa\u6210\u672c\u5f88\u9ad8\u4f46\u4e5f\u662f\u4e0d\u53ef\u6216\u7f3a\u7684\uff0c\u5b83\u6709\u7740\u6700\u5168\u7684\u4e1a\u52a1\u6570\u636e\u3002\\n- \u589e\u91cf\u7d22\u5f15\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u52a0\u5feb\u7d22\u5f15\u66f4\u65b0\u9891\u7387\uff0c\u8bbe\u8ba1\u4e0a\u501f\u9274\u4e86\u90e8\u5206 LSM tree \u7684\u601d\u60f3\u3002\\n\\n\u6ce8\u610f\u8fc7\u8fd9\u4e2a\u7cfb\u5217\u6587\u7ae0\u6807\u9898\u7684\u670b\u53cb\u53ef\u80fd\u5f88\u597d\u5947\u8bb2\u4e86\u8fd9\u4e48\u4e45\u4e3a\u5565\u611f\u89c9\u8ddf\u5206\u5e03\u5f0f\u4e00\u70b9\u513f\u5173\u7cfb\u90fd\u6ca1\u6709\uff0c\u7684\u786e\u524d\u9762\u51e0\u7bc7\u6587\u7ae0\u90fd\u662f\u5728\u91cd\u70b9\u4ecb\u7ecd\u7d22\u5f15\u76f8\u5173\u7684\u6280\u672f\uff0c\u4e0b\u4e00\u7bc7\u6587\u7ae0\u5c06\u4f1a\u5f00\u59cb\u804a\u804a\u5206\u5e03\u5f0f\u8fd9\u4e2a\u8bdd\u9898\uff0c\u656c\u8bf7\u671f\u5f85\u3002\\n\\n[^1]: \u5f53\u7136\u6570\u636e\u91cf\u6709\u591a\u5927\u53d6\u51b3\u4e8e\u4f60\u7684\u4e1a\u52a1\u6570\u636e\u6709\u591a\u5c11\\n[^2]: \u5c0f\u65f6\u7ea7\u3001\u5929\u7ea7\u3001\u5468\u7ea7\u90fd\u6709\u53ef\u80fd\\n[^3]: \u5982\u4f55\u83b7\u53d6\u6709\u975e\u5e38\u591a\u7684\u65b9\u6848\uff0c\u6bd4\u5982 MySQL \u7684 binlog\uff0cMongoDB \u7684 oplog\u3002\u57fa\u7840\u670d\u52a1\u505a\u5f97\u6bd4\u8f83\u597d\u7684\u516c\u53f8\u8fd8\u4f1a\u5c06\u4e0d\u540c\u5b58\u50a8\u7684\u66f4\u65b0\u6d88\u606f\u805a\u5408\u5230\u7c7b\u4f3c\u6d88\u606f\u961f\u5217\u7684\u7cfb\u7edf\u4e2d\uff0c\u65b9\u4fbf\u4e0b\u6e38\u4e1a\u52a1\u6d88\u8d39\u3002\\n[^4]: \u5047\u8bbe\u73b0\u5728\u6709 3 \u4e2a\u5012\u6392\u7d22\u5f15\uff0c\u90a3\u662f\u4e0d\u662f\u5f97\u4ece\u8fd9 3 \u4e2a\u5012\u6392\u7d22\u5f15\u4e2d\u90fd\u9009\u51fa top N \u4ee5\u540e\u624d\u80fd\u5f97\u5230\u6700\u7ec8\u7684\u7ed3\u679c\u5462\uff08\u5373\u603b\u5171\u9700\u8981\u67e5\u8be2 3 x N \u4e2a\u6761\u76ee\uff09\uff1f\u7b54\u6848\u662f\u4e0d\u7528\uff0c\u4e00\u79cd\u4f18\u5316\u7684\u5b9e\u73b0\u65b9\u6848\u662f\u540c\u65f6\u6bd4\u8f83 3 \u4e2a\u5012\u6392\u7d22\u5f15\u7684\u5934\u90e8\uff0c\u6311\u9009\u6700\u5927\u7684\u90a3\u4e2a\u6761\u76ee\uff0c\u7136\u540e\u4e00\u76f4\u91cd\u590d\u8fd9\u4e2a\u6b65\u9aa4\u76f4\u5230\u6ee1\u8db3\u9009\u51fa N \u4e2a\u6761\u76ee\uff0c\u8fd9\u6837\u603b\u5171\u9700\u8981\u67e5\u8be2\u7684\u6761\u76ee\u6570\u4ecd\u7136\u662f N\u3002\\n[^5]: \u6bd4\u5982\u5806\u5916\u5185\u5b58\u4ece\u8bbe\u8ba1\u4e0a\u5c31\u4e0d\u7528\u8003\u8651\u66f4\u65b0\u548c\u5220\u9664\u64cd\u4f5c"},{"id":"/2020/05/11/maybe-news-issue-0","metadata":{"permalink":"/blog/2020/05/11/maybe-news-issue-0","source":"@site/blog/2020-05-11-maybe-news-issue-0.md","title":"Maybe News Issue #0","description":"\u524d\u8a00\uff1a\u4ece\u8fd9\u4e00\u671f\u5f00\u59cb\u8fd9\u4e2a\u7cfb\u5217\u5c06\u4f1a\u6709\u4e00\u4e2a\u6b63\u5f0f\u7684\u540d\u5b57\u300cMaybe News\u300d\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c\u300c\u5175\u9a6c\u53f8\u300d\uff08Maybe Mars\uff09\u3002\u672c\u8eab\u6211\u5206\u4eab\u7684\u5185\u5bb9\u4e5f\u5f88\u6709\u53ef\u80fd\u662f\u4e00\u4e9b\u65e7\u95fb\uff0c\u53ea\u4e0d\u8fc7\u5bf9\u4e8e\u6211\u6765\u8bf4\u662f\u8fd8\u672a\u4e86\u89e3\u7684\u77e5\u8bc6\u7f62\u4e86\u3002\u4e0a\u4e00\u671f\u7684\u540d\u5b57\u8fd8\u662f\u7ef4\u6301\u539f\u6837\u5c31\u4e0d\u505a\u4fee\u6539\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u90ae\u4ef6\u8ba2\u9605\u8fd9\u4e2a\u7cfb\u5217\u7684\u6587\u7ae0\u3002","date":"2020-05-11T14:44:52.000Z","tags":[{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":6.555,"hasTruncateMarker":true,"authors":[],"frontMatter":{"layout":"post","title":"Maybe News Issue #0","date":"2020-05-11 14:44:52 +0800","tags":["maybe news"]},"unlisted":false,"prevItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u56db\uff09\uff1a\u7d22\u5f15\u66f4\u65b0","permalink":"/blog/2020/05/13/how-to-design-a-distributed-index-framework-part-4"},"nextItem":{"title":"Weekly Reading List Issue #1","permalink":"/blog/2020/04/26/weekly-reading-list-issue-1"}},"content":"> \u524d\u8a00\uff1a\u4ece\u8fd9\u4e00\u671f\u5f00\u59cb\u8fd9\u4e2a\u7cfb\u5217\u5c06\u4f1a\u6709\u4e00\u4e2a\u6b63\u5f0f\u7684\u540d\u5b57\u300cMaybe News\u300d\uff0c\u540d\u5b57\u6765\u6e90\u4e8e\u6211\u975e\u5e38\u559c\u6b22\u7684\u4e00\u4e2a\u56fd\u5185\u7684\u97f3\u4e50\u5382\u724c[\u300c\u5175\u9a6c\u53f8\u300d](https://en.wikipedia.org/wiki/Maybe_Mars)\uff08Maybe Mars\uff09\u3002\u672c\u8eab\u6211\u5206\u4eab\u7684\u5185\u5bb9\u4e5f\u5f88\u6709\u53ef\u80fd\u662f\u4e00\u4e9b\u65e7\u95fb\uff0c\u53ea\u4e0d\u8fc7\u5bf9\u4e8e\u6211\u6765\u8bf4\u662f\u8fd8\u672a\u4e86\u89e3\u7684\u77e5\u8bc6\u7f62\u4e86\u3002[\u4e0a\u4e00\u671f](/blog/2020/04/26/weekly-reading-list-issue-1)\u7684\u540d\u5b57\u8fd8\u662f\u7ef4\u6301\u539f\u6837\u5c31\u4e0d\u505a\u4fee\u6539\u3002\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7[\u90ae\u4ef6\u8ba2\u9605](https://maybe.news)\u8fd9\u4e2a\u7cfb\u5217\u7684\u6587\u7ae0\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## LightRec: a Memory and Search-Efficient Recommender System\\n\\n[[\u94fe\u63a5]](http://staff.ustc.edu.cn/~liandefu/paper/lightrec.pdf)\\n\\n\u8fd9\u7bc7\u8bba\u6587\u7531\u5fae\u8f6f\u4e9a\u6d32\u7814\u7a76\u9662\u4e0e\u4e2d\u79d1\u5927\u5171\u540c\u53d1\u8868\u5728 [WWW 2020](https://www2020.thewebconf.org) \u4f1a\u8bae\u4e0a\uff0c\u63d0\u51fa\u4e86\u4e00\u79cd\u65b0\u7684\u8868\u793a\u7269\u54c1\u5411\u91cf\u7684\u65b9\u6cd5\uff0c\u5927\u5e45\u964d\u4f4e\u5b58\u50a8\u5411\u91cf\u6240\u9700\u7a7a\u95f4\u7684\u540c\u65f6\u8fd8\u663e\u8457\u63d0\u5347\u4e86\u53ec\u56de\u6548\u679c\u3002\u4e00\u4e2a\u76f4\u89c2\u7684\u6570\u636e\uff1aLightRec \u5c06 1 \u5343\u4ebf 256 \u7ef4\u53cc\u7cbe\u5ea6\u5411\u91cf\u7684\u5185\u5b58\u5360\u7528\u4ece 9.5 GB \u964d\u5230\u4e86 337 MB\uff0c\u8fd9\u662f\u975e\u5e38\u60ca\u4eba\u7684\uff01\u73b0\u5728\u5de5\u4e1a\u754c\u5e38\u7528\u7684 [nmslib](https://github.com/nmslib/nmslib) \u548c [Faiss](https://github.com/facebookresearch/faiss) \u90fd\u65e0\u6cd5\u5b9e\u73b0\u5982\u6b64\u9ad8\u7684\u538b\u7f29\u6bd4\uff0c\u56e0\u6b64\u5f88\u591a\u65f6\u5019\u90fd\u9700\u8981\u501f\u52a9\u5206\u5e03\u5f0f\u5b58\u50a8\u6765\u6ee1\u8db3\u4e1a\u52a1\u573a\u666f\uff0c\u5982\u679c\u771f\u7684\u5982\u8bba\u6587\u4e2d\u6240\u63cf\u8ff0\u7684\u4e00\u6837\u90a3\u5355\u673a\u5b58\u50a8\u5728\u672a\u6765\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u6765\u8bf4\u90fd\u662f\u5b8c\u5168\u8db3\u591f\u7684\u3002\\n\\n\u8fd9\u91cc\u7b80\u5355\u89e3\u91ca\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u5411\u91cf\u53ec\u56de\u5bf9\u4e8e\u5f53\u4e0b\u7684\u63a8\u8350\u7cfb\u7edf\u5982\u6b64\u91cd\u8981\uff0c\u4f20\u7edf\u7684\u53ec\u56de\u662f\u57fa\u4e8e\u5012\u6392\u7d22\u5f15\u7684\u65b9\u5f0f\uff0c\u6b63\u5982\u6211\u5728[\u4e4b\u524d\u7684\u4e00\u7bc7\u6587\u7ae0](/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1/)\u4e2d\u4ecb\u7ecd\u7684\u90a3\u6837\uff0c\u53ec\u56de\u4e0e\u6a21\u578b\u4f18\u5316\u76ee\u6807\u4e4b\u95f4\u7684\u5dee\u5f02\u8f83\u5927\u5bfc\u81f4\u53ec\u56de\u6548\u679c\u59cb\u7ec8\u8f83\u5dee\u3002\u81ea\u4ece [Learning Deep Structured Semantic Models for Web Search using Clickthrough Data](https://www.microsoft.com/en-us/research/publication/learning-deep-structured-semantic-models-for-web-search-using-clickthrough-data) \u8fd9\u7bc7\u8bba\u6587\uff08\u540c\u6837\u4e5f\u662f\u7531\u5fae\u8f6f\u7814\u7a76\u9662\u53d1\u8868\uff09\u63d0\u51fa DSSM\uff08Deep Structured Semantic Models\uff09\u4ee5\u540e\uff0c\u5c06\u53ec\u56de\u4e0e DNN \u8fdb\u884c\u7ed3\u5408\uff0c\u663e\u8457\u63d0\u5347\u4e86\u53ec\u56de\u7684\u6548\u679c\uff0c\u5728\u5f88\u591a\u516c\u53f8\u7684\u5b9e\u8df5\u4e2d\u4e5f\u7684\u786e\u8bba\u8bc1\u4e86 DSSM \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u6548\u7684\u53ec\u56de\u65b9\u5f0f\u3002DSSM \u7684\u6838\u5fc3\u662f\u5206\u522b\u4e3a\u7269\u54c1\u548c\u7528\u6237\u751f\u6210\u5411\u91cf\uff0c\u518d\u901a\u8fc7 ANN\uff08Approximate Nearest Neighbors\uff09\u67e5\u8be2\u76f8\u4f3c\u5411\u91cf\u4ece\u800c\u5b9e\u73b0\u53ec\u56de\u3002\u56e0\u6b64\u5411\u91cf\u7684\u5b58\u50a8\u548c\u67e5\u8be2\u6548\u7387\u51b3\u5b9a\u4e86\u5728\u7ebf\u8bf7\u6c42\u7684\u6548\u679c\u548c\u6027\u80fd\uff0c\u5982\u4f55\u5e73\u8861\u5411\u91cf\u7d22\u5f15\u7684\u7a7a\u95f4\u5360\u7528\u548c\u53ec\u56de\u6548\u679c\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\\n\\n\u5fae\u8f6f\u7814\u7a76\u9662\u7684\u5fae\u4fe1\u516c\u4f17\u53f7\u6709\u4e00\u7bc7\u7b80\u77ed\u7684\u9488\u5bf9\u8fd9\u7bc7\u8bba\u6587\u7684[\u4e2d\u6587\u7248\u4ecb\u7ecd](https://mp.weixin.qq.com/s/E43gc16A3OVWgxyfdUxr7g)\uff0c\u6709\u5174\u8da3\u4e5f\u53ef\u4ee5\u5148\u770b\u8fd9\u7bc7\u6587\u7ae0\u3002\\n\\n## TFRT: A new TensorFlow runtime\\n\\n[[\u94fe\u63a5]](https://blog.tensorflow.org/2020/04/tfrt-new-tensorflow-runtime.html)\\n\\nGoogle \u8fd1\u671f\u5f00\u6e90\u4e86\u65b0\u7684 TensorFlow \u8fd0\u884c\u65f6 TFRT\uff08TensorFlow Runtime\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u4ecb\u4e8e\u4e0a\u5c42\u7528\u6237\u4ee3\u7801\u548c\u5e95\u5c42\u8bbe\u5907\u4e4b\u95f4\u7684\u6267\u884c\u73af\u5883\u3002\u9879\u76ee\u7684\u613f\u666f\u662f\u5b9e\u73b0\u4e00\u4e2a\u7edf\u4e00\u7684\u3001\u53ef\u6269\u5c55\u7684\u3001\u6027\u80fd\u9996\u5c48\u4e00\u6307\uff08best-in-class\uff09\u7684\uff0c\u540c\u65f6\u53ef\u8de8\u8d8a\u591a\u79cd\u9886\u57df\u786c\u4ef6\uff08domain specific hardware\uff09\u7684\u8fd0\u884c\u65f6\u3002\u672a\u6765 TFRT \u4f1a\u6210\u4e3a TensorFlow \u9ed8\u8ba4\u7684\u8fd0\u884c\u65f6\uff0c\u76ee\u524d\u8fd8\u5728\u96c6\u6210\u4e2d\u3002\u4ece ResNet-50 \u7684 inference \u6d4b\u8bd5\u7ed3\u679c\u4e0a\u770b\u5e73\u5747\u63d0\u5347\u4e86 28% \u7684\u6027\u80fd\u3002\\n\\n## Why We Need DevOps for ML Data\\n\\n[[\u94fe\u63a5]](https://tecton.ai/blog/devops-ml-data)\\n\\n\u867d\u7136\u8fd9\u662f\u4e00\u7bc7\u4ea7\u54c1\u63a8\u5e7f\u8f6f\u6587\uff08\u5728\u6587\u7ae0\u6700\u540e\u4e00\u8282\uff09\uff0c\u4f46\u662f\u6587\u7ae0\u4e2d\u666e\u53ca\u7684\u5173\u4e8e DevOps \u4e0e\u673a\u5668\u5b66\u4e60\u4e4b\u95f4\u7684\u5173\u7cfb\u8fd8\u662f\u975e\u5e38\u6709\u4ef7\u503c\u7684\u3002\u5f88\u591a\u4eba\u53ef\u80fd\u4ee5\u4e3a\u673a\u5668\u5b66\u4e60\u5c31\u53ea\u662f\u6a21\u578b\u7b97\u6cd5\u800c\u5df2\uff0c\u8bda\u7136\u8fd9\u662f\u5b66\u672f\u7814\u7a76\u7684\u57fa\u77f3\uff0c\u4f46\u662f\u8981\u771f\u6b63\u628a\u673a\u5668\u5b66\u4e60\u5e94\u7528\u5230\u5de5\u4e1a\u754c\u5149\u6709\u7b97\u6cd5\u662f\u8fdc\u8fdc\u4e0d\u591f\u7684\u3002Google \u8457\u540d\u7684 [Hidden Technical Debt in Machine Learning Systems](https://papers.nips.cc/paper/5656-hidden-technical-debt-in-machine-learning-systems.pdf.) \u8bba\u6587\u5df2\u7ecf\u8bba\u8ff0\u4e86\u90a3\u4e9b\u9690\u85cf\u5728\u6a21\u578b\u80cc\u540e\u7684\u5f80\u5f80\u88ab\u4eba\u5ffd\u7565\u7684\u6280\u672f\uff0c\u6a21\u578b\u89c4\u6a21\u8d8a\u5927\u9700\u8981\u4ed8\u51fa\u7684\u5de5\u7a0b\u52aa\u529b\u4e5f\u662f\u8d8a\u5927\u7684\uff08\u6240\u4ee5\u5f88\u591a\u65f6\u5019\u5927\u516c\u53f8\u624d\u9700\u8981\u81ea\u5df1\u9020\u8f6e\u5b50\uff09\u3002\u4f5c\u4e3a\u884d\u751f\u9605\u8bfb\u4e5f\u53ef\u4ee5\u540c\u65f6\u770b\u770b [How LinkedIn, Uber, Lyft, Airbnb and Netflix are Solving Data Management and Discovery for Machine Learning Solutions](https://towardsdatascience.com/how-linkedin-uber-lyft-airbnb-and-netflix-are-solving-data-management-and-discovery-for-machine-9b79ee9184bb) \u8fd9\u7bc7\u6587\u7ae0\u3002\\n\\n## Mid-stack inlining in Go\\n\\n[[\u94fe\u63a5]](https://dave.cheney.net/2020/05/02/mid-stack-inlining-in-go)\\n\\nDave Cheney \u7ee7\u7eed\u79d1\u666e Go \u7684\u4e00\u4e9b\u5b9e\u73b0\u7ec6\u8282\uff0c\u8fd9\u6b21\u7684\u4e3b\u9898\u662f\u7f16\u8bd1\u5668\u5982\u4f55\u5b9e\u73b0 mid-stack inlining\u3002\u6240\u8c13 mid-stack inlining \u5c31\u662f\u5c06\u90a3\u4e9b\u8c03\u7528\u4e86\u5176\u5b83\u51fd\u6570\u7684\u51fd\u6570\u53d8\u6210 inline\uff0c\u76f8\u5bf9\u7684\u8fd8\u6709 leaf inlining\uff0c\u5373\u4e0d\u8c03\u7528\u4efb\u4f55\u5176\u5b83\u51fd\u6570\u3002\u6709\u5174\u8da3\u4e86\u89e3 leaf inlining \u7684\u53ef\u4ee5\u770b Dave Cheney \u7684[\u4e0a\u4e00\u7bc7\u6587\u7ae0](https://dave.cheney.net/2020/04/25/inlining-optimisations-in-go)\u3002\\n\\n## Why We Leverage Multi-tenancy in Uber\u2019s Microservice Architecture\\n\\n[[\u94fe\u63a5]](https://eng.uber.com/multitenancy-microservice-architecture)\\n\\nUber \u4ecb\u7ecd\u4e86\u4ed6\u4eec\u5728\u5fae\u670d\u52a1\u9886\u57df\u5b9e\u8df5\u7684\u4e00\u4e2a\u7ecf\u9a8c\u300c\u591a\u79df\u6237\u300d\uff0c\u7b80\u5355\u8bb2\u5c31\u662f\u8ba9\u8bf7\u6c42\u94fe\u8def\u4e0a\u7684\u6240\u6709\u7ec4\u4ef6\u548c\u7cfb\u7edf\u90fd\u80fd\u591f\u611f\u77e5\u300c\u79df\u6237\u300d\u8fd9\u4e2a\u6982\u5ff5\uff0c\u6bd4\u5982\u79df\u6237\u53ef\u4ee5\u5206\u4e3a\u751f\u4ea7\u73af\u5883\u548c\u6d4b\u8bd5\u73af\u5883\u3002Uber \u5217\u4e3e\u4e86\u4e24\u4e2a\u5e94\u7528\u573a\u666f\uff1a\u96c6\u6210\u6d4b\u8bd5\u548c Canary \u90e8\u7f72\uff0c\u8fd9\u4e24\u4e2a\u573a\u666f\u90fd\u4f9d\u8d56\u751f\u4ea7\u73af\u5883\u7684\u8bf7\u6c42\uff0c\u6709\u4e86\u79df\u6237\u7684\u6982\u5ff5\u5c31\u53ef\u4ee5\u81ea\u52a8\u8fdb\u884c\u8bf7\u6c42\u8def\u7531\u548c\u6570\u636e\u9694\u79bb\u3002\u613f\u666f\u5176\u5b9e\u633a\u7f8e\u597d\uff0c\u4f46\u300c\u4ee3\u4ef7\u300d\u4e5f\u662f\u4e0d\u5bb9\u5ffd\u89c6\uff0c\u524d\u9762\u8bb2\u4e86\u8981\u8ba9\u6240\u6709\u7ec4\u4ef6\u548c\u7cfb\u7edf\u90fd\u611f\u77e5\u5c31\u975e\u5e38\u4f9d\u8d56\u57fa\u7840\u7ec4\u4ef6\u7684\u7edf\u4e00\uff0c\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5f88\u591a\u65f6\u5019\u5e76\u4e0d\u5355\u7eaf\u662f\u4e00\u4e2a\u6280\u672f\u95ee\u9898\u3002\u5982\u4f55\u505a\u597d\u4e0d\u540c\u73af\u5883\u7684\u6570\u636e\u9694\u79bb\u4e5f\u662f\u4e00\u4e2a\u96be\u9898\uff0c\u5173\u4e8e\u8fd9\u4e00\u70b9\u6587\u7ae0\u5e76\u6ca1\u6709\u505a\u7279\u522b\u8be6\u7ec6\u7684\u4ecb\u7ecd\u3002"},{"id":"/2020/04/26/weekly-reading-list-issue-1","metadata":{"permalink":"/blog/2020/04/26/weekly-reading-list-issue-1","source":"@site/blog/2020-04-26-weekly-reading-list-issue-1.md","title":"Weekly Reading List Issue #1","description":"FoundationDB Record Layer: A Multi-Tenant Structured Datastore","date":"2020-04-26T12:22:08.000Z","tags":[{"inline":true,"label":"wrl","permalink":"/blog/tags/wrl"},{"inline":true,"label":"maybe news","permalink":"/blog/tags/maybe-news"}],"readingTime":3.44,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Weekly Reading List Issue #1","date":"2020-04-26 12:22:08 +0800","tags":["wrl","maybe news"]},"unlisted":false,"prevItem":{"title":"Maybe News Issue #0","permalink":"/blog/2020/05/11/maybe-news-issue-0"},"nextItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e09\uff09\uff1a\u6b63\u6392\u7d22\u5f15","permalink":"/blog/2020/04/24/how-to-design-a-distributed-index-framework-part-3"}},"content":"\x3c!--truncate--\x3e\\n\\n## FoundationDB Record Layer: A Multi-Tenant Structured Datastore\\n\\n[[\u94fe\u63a5]](https://arxiv.org/abs/1901.04452)\\n\\nFoundationDB 2015 \u5e74\u88ab Apple [\u6536\u8d2d](https://techcrunch.com/2015/03/24/apple-acquires-durable-database-company-foundationdb)\u5e76\u4e8e 2018 \u5e74[\u5f00\u6e90](https://www.foundationdb.org/blog/foundationdb-is-open-source)\uff0c\u4f5c\u4e3a Apple \u4e3a\u6570\u4e0d\u591a\u7684\u5f00\u6e90\u9879\u76ee\u53d7\u5230\u5e7f\u6cdb\u5173\u6ce8\u3002\u7b80\u5355\u4ecb\u7ecd FoundationDB \u662f\u4e00\u4e2a\u57fa\u4e8e Paxos \u7684\u5206\u5e03\u5f0f KV \u5b58\u50a8\uff0c\u5e95\u5c42\u5b58\u50a8\u7ed3\u6784\u662f B-tree\uff08\u662f\u7684\uff0c\u5e76\u4e0d\u662f LSM tree\uff09\uff0c\u5b9a\u4f4d\u4e0a\u8ddf Google \u7684 Spanner \u975e\u5e38\u76f8\u4f3c\u3002\u8fd9\u7bc7\u8bba\u6587\u53d1\u8868\u5728 [SIGMOD 2019](https://sigmod2019.org/sigmod_industry_list)\uff0c\u4ecb\u7ecd\u7684\u662f\u57fa\u4e8e FoundationDB \u7684 record-oriented \u7ed3\u6784\u5316\u5b58\u50a8\u6846\u67b6\uff08\u4e5f\u5df2\u7ecf[\u5f00\u6e90](https://github.com/FoundationDB/fdb-record-layer)\uff09\u3002[Layer](https://apple.github.io/foundationdb/layer-concept.html) \u662f FoundationDB \u4e00\u4e2a\u5f88\u6709\u7279\u8272\u7684\u6982\u5ff5\uff0c\u5728\u6700\u57fa\u672c\u7684 KV \u4e0a\u65e0\u9650\u6269\u5c55\u66f4\u52a0\u590d\u6742\u7684\u6570\u636e\u6a21\u578b\u3002\u8fd9\u4e2a\u6846\u67b6\u6574\u4f53\u4e0a\u6709\u51e0\u4e2a\u4eae\u70b9\uff1a\\n\\n- \u57fa\u4e8e Protocol Buffers \u7684\u6570\u636e\u6a21\u578b\u5b9a\u4e49\\n- \u4e30\u5bcc\u7684\u7d22\u5f15\u7c7b\u578b\u652f\u6301\uff08\u5355\u5b57\u6bb5\u7d22\u5f15\u3001\u5d4c\u5957\u5b57\u6bb5\u7d22\u5f15\u3001\u5217\u8868\u5b57\u6bb5\u7d22\u5f15\u3001\u805a\u5408\u7d22\u5f15\u3001rank \u7d22\u5f15\u3001\u5168\u6587\u7d22\u5f15\u3001\u591a\u5b57\u6bb5\u8054\u5408\u7d22\u5f15\u7b49\uff09\uff0c\u5e76\u4e14\u7d22\u5f15\u662f\u53ef\u4ee5\u8de8\u8868\u7684\uff08\u8fd9\u91cc\u7b80\u5355\u5c06 record type \u7406\u89e3\u4e3a\u8868\uff09\u3002\\n- \u57fa\u4e8e Java \u7684\u67e5\u8be2 API\uff08\u5e76\u4e0d\u662f SQL\uff09\\n\\n\u76ee\u524d\u5df2\u7ecf\u88ab\u5e94\u7528\u5728 [CloudKit](https://developer.apple.com/icloud/cloudkit)\uff0c\u66ff\u4ee3\u65e7\u7684 Cassandra + Solr \u67b6\u6784\uff08\u65e7\u67b6\u6784\u4e5f\u6709[\u4e00\u7bc7\u8bba\u6587](https://dl.acm.org/doi/10.1145/3164135.3164138)\u4ecb\u7ecd\uff09\u3002CloudKit \u4f5c\u4e3a\u4e00\u4e2a\u5e9e\u5927\u7684\u5b58\u50a8\u670d\u52a1\u4f9b\u6240\u6709 Apple \u751f\u6001\u7684\u5e94\u7528\u548c\u7528\u6237\u4f7f\u7528\uff0c\u8fd9\u4e5f\u5c31\u662f\u8bba\u6587\u6807\u9898\u4e2d Multi-Tenant \u7684\u542b\u4e49\u3002\\n\\n## Introducing Dispatch\\n\\n[[\u94fe\u63a5]](https://netflixtechblog.com/introducing-dispatch-da4b8a2a8072)\\n\\nIncident \u7ba1\u7406\u4e00\u76f4\u662f DevOps \u9886\u57df\u6bd4\u8f83\u70ed\u95e8\u7684\u8bdd\u9898\uff0cNetflix \u5f00\u6e90\u4e86\u4ed6\u4eec\u81ea\u5df1\u7684 incident \u7ba1\u7406\u5de5\u5177 [Dispatch](https://github.com/Netflix/dispatch)\uff0c\u66f4\u65e9\u4e4b\u524d LinkedIn \u4e5f[\u5f00\u6e90](https://engineering.linkedin.com/blog/2017/06/open-sourcing-iris-and-oncall)\u8fc7\u7c7b\u4f3c\u7684\u4e1c\u897f\u3002\\n\\n## Agent57: Outperforming the human Atari benchmark\\n\\n[[\u94fe\u63a5]](https://deepmind.com/blog/article/Agent57-Outperforming-the-human-Atari-benchmark)\\n\\n\u5927\u4f17\u5bf9\u4e8e DeepMind \u7684\u8ba4\u77e5\u6050\u6015\u5c31\u662f[\u4e0b\u4e0b\u56f4\u68cb](https://en.wikipedia.org/wiki/AlphaGo)\u3001[\u6253\u6253\u661f\u9645](https://deepmind.com/blog/article/alphastar-mastering-real-time-strategy-game-starcraft-ii)\uff0c\u6700\u8fd1\u53c8\u641e\u8d77\u4e86\u96c5\u8fbe\u5229\u7684\u6e38\u620f\uff0c\u53ef\u4ee5\u8bf4\u662f\u628a\u5f3a\u5316\u5b66\u4e60\u73a9\u513f\u51fa\u82b1\u513f\u4e86\u3002\u6700\u65b0\u4e00\u4ee3\u7684 Agent57 \u5df2\u7ecf\u53ef\u4ee5\u5728\u5168\u90e8 57 \u4e2a\u6e38\u620f\u91cc\u6218\u80dc\u4eba\u7c7b\u73a9\u5bb6\u3002\\n\\n## An Illustrated Guide to Graph Neural Networks\\n\\n[[\u94fe\u63a5]](https://medium.com/dair-ai/an-illustrated-guide-to-graph-neural-networks-d5564a551783)\\n\\nGraph Neural Networks\uff08GNN\uff09\u6700\u8fd1\u51e0\u5e74\u5df2\u7ecf\u706b\u5f97\u4e0d\u884c\uff0cAmazon \u4e5f\u5f00\u6e90\u4e86\u76f8\u5173\u7684\u6846\u67b6 [DGL](https://www.dgl.ai/)\u3002\u8fd9\u7bc7\u6587\u7ae0\u4ee5\u4e00\u79cd\u7b80\u5355\u7684\u793a\u610f\u56fe\u7684\u5f62\u5f0f\u4ecb\u7ecd\u4ec0\u4e48\u662f GNN\uff0c\u5e2e\u52a9\u4e0d\u4e86\u89e3 GNN \u7684\u4eba\u5efa\u7acb\u4e00\u4e2a\u7b80\u5355\u7684\u8ba4\u77e5\u3002\\n\\n## Debugging with Delve\\n\\n[[\u94fe\u63a5]](https://tpaschalis.github.io/delve-debugging)\\n\\n[Delve](https://github.com/go-delve/delve) \u662f\u4e00\u4e2a Go \u8bed\u8a00\u7684 debugger\uff0cGo \u5b98\u65b9\u4e5f[\u63a8\u8350](https://golang.org/doc/gdb)\u4f18\u5148\u8003\u8651\u4f7f\u7528\u5b83\u800c\u4e0d\u662f GDB\u3002\u8fd9\u7bc7\u6587\u7ae0\u7b80\u5355\u4ecb\u7ecd\u4e86 Delve \u7684\u57fa\u672c\u529f\u80fd\uff0c\u5176\u5b9e\u8ddf GDB \u7684\u4f7f\u7528\u65b9\u5f0f\u5f88\u7c7b\u4f3c\uff0c\u4f46\u662f Delve \u7684\u4eae\u70b9\u5728\u4e8e\u53ef\u4ee5\u7406\u89e3 Go \u8bed\u8a00\u7684\u8bed\u4e49\u4ee5\u53ca\u8c03\u8bd5 goroutine\u3002\\n\\n## gofiber/fiber\\n\\n[[\u94fe\u63a5]](https://github.com/gofiber/fiber)\\n\\nFiber \u662f\uff08\u53c8\uff09\u4e00\u4e2a Go \u8bed\u8a00\u7684 HTTP \u6846\u67b6\uff0c\u8bbe\u8ba1\u4e0a\u5f88\u5927\u7a0b\u5ea6\u53d7\u4e86 Node.js \u4e2d\u975e\u5e38\u6d41\u884c\u7684 [Express](https://expressjs.com) \u542f\u53d1\uff08API \u975e\u5e38\u76f8\u4f3c\uff09\u3002\u5f97\u76ca\u4e8e\u5e95\u5c42\u4f7f\u7528\u7684 [fasthttp](https://github.com/valyala/fasthttp) \u5e93\uff0c\u5728 Fiber \u81ea\u5df1\u7684[\u8bc4\u6d4b](https://docs.gofiber.io/benchmarks)\u4e2d\u8d85\u8d8a\u4e86\u5f88\u591a\u5e02\u9762\u4e0a\u73b0\u6709\u7684\u6846\u67b6\u3002"},{"id":"/2020/04/24/how-to-design-a-distributed-index-framework-part-3","metadata":{"permalink":"/blog/2020/04/24/how-to-design-a-distributed-index-framework-part-3","source":"@site/blog/2020-04-24-how-to-design-a-distributed-index-framework-part-3.md","title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e09\uff09\uff1a\u6b63\u6392\u7d22\u5f15","description":"\u8fd9\u662f\u4e00\u4e2a\u7cfb\u5217\u6587\u7ae0\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002","date":"2020-04-24T16:29:40.000Z","tags":[{"inline":true,"label":"index","permalink":"/blog/tags/index"},{"inline":true,"label":"distrubted","permalink":"/blog/tags/distrubted"},{"inline":true,"label":"htdadif","permalink":"/blog/tags/htdadif"},{"inline":true,"label":"recommendation","permalink":"/blog/tags/recommendation"},{"inline":true,"label":"machine learning","permalink":"/blog/tags/machine-learning"}],"readingTime":13.175,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e09\uff09\uff1a\u6b63\u6392\u7d22\u5f15","date":"2020-04-24 16:29:40 +0800","tags":["index","distrubted","htdadif","recommendation","machine learning"]},"unlisted":false,"prevItem":{"title":"Weekly Reading List Issue #1","permalink":"/blog/2020/04/26/weekly-reading-list-issue-1"},"nextItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e8c\uff09\uff1aSchema\u3001API \u53ca\u5012\u6392\u7d22\u5f15","permalink":"/blog/2020/04/22/how-to-design-a-distributed-index-framework-part-2"}},"content":"> \u8fd9\u662f\u4e00\u4e2a[\u7cfb\u5217\u6587\u7ae0](/blog/tags/htdadif)\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002\\n\\n[\u4e0a\u4e00\u7bc7\u6587\u7ae0](/blog/2020/04/22/how-to-design-a-distributed-index-framework-part-2)\u4ecb\u7ecd\u4e86\u5982\u4f55\u5b9a\u4e49 schema\u3001\u67e5\u8be2 API \u4ee5\u53ca\u600e\u6837\u5b9e\u73b0\u5012\u6392\u7d22\u5f15\uff0c\u672c\u7bc7\u5c06\u4f1a\u7740\u91cd\u4ecb\u7ecd\u53e6\u4e00\u79cd\u91cd\u8981\u7684\u7d22\u5f15\u7c7b\u578b\u300c\u6b63\u6392\u7d22\u5f15\u300d\uff0c\u4ee5\u53ca\u8ddf\u6b63\u6392\u7d22\u5f15\u5bc6\u5207\u76f8\u5173\u7684\u300c\u4e8c\u7ea7\u7d22\u5f15\u300d\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u6b63\u6392\u7d22\u5f15\\n\\n\u6b63\u6392\u7d22\u5f15\u662f\u4e3b\u952e\uff08primary key\uff09\u5230\u6761\u76ee\u7684\u4e00\u4e00\u6620\u5c04\uff0c\u5728\u63a8\u8350\u7cfb\u7edf\u4e2d\u4f7f\u7528\u6b63\u6392\u7d22\u5f15\u7684\u573a\u666f\u662f\u83b7\u53d6\u6a21\u578b\u8ba1\u7b97\u6240\u9700\u7684\u539f\u59cb\u7279\u5f81\uff08raw feature\uff09\u3002\u4e3a\u4ec0\u4e48\u8bf4\u662f\u539f\u59cb\u7279\u5f81\u5462\uff1f\u56e0\u4e3a\u8fd9\u4e9b\u6570\u636e\u8fd8\u9700\u8981\u7ecf\u8fc7\u7279\u5f81\u63d0\u53d6\uff08feature extraction\uff09\u4ee5\u540e\u624d\u80fd\u4f5c\u4e3a\u6700\u7ec8\u8f93\u5165\u7ed9\u6a21\u578b\u7684\u53c2\u6570\uff0c\u7279\u5f81\u63d0\u53d6\u4e0d\u5728\u672c\u7cfb\u5217\u6587\u7ae0\u7684\u8ba8\u8bba\u8303\u7574\u3002\\n\\n\u8fd9\u91cc\u5148\u7b80\u5355\u8bb2\u8bb2\u4ec0\u4e48\u662f<a href=\\"https://en.wikipedia.org/wiki/Feature_(machine_learning)\\">\u7279\u5f81</a>\u3002\u6700\u65e9\u6211\u4eec\u63d0\u5230\u673a\u5668\u5b66\u4e60\u7684\u65f6\u5019\u8bb2\u8fc7\u6a21\u578b\u662f\u9996\u5148\u7ecf\u8fc7\u79bb\u7ebf\u8bad\u7ec3\u4ea7\u751f\uff0c\u7136\u540e\u7528\u4e8e\u5728\u7ebf\u9884\u6d4b\u53bb\u9884\u4f30\u7528\u6237\u7684\u559c\u597d\u3002\u5728\u79bb\u7ebf\u8bad\u7ec3\u9636\u6bb5\u7b97\u6cd5\u5de5\u7a0b\u5e08\u9700\u8981\u5148\u4ece\u8bad\u7ec3\u6570\u636e[^1]\u4eba\u5de5\u7b5b\u9009\u51fa\u4e00\u6279\u5bf9\u4e8e\u5f53\u524d\u60f3\u8981\u8bad\u7ec3\u7684\u6a21\u578b\u6709\u610f\u4e49\u3001\u6709\u4ef7\u503c\u7684\u3001\u53ef\u8861\u91cf\u7684\u5c5e\u6027\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a[\u300c\u7279\u5f81\u5de5\u7a0b\uff08feature engineering\uff09\u300d](https://en.wikipedia.org/wiki/Feature_engineering)\u3002\u7279\u5f81\u5de5\u7a0b\u8003\u9a8c\u7684\u662f\u4e00\u4e2a\u7b97\u6cd5\u5de5\u7a0b\u5e08\u5bf9\u4e8e\u4e1a\u52a1\u6570\u636e\u7684\u7406\u89e3\u3001\u7ecf\u9a8c\u3001\u6570\u636e\u654f\u611f\u5ea6\u4ee5\u53ca\u7edf\u8ba1\u5206\u6790\u80fd\u529b\uff0c\u5f88\u591a\u65f6\u5019\u8fd8\u9700\u8981\u7ed3\u5408\u5927\u91cf\u7684 A/B \u5b9e\u9a8c\u624d\u884c\u3002\u8fd1\u5e74\u6765\u6df1\u5ea6\u5b66\u4e60\u7684\u5174\u8d77\u5df2\u7ecf\u5c06\u7279\u5f81\u5de5\u7a0b\u7684\u590d\u6742\u5ea6\u964d\u4f4e\u4e0d\u5c11\uff0c\u4f46\u7279\u5f81\u5de5\u7a0b\u4f9d\u7136\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6b65\u9aa4\u3002\u8fd9\u4e9b\u88ab\u7b5b\u9009\u51fa\u6765\u7684\u5c5e\u6027\u5c31\u662f\u7279\u5f81\uff0c\u4e3e\u4e2a\u76f4\u89c2\u7684\u4f8b\u5b50\u4e0b\u9762\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u6a21\u578b\u7279\u5f81\u4f7f\u7528\uff1a\u7528\u6237\u7684\u5730\u7406\u4f4d\u7f6e\u3001\u7528\u6237\u6027\u522b\u3001\u7528\u6237\u770b\u8fc7\u7684\u5185\u5bb9\u603b\u66dd\u5149/\u70b9\u51fb/\u8d5e/\u8bc4\u8bba\u7684\u6b21\u6570\u7b49\u3002\\n\\n\u6b63\u6392\u7d22\u5f15\u4e2d\u7684\u6761\u76ee\u5b58\u50a8\u7684\u5c31\u662f\u5927\u91cf\u7684\u539f\u59cb\u7279\u5f81\uff0c\u8fd9\u4e9b\u7279\u5f81\u4e5f\u662f\u5728 schema \u4e2d\u5b9a\u4e49\uff0c\u57fa\u672c\u4e0a schema \u4e2d\u9664\u4e86\u8ddf\u5012\u6392\u7d22\u5f15\u6709\u5173\u7684\u5b57\u6bb5\u5176\u5b83\u90fd\u5c5e\u4e8e\u7279\u5f81\u3002\u56e0\u6b64\u53ef\u4ee5\u770b\u5230\u6b63\u6392\u7d22\u5f15\u6761\u76ee\u7684\u5927\u5c0f\u662f\u8fdc\u5927\u4e8e\u5012\u6392\u7d22\u5f15\u6761\u76ee\u7684\u3002\u4e3a\u4e86\u4fdd\u8bc1\u67e5\u8be2\u7684\u6027\u80fd\u6211\u4eec\u4f9d\u7136\u9009\u62e9\u4e86\u5c06\u6b63\u6392\u7d22\u5f15\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u4f46\u662f\u8fd9\u4f1a\u5e26\u6765\u4e00\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u6b63\u6392\u7d22\u5f15\u5360\u7528\u7684\u7a7a\u95f4\u53ef\u80fd\u4f1a\u5f88\u5927\uff0c\u6211\u4eec\u4e5f\u662f\u660e\u786e\u77e5\u9053\u8fd9\u4e9b\u6570\u636e\u662f\u9700\u8981\u5e38\u9a7b\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u5bf9\u4e8e\u7c7b\u4f3c Java \u8fd9\u79cd\u5e26\u6709 GC \u7684\u8bed\u8a00\u6765\u8bf4\u8fd9\u90e8\u5206\u6570\u636e\u53cd\u800c\u4f1a\u589e\u52a0\u5783\u573e\u56de\u6536\u5668\u7684\u538b\u529b\u3002\u8fd9\u4e9b\u6570\u636e\u4f1a\u957f\u671f\u5b58\u50a8\u5728 old generation \u4e2d\uff0c\u4e0d\u4ec5\u6d6a\u8d39\u7a7a\u95f4\u4e5f\u964d\u4f4e\u4e86 GC \u7684\u6027\u80fd\u3002\u90a3\u4e48\u6211\u4eec\u7684\u76ee\u6807\u4fbf\u662f\u5c3d\u91cf\u4e0d\u8981\u8ba9\u8fd9\u90e8\u5206\u6570\u636e\u5bf9 GC \u9020\u6210\u592a\u5927\u7684\u5f71\u54cd\uff0c\u6700\u597d\u662f\u5bf9 GC \u4e0d\u53ef\u89c1\u7684\uff0c\u6bd5\u7adf\u300c\u773c\u4e0d\u89c1\u5fc3\u4e0d\u70e6\u300d\u3002\\n\\n\u4e00\u79cd\u6bd4\u8f83\u5e38\u89c1\u7684\u89e3\u51b3\u65b9\u6848\u662f\u300c\u5806\u5916\u5185\u5b58\uff08off-heap\uff09\u300d[^2]\u3002\u6240\u8c13\u5806\u5916\u5185\u5b58\u5c31\u662f\u901a\u8fc7\u67d0\u4e9b\u7279\u6b8a\u7684 API \u5206\u914d\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4e14\u8fd9\u4e2a\u5185\u5b58\u7a7a\u95f4\u5bf9\u4e8e GC \u662f\u4e0d\u53ef\u89c1\u7684\uff0c\u5f53\u7136\u4e5f\u5c31\u4e0d\u4f1a\u5f71\u54cd GC\u3002\u542c\u8d77\u6765\u8fd9\u4e2a\u65b9\u6cd5\u4f3c\u4e4e\u5f88\u7b80\u5355\u76f4\u63a5\uff0c\u4f46\u51e1\u4e8b\u6709\u597d\u4e5f\u6709\u574f\uff0c\u7ed5\u5f00 GC \u7684\u526f\u4f5c\u7528\u662f\u4f60\u9700\u8981\u81ea\u5df1\u7ba1\u7406\u8fd9\u5757\u513f\u5185\u5b58\uff0c\u5982\u4f55\u9ad8\u6548\u5730\u4f7f\u7528\u5806\u5916\u5185\u5b58\u662f\u4e00\u4e2a\u6bd4\u8f83\u5173\u952e\u7684\u95ee\u9898\u3002HBase \u7684 `BucketCache`[^3]\u662f\u4e00\u4e2a\u503c\u5f97\u53c2\u8003\u7684\u5b9e\u73b0\uff0c\u6211\u4eec\u5728\u8c03\u7814\u9636\u6bb5\u4e5f\u4ed4\u7ec6\u7814\u7a76\u8fc7 `BucketCache` \u7684\u8bbe\u8ba1\uff0c\u4f46\u6700\u7ec8\u6ca1\u6709\u76f4\u63a5\u7167\u642c\uff0c\u6709\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u539f\u56e0\uff1a`BucketCache` \u662f\u4e3a\u4e86\u89e3\u51b3\u4e4b\u524d `BlockCache` \u8fd9\u79cd on-heap \u7f13\u5b58\u65b9\u6848\u9020\u6210\u7684 GC \u6027\u80fd\u95ee\u9898\u800c\u8bde\u751f\uff0c\u672c\u8d28\u4e0a\u4e5f\u8fd8\u662f\u4e00\u4e2a\u7f13\u5b58\uff0c\u65e2\u7136\u662f\u7f13\u5b58\u5c31\u5fc5\u5b9a\u8981\u8003\u8651\u7f13\u5b58\u6570\u636e\u7684\u9a71\u9010\uff0c\u56e0\u6b64 `BucketCache` \u7684\u8bbe\u8ba1\u65b9\u6848\u4e2d\u5305\u542b\u5982\u4f55\u91ca\u653e\u5185\u5b58\u4ee5\u53ca\u5408\u5e76 bucket \u7684\u903b\u8f91\u3002\u4f46\u662f\u6b63\u6392\u7d22\u5f15\u4e0d\u662f\u7f13\u5b58\uff0c\u4e5f\u5c31\u4e0d\u5b58\u5728\u9a71\u9010\u6570\u636e\u7684\u95ee\u9898[^4]\uff0c`BucketCache` \u4e2d\u7684\u8fd9\u90e8\u5206\u8bbe\u8ba1\u5bf9\u4e8e\u6211\u4eec\u7684\u573a\u666f\u6765\u8bf4\u5176\u5b9e\u662f\u591a\u4f59\u7684\uff0c\u5982\u679c\u5b8c\u5168\u7167\u642c\u53cd\u800c\u662f\u5728\u7cfb\u7edf\u4e2d\u5f15\u5165\u4e86\u4e00\u4e2a\u4e0d\u5fc5\u8981\u7684\u590d\u6742\u7ec4\u4ef6\uff0c\u589e\u52a0\u7ef4\u62a4\u6210\u672c[^5]\u3002\u56e0\u6b64\u6211\u4eec\u6700\u7ec8\u501f\u9274\u4e86\u4e00\u90e8\u5206 `BucketCache` \u7684\u8bbe\u8ba1\u601d\u60f3\u540c\u65f6\u518d\u7ed3\u5408\u63a8\u8350\u7cfb\u7edf\u7684\u4e1a\u52a1\u7279\u70b9\u5b9e\u73b0\u4e86\u4e00\u4e2a\u53ea\u8bfb\u7248\u672c\u7684\u5806\u5916\u5185\u5b58\uff0c\u4e0b\u56fe\u662f\u5177\u4f53\u7684\u5b9e\u73b0\u65b9\u6848\u3002\\n\\n![off-heap design](/img/blog/off_heap_design.png)\\n\\n\u4e0a\u56fe\u4e2d\u6700\u5de6\u8fb9\u84dd\u8272\u7684\u90e8\u5206\u662f\u4e00\u4e2a hash map\uff0ckey \u662f\u6b63\u6392\u7d22\u5f15\u7684\u4e3b\u952e\uff0cvalue \u662f\u4e00\u4e2a\u5305\u542b\u4e0e\u5806\u5916\u5185\u5b58\u5730\u5740\u6709\u5173\u7684\u5143\u4fe1\u606f\u5bf9\u8c61\u3002\u8fd9\u4e2a\u5143\u4fe1\u606f\u5bf9\u8c61\u4e2d\u4e3b\u8981\u6709 3 \u4e2a\u6210\u5458\u53d8\u91cf\uff1a\\n\\n1. BB Index\uff1aBB \u662f [`java.nio.ByteBuffer`](https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html) \u7684\u7f29\u5199\uff0c\u662f Java \u4e2d\u521b\u5efa\u5806\u5916\u5185\u5b58\u7684\u5e95\u5c42 API\u3002\u5728\u5e94\u7528\u7684\u521d\u59cb\u5316\u9636\u6bb5\u6211\u4eec\u4f1a\u63d0\u524d\u7533\u8bf7\u4e00\u5757\u513f\u5927\u7684\u7269\u7406\u5185\u5b58\u7a7a\u95f4\u4f5c\u4e3a\u5806\u5916\u5185\u5b58\uff0c\u5047\u8bbe\u8fd9\u5757\u513f\u5185\u5b58\u7684\u5927\u5c0f\u662f 10GB\uff0c\u5728\u5176\u4e2d\u4f1a\u6309\u7167\u4e00\u4e2a\u56fa\u5b9a\u7684\u5927\u5c0f\uff08\u9ed8\u8ba4\u662f 10MB\uff09\u518d\u5206\u5272\u6210\u591a\u4e2a\u5c0f\u7684 bucket\u3002BB Index \u5373\u662f\u67d0\u4e2a bucket \u7684\u7d22\u5f15\u3002\\n2. Offset\uff1a\u6bcf\u4e2a bucket \u4e2d\u5b58\u50a8\u4e86\u5f88\u591a\u6b63\u6392\u7d22\u5f15\u6761\u76ee\uff0coffset \u662f\u67d0\u4e2a\u6761\u76ee\u5728\u5f53\u524d bucket \u4e2d\u7684\u504f\u79fb\u3002\\n3. Length\uff1a\u8fd9\u4e2a\u5f88\u597d\u7406\u89e3\uff0c\u5c31\u662f\u7d22\u5f15\u6761\u76ee\u7684\u957f\u5ea6\u3002\\n\\n\u4e0a\u56fe\u4e2d\u84dd\u8272\u548c\u9ec4\u8272\u7684\u90e8\u5206\u8fd8\u662f\u5b58\u50a8\u5728\u5806\u5185\uff0c\u53ea\u6709\u7eff\u8272\u90e8\u5206\u5c5e\u4e8e\u5806\u5916\u3002\u5199\u5165\u6570\u636e\u7684\u6d41\u7a0b\u5c31\u662f\u6839\u636e\u7d22\u5f15\u6761\u76ee\u7684\u957f\u5ea6\u627e\u5230\u7a7a\u95f2\u7684 bucket\uff0c\u7136\u540e\u901a\u8fc7 `ByteBuffer.put()` \u65b9\u6cd5\u5c06\u6570\u636e\u5b58\u653e\u5230\u5806\u5916\u5185\u5b58\uff0c\u5e76\u5728 hash map \u4e2d\u65b0\u589e\u76f8\u5e94\u7684\u5143\u4fe1\u606f\u3002\u8bfb\u53d6\u6570\u636e\u7684\u6d41\u7a0b\u662f\u9996\u5148\u67e5\u627e\u5143\u4fe1\u606f\uff0c\u7136\u540e\u901a\u8fc7 HBase \u4e2d\u5c01\u88c5\u7684 [`UnsafeAccess.copy()`](https://github.com/apache/hbase/blob/master/hbase-common/src/main/java/org/apache/hadoop/hbase/util/UnsafeAccess.java) \u65b9\u6cd5\u5c06\u6570\u636e\u4ece\u5806\u5916\u62f7\u8d1d\u5230\u5806\u5185\u3002\u5f53\u7136\u6570\u636e\u62f7\u8d1d\u51fa\u6765\u4ee5\u540e\u5e76\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\uff0c\u56e0\u4e3a\u8fd9\u8fd8\u53ea\u662f\u5e8f\u5217\u5316\u540e\u7684\u5b57\u8282\u6d41\uff0c\u8fd8\u9700\u8981\u7ecf\u8fc7\u53cd\u5e8f\u5217\u5316\u6b65\u9aa4[^6]\u3002\\n\\n## \u4e8c\u7ea7\u7d22\u5f15\\n\\n\u4e8c\u7ea7\u7d22\u5f15\u7684\u6982\u5ff5\u5728\u5f88\u591a\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u4e5f\u5b58\u5728\uff0c\u7279\u522b\u662f\u5206\u5e03\u5f0f\u6570\u636e\u5e93\uff0c\u901a\u5e38\u4e3b\u952e\u7528\u6765\u67e5\u8be2\u5206\u7247\u7684\u4f4d\u7f6e\uff0c\u800c\u4e8c\u7ea7\u7d22\u5f15\u7528\u6765\u5728\u67d0\u4e2a\u5177\u4f53\u7684\u5206\u7247\u4e2d\u67e5\u8be2\u7279\u5b9a\u7684\u5b57\u6bb5\u3002\\n\\n\u5728\u63a8\u8350\u7cfb\u7edf\u573a\u666f\u4e2d\u4e8c\u7ea7\u7d22\u5f15\u7684\u529f\u80fd\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u4e0d\u662f\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u800c\u662f\u4e3a\u4e86\u67e5\u8be2\u67d0\u4e9b\u7279\u6b8a\u7684\u7279\u5f81\u3002\u5728\u4f20\u7edf\u7684\u673a\u5668\u5b66\u4e60\u6a21\u578b\u4e2d\u6709\u4e00\u7c7b\u7279\u5f81\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u90a3\u4fbf\u662f\u5185\u5bb9\u5728\u4e0d\u540c\u7ef4\u5ea6\u7684\u7edf\u8ba1\u503c\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u4e0d\u4ec5\u4f1a\u7edf\u8ba1\u4e00\u7bc7\u7b14\u8bb0\u7684\u603b\u66dd\u5149\u6570\uff0c\u8fd8\u4f1a\u7edf\u8ba1\u8fd9\u7bc7\u7b14\u8bb0\u5728\u4e0d\u540c\u57ce\u5e02\u3001\u4e0d\u540c\u6027\u522b\u3001\u4e0d\u540c\u7c7b\u578b\u8bbe\u5907\u7684\u66dd\u5149\u6570\uff0c\u8fd9\u91cc\u7684\u57ce\u5e02\u3001\u6027\u522b\u3001\u8bbe\u5907\u7c7b\u578b\u5c31\u662f\u7ef4\u5ea6\u3002\u5e76\u4e14\u8fd9\u4e9b\u7ef4\u5ea6\u662f\u5141\u8bb8\u4ea4\u53c9\u7684\uff0c\u4e5f\u5c31\u4f1a\u4ea7\u751f\u975e\u5e38\u591a\u7684\u7ef4\u5ea6\u7ec4\u5408\u3002\u6240\u6709\u8fd9\u4e9b\u7ef4\u5ea6\u7ec4\u5408\u8d77\u6765\u7684\u7edf\u8ba1\u503c\u662f\u4e00\u4e2a\u5927\u7684\u96c6\u5408\uff0c\u6bcf\u6b21\u67e5\u8be2\u65f6\u5e76\u4e0d\u9700\u8981\u8fd9\u4e2a\u96c6\u5408\u4e2d\u7684\u6240\u6709\u503c\uff0c\u800c\u662f\u6839\u636e\u5f53\u524d\u7528\u6237\u7684\u753b\u50cf\u9009\u53d6\u4e0e\u8fd9\u4e2a\u7528\u6237\u76f8\u7b26\u7684\u503c\u3002\\n\\n\u5982\u679c\u6bcf\u6b21\u67e5\u8be2\u65f6\u90fd\u628a\u6240\u6709\u503c\u4ece\u5806\u5916\u5185\u5b58\u4e2d\u62f7\u8d1d\u51fa\u6765\u663e\u7136\u662f\u5f88\u6d6a\u8d39\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u76f4\u63a5\u4ece\u5806\u5916\u5185\u5b58\u4e2d\u67e5\u8be2\u90e8\u5206\u503c\uff0c\u8fd9\u5c31\u662f\u4e8c\u7ea7\u7d22\u5f15\u7684\u4f5c\u7528\u3002\u4e8c\u7ea7\u7d22\u5f15\u7684\u5b57\u6bb5\u5728 schema \u4e2d\u4f1a\u6807\u8bb0 `secondary_key` \u5c5e\u6027\uff0c\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\u793a\u4f8b\u7684\u5b57\u6bb5\u7c7b\u578b\u662f `[BreakdownStats]`\uff0c\u90a3\u8fd9\u4e2a `BreakdownStats` \u7684\u5b9a\u4e49\u662f\u4ec0\u4e48\u5462\uff1f\u5982\u4e0b\u6240\u793a\uff1a\\n\\n```\\ntable BreakdownStats {\\n  key:SecondaryKey (id: 0);\\n  value:NoteEngagementStats (id: 1);\\n}\\n```\\n\\n\u4e0a\u9762 `key` \u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b\u662f `SecondaryKey`\uff0c\u8fd9\u662f\u4e00\u4e2a\u7531\u6846\u67b6\u9884\u5b9a\u4e49\u7684\u7c7b\u578b\uff0c\u5177\u4f53\u5b9a\u4e49\u5982\u4e0b\uff1a\\n\\n```\\ntable SecondaryKey {\\n  type:int (id: 0);\\n  value:string (id: 1);\\n}\\n```\\n\\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u4e00\u4e2a\u4e8c\u7ea7\u7d22\u5f15 key \u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a`type` \u548c `value`\uff0c`type` \u662f key \u7684\u7c7b\u578b\uff08\u901a\u5e38\u662f\u53ef\u679a\u4e3e\u7684\uff09\uff0c`value` \u662f\u5177\u4f53\u7684\u503c\uff08\u4e0d\u53ef\u679a\u4e3e\uff09\u3002\u7ee7\u7eed\u62ff\u524d\u9762\u7684\u4f8b\u5b50\u4e3e\u4f8b\uff0c\u300c\u57ce\u5e02\u300d\u662f\u4e00\u79cd key \u7684\u7c7b\u578b\uff0c\u300c\u4e0a\u6d77\u300d\u662f\u5177\u4f53\u7684\u503c\u3002\u4e8e\u662f\u67e5\u8be2\u6d41\u7a0b\u76f8\u6bd4\u524d\u9762\u4ecb\u7ecd\u7684\u533a\u522b\u4e4b\u5904\u5728\u4e8e\uff0c\u901a\u8fc7\u4e3b\u952e\u67e5\u627e\u4ee5\u540e\u8fd8\u9700\u8981\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15 key \u624d\u80fd\u83b7\u53d6\u5230\u5143\u4fe1\u606f\u5bf9\u8c61\uff0c\u76f8\u5f53\u4e8e\u589e\u52a0\u4e86\u4e00\u6b21 hash map \u7684\u67e5\u627e\u3002\u4e00\u4e2a\u4f18\u5316\u7684\u7ec6\u8282\u70b9\u662f\u5728\u6846\u67b6\u5185\u90e8\u6211\u4eec\u8fd8\u5c06\u4e8c\u7ea7\u7d22\u5f15 key \u6620\u5c04\u5230\u4e86\u4e00\u4e2a\u6574\u6570\uff0c\u8fd9\u6837\u4fbf\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u6574\u6570\u4f5c\u4e3a hash map \u7684 key \u6765\u4f7f\u7528\u3002\u4e8e\u662f\u901a\u8fc7\u521a\u624d\u7684\u6d41\u7a0b\u4fbf\u5b9e\u73b0\u4e86\u76f4\u63a5\u83b7\u53d6\u67d0\u4e2a\u7ef4\u5ea6\uff08\u6216\u8005\u7ef4\u5ea6\u7ec4\u5408\uff09\u7684\u7edf\u8ba1\u503c\u7684\u9700\u6c42\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f\u672c\u7bc7\u8981\u4ecb\u7ecd\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u7b80\u5355\u56de\u987e\u4e00\u4e0b\uff1a\\n\\n- \u57fa\u4e8e\u5806\u5916\u5185\u5b58\u7684\u6b63\u6392\u7d22\u5f15\\n- \u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u5b9e\u73b0\u67e5\u8be2\u90e8\u5206\u7279\u5f81\\n\\n\u81f3\u6b64\u4e24\u79cd\u7d22\u5f15\u5df2\u7ecf\u5168\u90e8\u4ecb\u7ecd\u5b8c\u6bd5\uff0c\u4e0b\u4e00\u7bc7\u6587\u7ae0\u5c06\u4f1a\u56f4\u7ed5\u4e00\u4e2a\u66f4\u52a0\u4e0a\u5c42\u7684\u95ee\u9898\u300c\u7d22\u5f15\u5982\u4f55\u5feb\u901f\u66f4\u65b0\u300d\u8fdb\u884c\u8ba8\u8bba\u3002\u6570\u636e\u4e0d\u53ef\u80fd\u662f\u4e00\u6210\u4e0d\u53d8\u7684\uff0c\u66f4\u65b0\u7684\u6548\u7387\u4e5f\u4f1a\u76f4\u63a5\u5f71\u54cd\u4ea7\u54c1\u4f53\u9a8c\u548c\u4e1a\u52a1\u6307\u6807\u3002\\n\\n[^1]: \u8bad\u7ec3\u6570\u636e\u5f80\u5f80\u662f\u7528\u6237\u7684\u5386\u53f2\u884c\u4e3a\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u770b\u8fc7\u3001\u70b9\u8fc7\u3001\u8d5e\u8fc7\u3001\u8bc4\u8bba\u8fc7\u7684\u6240\u6709\u5185\u5bb9\u3002\\n[^2]: \u9664\u4e86\u5806\u5916\u5185\u5b58\u8fd9\u79cd\u65b9\u6848\u8fd8\u6709\u4e00\u4e9b\u5176\u5b83\u53ef\u53c2\u8003\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u4f8b\u5982\u963f\u91cc\u5df4\u5df4\u66fe\u7ecf[\u5206\u4eab](https://blog.csdn.net/alitech2017/article/details/80133021)\u8fc7\u7684\u4e00\u4e9b\u7ecf\u9a8c\uff08\u6587\u7ae0\u4e2d\u63d0\u5230\u7684 AliGC \u591a\u79df\u6237\u529f\u80fd\u8fd1\u671f\u5df2\u7ecf\u5728 [Alibaba Dragonwell 8.3.3-GA](https://github.com/alibaba/dragonwell8/wiki/Alibaba-Dragonwell8-Release-Notes) \u4e2d\u5f00\u6e90\uff09\uff1bNetflix \u7684\u5f00\u6e90\u6846\u67b6 [Hollow](https://hollow.how/advanced-topics/#in-memory-data-layout)\u3002\\n[^3]: `BucketCache` \u7684\u8be6\u7ec6\u8bbe\u8ba1\u53ef\u4ee5\u53c2\u8003 [HBASE-7404](https://issues.apache.org/jira/browse/HBASE-7404) \u8fd9\u4e2a issue\\n[^4]: \u672c\u8d28\u4e0a\u7d22\u5f15\u662f\u53ea\u8bfb\u7684\\n[^5]: \u4e5f\u8bb8\u6709\u4eba\u4f1a\u95ee\u7d22\u5f15\u6570\u636e\u96be\u9053\u662f\u4e0d\u66f4\u65b0\u7684\u5417\uff1f\u7b54\u6848\u662f\u9700\u8981\u66f4\u65b0\uff0c\u6709\u5173\u5982\u4f55\u66f4\u65b0\u7d22\u5f15\u6570\u636e\u4f1a\u5728\u4e0b\u4e00\u7bc7\u6587\u7ae0\u4e2d\u4ecb\u7ecd\u3002\\n[^6]: \u9891\u7e41\u4ece\u5806\u5916\u62f7\u8d1d\u5927\u91cf\u6570\u636e\u5e76\u53cd\u5e8f\u5217\u5316\u53ef\u80fd\u4f1a\u662f\u4e00\u4e2a\u6bd4\u8f83\u8017\u65f6\u7684\u8fc7\u7a0b\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u5b9e\u9645\u4f7f\u7528\u65f6\u8fd8\u5728\u6b63\u6392\u7d22\u5f15\u4e0a\u589e\u52a0\u4e86\u4e00\u5c42\u5806\u5185\u7684\u7f13\u5b58\u3002"},{"id":"/2020/04/22/how-to-design-a-distributed-index-framework-part-2","metadata":{"permalink":"/blog/2020/04/22/how-to-design-a-distributed-index-framework-part-2","source":"@site/blog/2020-04-22-how-to-design-a-distributed-index-framework-part-2.md","title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e8c\uff09\uff1aSchema\u3001API \u53ca\u5012\u6392\u7d22\u5f15","description":"\u8fd9\u662f\u4e00\u4e2a\u7cfb\u5217\u6587\u7ae0\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002","date":"2020-04-22T18:16:55.000Z","tags":[{"inline":true,"label":"index","permalink":"/blog/tags/index"},{"inline":true,"label":"distrubted","permalink":"/blog/tags/distrubted"},{"inline":true,"label":"htdadif","permalink":"/blog/tags/htdadif"},{"inline":true,"label":"recommendation","permalink":"/blog/tags/recommendation"},{"inline":true,"label":"machine learning","permalink":"/blog/tags/machine-learning"}],"readingTime":17.575,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e8c\uff09\uff1aSchema\u3001API \u53ca\u5012\u6392\u7d22\u5f15","date":"2020-04-22 18:16:55 +0800","tags":["index","distrubted","htdadif","recommendation","machine learning"]},"unlisted":false,"prevItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e09\uff09\uff1a\u6b63\u6392\u7d22\u5f15","permalink":"/blog/2020/04/24/how-to-design-a-distributed-index-framework-part-3"},"nextItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e00\uff09\uff1a\u6982\u89c8","permalink":"/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1"}},"content":"> \u8fd9\u662f\u4e00\u4e2a[\u7cfb\u5217\u6587\u7ae0](/blog/tags/htdadif)\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002\\n\\n\u5728[\u4e0a\u4e00\u7bc7\u6587\u7ae0](/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1)\u4e2d\u7b80\u5355\u4ecb\u7ecd\u4e86\u4ec0\u4e48\u662f\u63a8\u8350\u7cfb\u7edf\u4ee5\u53ca\u5b9e\u73b0\u4e00\u4e2a\u63a8\u8350\u7cfb\u7edf\u7684\u6838\u5fc3\u7ec4\u4ef6\u6709\u54ea\u4e9b\uff0c\u6587\u7ae0\u6700\u540e\u5f15\u5165\u4e86\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\u300c\u7d22\u5f15\u300d\uff0c\u672c\u7bc7\u5c06\u4f1a\u9996\u5148\u4ece\u6846\u67b6\u4f7f\u7528\u8005\u7684\u89d2\u5ea6\u4ecb\u7ecd\u5982\u4f55\u5b9a\u4e49\u7d22\u5f15\uff0c\u6846\u67b6\u6709\u54ea\u4e9b API \u53ef\u4ee5\u4f7f\u7528\u4ee5\u53ca\u4ece\u8bbe\u8ba1\u8005\u7684\u89d2\u5ea6\u4ecb\u7ecd\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u5012\u6392\u7d22\u5f15\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Schema\\n\\n\u5728\u4f20\u7edf\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\uff0c\u5f53\u6211\u4eec\u63d0\u5230 schema \u65f6\u901a\u5e38\u662f\u6307\u8868\uff08table\uff09\u7684\u903b\u8f91\u5b9a\u4e49\uff0c\u8fd9\u4e2a\u5b9a\u4e49\u4e2d\u4f1a\u5305\u542b\u8fd9\u4e9b\u4fe1\u606f\uff1a\u8868\u540d\u3001\u6709\u54ea\u4e9b\u5217\uff08column\uff09\u3001\u5217\u540d\u3001\u5217\u7684\u6570\u636e\u7c7b\u578b\u3001\u4e3b\u952e\uff08primary key\uff09\u3001\u7d22\u5f15\u540d\u3001\u7d22\u5f15\u7684\u5217\u7b49\u3002\u975e\u5e38\u7c7b\u4f3c\u7684\uff0c\u5728\u63a8\u8350\u7cfb\u7edf\u4e2d\u6211\u4eec\u4e5f\u9700\u8981\u8fd9\u6837\u7684\u4fe1\u606f\u3002\u6846\u67b6\u7684\u4f7f\u7528\u8005\u9700\u8981\u9996\u5148\u5b9a\u4e49\u597d\u5b58\u50a8\u7684\u6570\u636e\u5b9e\u4f53\uff0c\u5982\u5b9e\u4f53\u540d\uff08\u8868\u540d\uff09\u3001\u5b9e\u4f53\u6709\u54ea\u4e9b\u5b57\u6bb5\uff08\u5217\uff09\u3001\u5b57\u6bb5\u7684\u540d\u79f0\u548c\u6570\u636e\u7c7b\u578b\u3001\u54ea\u4e2a\u5b57\u6bb5\u662f\u4e3b\u952e\u3001\u54ea\u4e9b\u5b57\u6bb5\u9700\u8981\u521b\u5efa\u5012\u6392\u7d22\u5f15\u3002\u6b63\u5982\u4f20\u7edf\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u901a\u8fc7 SQL \u6765\u5b9a\u4e49 shcema\uff0c\u6211\u4eec\u4e5f\u9700\u8981\u4e00\u79cd\u7c7b\u4f3c\u7684 DDL[^1]\u3002\u7ecf\u8fc7\u4e00\u756a\u8c03\u7814\u548c\u6bd4\u8f83\u4ee5\u540e\uff0c\u6211\u4eec\u9009\u7528\u4e86 [FlatBuffers](https://google.github.io/flatbuffers) \u4f5c\u4e3a\u5b9a\u4e49 schema \u7684\u8bed\u8a00\u3002\u540c [Protocol Buffers](https://developers.google.com/protocol-buffers)\uff08\u4ee5\u4e0b\u7b80\u79f0 PB\uff09\u4e00\u6837\uff0cFlatBuffers \u4e5f\u662f Google \u5f00\u6e90\u7684\u4e00\u79cd\u5e8f\u5217\u5316\u534f\u8bae\uff0c\u652f\u6301\u591a\u79cd\u4e3b\u6d41\u8bed\u8a00\u3002\u4e3a\u4ec0\u4e48\u8981\u9009\u7528 FlatBuffers \u5462\uff1fFlatBuffers \u7684\u4e3b\u9875\u4e0a\u5217\u4e3e\u4e86\u51e0\u4e2a\u7279\u70b9\uff0c\u6211\u9009\u53d6\u4e86\u51e0\u4e2a\u6700\u91cd\u8981\u7684\u7ffb\u8bd1\u8fc7\u6765[^2]\uff0c\u5982\u679c\u4f60\u719f\u6089 PB\u3001Thrift \u8fd9\u4e00\u7c7b IDL \u5e94\u8be5\u80fd\u5f88\u660e\u663e\u770b\u51fa\u533a\u522b\u3002\\n\\n- **\u65e0\u9700\u53cd\u5e8f\u5217\u5316\u5373\u53ef\u8bbf\u95ee\u5e8f\u5217\u5316\u540e\u7684\u6570\u636e**\uff1a\u5c06 FlatBuffers \u540c\u5176\u5b83\u534f\u8bae\u533a\u5206\u5f00\u6765\u7684\u4e00\u4e2a\u91cd\u8981\u539f\u56e0\u662f FlatBuffers \u901a\u8fc7\u5e73\u5c55\u7684\u4e8c\u8fdb\u5236\u7f13\u51b2\u533a\uff08flat binary buffer\uff09\u8868\u793a\u5c42\u7ea7\u6570\u636e\uff08hierarchical data\uff09\uff0c\u56e0\u6b64\u65e0\u9700\u53cd\u5e8f\u5217\u5316\uff08parsing/unpacking\uff09\u5373\u53ef\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u3002\u540c\u65f6\u4f9d\u7136\u652f\u6301\u6570\u636e\u7ed3\u6784\u7684\u6f14\u53d8\uff08evolution\uff09\uff0c\u4fdd\u6301\u5411\u524d\u548c\u5411\u540e\u517c\u5bb9\u6027\u3002\\n- **\u9ad8\u6548\u7684\u5185\u5b58\u7a7a\u95f4\u548c\u8bbf\u95ee\u6027\u80fd**\uff1a\u5f53\u8bbf\u95ee\u6570\u636e\u65f6\u552f\u4e00\u9700\u8981\u5206\u914d\u7684\u5185\u5b58\u5c31\u53ea\u6709\u6570\u636e\u672c\u8eab\u7684\u7f13\u51b2\u533a\uff08buffer\uff09\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u989d\u5916\u7684\u5185\u5b58\u7a7a\u95f4\uff08C++ \u8bed\u8a00\u652f\u6301\uff0c\u5176\u5b83\u8bed\u8a00\u53ef\u80fd\u6709\u53d8\u5316\uff09\u3002FlatBuffers \u4e5f\u975e\u5e38\u9002\u5408\u7528\u4e8e mmap\uff08\u6216\u8005\u6d41\u5f0f\u5904\u7406\uff09\uff0c\u5141\u8bb8\u53ea\u6709\u90e8\u5206\u7f13\u51b2\u533a\u5728\u5185\u5b58\u4e2d\u3002\u8bbf\u95ee\u5e8f\u5217\u5316\u540e\u7684\u6570\u636e\u57fa\u672c\u7b49\u4ef7\u4e8e\u8bbf\u95ee\u539f\u59cb\u7684\u7ed3\u6784\u4f53\uff08struct\uff09\uff0c\u53ea\u4f1a\u589e\u52a0\u4e00\u6b21\u989d\u5916\u7684\u8df3\u8f6c\uff08\u4e00\u79cd\u865a\u8868\uff09\u6765\u5b9e\u73b0\u6570\u636e\u683c\u5f0f\u7684\u6f14\u53d8\uff08evolution\uff09\u548c\u53ef\u9009\u5b57\u6bb5\u3002FlatBuffers \u65e8\u5728\u5e94\u7528\u4e8e\u90a3\u4e9b\u4e0d\u63a5\u53d7\u8017\u8d39\u5927\u91cf\u65f6\u95f4\u548c\u7a7a\u95f4\u8bbf\u95ee\u6216\u8005\u6784\u5efa\u5e8f\u5217\u5316\u6570\u636e\u7684\u9879\u76ee\uff0c\u4f8b\u5982\u6e38\u620f\u6216\u8005\u4efb\u4f55\u5176\u5b83\u5bf9\u6027\u80fd\u654f\u611f\u7684\u5e94\u7528\u3002\u70b9\u51fb\u67e5\u770b[\u6027\u80fd\u6d4b\u8bd5](https://google.github.io/flatbuffers/flatbuffers_benchmarks.html)\u4e86\u89e3\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u3002\\n\\n\u6709\u5174\u8da3\u8fdb\u4e00\u6b65\u4e86\u89e3\u8bbe\u8ba1\u7ec6\u8282\u7684\u670b\u53cb\u53ef\u4ee5\u770b\u770b\u5b98\u7f51\u7684 [FlatBuffers Internals](https://google.github.io/flatbuffers/flatbuffers_internals.html) \u6587\u6863\uff0c\u7b80\u5355\u603b\u7ed3\u5c31\u662f FlatBuffers \u901a\u8fc7\u4e00\u79cd\u7279\u6b8a\u7684\u5e8f\u5217\u5316\u683c\u5f0f\uff08\u9488\u5bf9\u66f4\u5c0f\u7684\u5185\u5b58\u5f00\u9500\u548c\u8bbf\u95ee\u6027\u80fd\u8bbe\u8ba1\uff09\u76f8\u6bd4\u4f20\u7edf IDL \u66f4\u52a0\u9ad8\u6027\u80fd\uff0c\u540c\u65f6\u53c8\u517c\u5177\u4f20\u7edf IDL \u7684\u5927\u90e8\u5206\u7279\u6027\uff08\u8bed\u8a00\u65e0\u5173\u3001\u5f3a\u7c7b\u578b\u3001schema evolution\uff09\u3002\u5f53\u7136 FlatBuffers \u4e5f\u4e0d\u662f\u6ca1\u6709\u7f3a\u70b9\uff0c\u6700\u660e\u663e\u7684\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u4e3a\u4e86\u5b9e\u73b0\u9ad8\u6027\u80fd\uff0cFlatBuffers \u7684\u539f\u59cb API \u5bf9\u5f00\u53d1\u8005\u53ca\u5176\u4e0d\u53cb\u597d\uff0c\u624b\u52a8\u7f16\u5199\u5e8f\u5217\u5316\u6216\u8005\u8bfb\u53d6\u6570\u636e[^3]\u7684\u4ee3\u7801\u975e\u5e38\u5bb9\u6613\u51fa\u9519\u3002\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e9b\u95ee\u9898\u90fd\u53ef\u4ee5\u901a\u8fc7\u81ea\u52a8\u751f\u6210\u7684\u4ee3\u7801\u548c\u6846\u67b6\u9690\u85cf\u8d77\u6765\uff0c\u4e0d\u9700\u8981\u76f4\u63a5\u66b4\u9732\u7ed9\u7528\u6237[^4]\u3002\u524d\u9762\u5217\u4e3e\u7684\u51e0\u4e2a\u7279\u70b9\u4e3a\u4ec0\u4e48\u5bf9\u4e8e\u7d22\u5f15\u6846\u67b6\u5982\u6b64\u91cd\u8981\u5462\uff1f\u7b3c\u7edf\u8bb2\u5f53\u7136\u662f\u4e3a\u4e86\u9ad8\u6027\u80fd\uff0c\u4e0d\u8fc7\u540e\u9762\u4ecb\u7ecd\u5012\u6392\u7d22\u5f15\u7684\u8bbe\u8ba1\u65f6\u4f1a\u8be6\u7ec6\u8bf4\u660e\u4e00\u4e9b\u7ec6\u8282\u70b9\u3002\\n\\n\u8bf4\u4e86\u8fd9\u4e48\u591a\u8fd8\u662f\u4e0d\u77e5\u9053\u5177\u4f53\u7684 schema \u957f\u4ec0\u4e48\u6837\u5b50\uff0c\u4e0b\u9762\u4ee5\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u3002\\n\\n```\\ntable NoteInfo {\\n  note_id:string (id: 0, primary_key);\\n  ...\\n  note_gender:NoteGender (id: 29, index_attribute);\\n  taxonomies:[KeyValueEntry] (id: 30, index_key);\\n  ...\\n  breakdown_stats:[BreakdownStats] (id: 47, secondary_key);\\n}\\n```\\n\\n\u4e0a\u9762\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7d22\u5f15\u5b9e\u4f53\u5b9a\u4e49\uff0c\u4e5f\u5c31\u662f\u5c0f\u7ea2\u4e66\u91cc\u7528\u6237\u521b\u5efa\u7684\u7b14\u8bb0\uff08note\uff09\u3002\u6bcf\u4e00\u884c\u5b9a\u4e49\u4e86\u5b9e\u4f53\u4e2d\u7684\u5b57\u6bb5\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u4ee5\u53ca\u53ef\u9009\u7684\u5c5e\u6027\u6807\u8bb0\u3002\u4f8b\u5982 `note_id` \u8fd9\u4e2a\u5b57\u6bb5\u662f\u7b14\u8bb0\u7684 ID\uff0c\u6570\u636e\u7c7b\u578b\u662f `string`\uff0c`id: 0` \u662f\u5b57\u6bb5\u5728 FlatBuffers \u4e2d\u7684\u552f\u4e00 ID\uff0c`primary_key` \u8868\u793a\u8fd9\u4e2a\u5b57\u6bb5\u662f\u4e3b\u952e\u3002\u7c7b\u4f3c\u7684\u540e\u9762\u5217\u4e3e\u7684\u51e0\u4e2a\u5b57\u6bb5\u4e5f\u5177\u6709\u67d0\u4e9b\u7279\u6b8a\u542b\u4e49\uff0c\u4f8b\u5982 `NoteGender` \u662f\u4e00\u4e2a\u679a\u4e3e\u503c\uff0c`index_attribute` \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7d22\u5f15\u5c5e\u6027\uff1b`[KeyValueEntry]` \u662f\u4e00\u4e2a `KeyValueEntry` \u7c7b\u578b\u7684\u6570\u7ec4\uff0c`index_key` \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u5012\u6392\u7d22\u5f15\uff1b`secondary_key` \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u4e8c\u7ea7\u7d22\u5f15\u3002\u53ef\u4ee5\u770b\u5230\u8bed\u6cd5\u4e0a FlatBuffers \u8ddf\u4f20\u7edf IDL \u7c7b\u4f3c\uff0c\u67d0\u79cd\u610f\u4e49\u4e0a\u53ef\u80fd\u8fd8\u7565\u5fae\u7b80\u6d01\u4e00\u4e9b\u3002\u5b9a\u4e49\u91cc\u6709\u4e9b\u662f FlatBuffers \u5b98\u65b9\u7684\u8bed\u6cd5\uff08\u5982 `id: 0`\uff09\uff0c\u8fd8\u6709\u4e00\u4e9b\u662f\u6211\u4eec\u6269\u5c55\u7684\uff08\u5982 `primary_key`\uff09[^5]\u3002\u8fd9\u91cc\u6269\u5c55\u6027\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\uff0c\u5426\u5219\u8fd9\u4e2a IDL \u5c31\u53ea\u80fd\u7528\u4e8e\u5e8f\u5217\u5316\u800c\u6ca1\u6cd5\u4f5c\u4e3a\u4e00\u79cd\u6570\u636e\u7684\u903b\u8f91\u5b9a\u4e49\u8bed\u8a00\u6765\u4f7f\u7528\u4e86\u3002\u8fd9\u4e9b\u6269\u5c55\u7684\u8bed\u6cd5\u5177\u4f53\u662f\u4ec0\u4e48\u610f\u601d\u4e4b\u540e\u7684\u51e0\u7bc7\u6587\u7ae0\u4f1a\u9010\u6e10\u5c55\u5f00\u3002\\n\\n## API\\n\\n\u6709\u4e86 schema \u6846\u67b6\u5c31\u53ef\u4ee5\u7406\u89e3\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u4e86\uff0c\u4f46\u662f\u5bf9\u4e8e\u4f7f\u7528\u8005\u6765\u8bf4\u5176\u5b9e\u66f4\u52a0\u5173\u5fc3\u7684\u662f\u5982\u4f55\u300c\u67e5\u8be2\u300d\u6570\u636e\u3002\u63a8\u8350\u7cfb\u7edf\u7684\u4e1a\u52a1\u7279\u70b9\u662f\u4e00\u4e2a\u8bfb\u8fdc\u5927\u4e8e\u5199\u7684\u573a\u666f\uff0c\u4e14\u5728\u7ebf\u8bf7\u6c42\u4e2d\u53ea\u4f1a\u6d89\u53ca\u8bfb\u6570\u636e\u800c\u4e0d\u6d89\u53ca\u5199\u6570\u636e\uff0c\u5373\u8bf7\u6c42\u90fd\u662f\u53ea\u8bfb\u7684\u3002\u7ed3\u5408\u4e0a\u4e00\u7bc7\u6587\u7ae0\u7684\u4ecb\u7ecd\uff0c\u4f7f\u7528\u8005\u771f\u6b63\u9700\u8981\u7528\u5230\u7684 API \u57fa\u672c\u5c31\u662f\u4e0b\u9762\u51e0\u79cd\uff1a\\n\\n1. \u67e5\u8be2\u6b63\u6392\u7d22\u5f15\\n2. \u67e5\u8be2\u5012\u6392\u7d22\u5f15\\n3. \u67e5\u8be2\u4e8c\u7ea7\u7d22\u5f15\\n\\n\u4ee5 Java \u8bed\u8a00\u4e3a\u4f8b\uff0c\u5b9e\u9645\u7684 API \u5927\u6982\u957f\u8fd9\u6837\uff1a\\n\\n```java\\nQueryApi.queryByPrimaryKey(Object primaryKey)\\nQueryApi.queryByIndexKey(String indexKeyName, Object indexKey, long limit, Function<IndexPayload<?>, Boolean> filter)\\nQueryApi.queryBySecondaryKey(Object primaryKey, String secondaryKeyName, List<SecondaryKey> secondaryKeys)\\n```\\n\\n\u7b2c 1 \u4e2a API \u901a\u8fc7\u4e3b\u952e\u67e5\u8be2\u6b63\u6392\u7d22\u5f15\uff1b\u7b2c 2 \u4e2a API \u901a\u8fc7\u5012\u6392\u7d22\u5f15\u7684\u5b57\u6bb5 key \u6765\u67e5\u8be2\u5012\u6392\u7d22\u5f15\uff0c\u540c\u65f6\u8fd8\u9650\u5b9a\u4e86\u67e5\u8be2\u7684\u7d22\u5f15\u6761\u76ee\u6570\u4ee5\u53ca\u4e00\u4e2a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u8fc7\u6ee4\u5668\uff1b\u7b2c 3 \u4e2a API \u901a\u8fc7\u4e3b\u952e\u548c\u4e8c\u7ea7\u7d22\u5f15 key \u67e5\u8be2\u4e8c\u7ea7\u7d22\u5f15\u3002\\n\\n\u5f53\u7136\u9664\u4e86\u4ee5\u4e0a\u5217\u4e3e\u7684\u6700\u57fa\u672c\u7684 API \u4ee5\u5916\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u63a5\u53e3\uff0c\u4f8b\u5982\u4e3a\u4e86\u4f18\u5316\u6279\u91cf\u67e5\u8be2\u6027\u80fd\u7684\u6279\u91cf\u67e5\u8be2\u63a5\u53e3\uff0c\u4e3a\u4e86\u76d1\u63a7\u548c\u53ef\u89c6\u5316\u7684\u7d22\u5f15\u7edf\u8ba1\u4fe1\u606f\u67e5\u8be2\u63a5\u53e3\u3002\\n\\n## \u5012\u6392\u7d22\u5f15\\n\\n\u5047\u8bbe\u7ed9\u4f60\u4e00\u4efd\u5e8f\u5217\u5316\u597d\u7684\u7d22\u5f15\u6570\u636e\uff0c\u8981\u600e\u4e48\u521b\u5efa\u5012\u6392\u7d22\u5f15\u5462\uff1f\u8fd9\u91cc\u6709\u51e0\u4e2a\u5173\u952e\u7684\u95ee\u9898\u9700\u8981\u601d\u8003\uff1a\\n\\n1. \u5982\u4f55\u89e3\u6790\u5e8f\u5217\u5316\u7684\u6570\u636e\uff1f\\n2. \u5982\u4f55\u77e5\u9053\u54ea\u4e9b\u5b57\u6bb5\u9700\u8981\u521b\u5efa\u5012\u6392\u7d22\u5f15\uff1f\\n3. \u5982\u4f55\u5728\u8fd0\u884c\u65f6\u8bfb\u53d6\u9700\u8981\u521b\u5efa\u5012\u6392\u7684\u5b57\u6bb5\u7684\u503c\uff1f\\n4. \u5012\u6392\u7d22\u5f15\u5728\u5185\u5b58\u4e2d\u7684\u6570\u636e\u7ed3\u6784\u662f\u4ec0\u4e48\uff1f\\n5. \u5012\u6392\u7d22\u5f15\u7684\u6761\u76ee\u5217\u8868\u5982\u4f55\u6392\u5e8f\uff1f\\n6. \u5982\u4f55\u5b9e\u73b0\u5728\u67e5\u8be2\u5012\u6392\u7d22\u5f15\u7684\u540c\u65f6\u5bf9\u6761\u76ee\u8fdb\u884c\u8fc7\u6ee4\uff1f\\n\\n\u7b2c 1 \u4e2a\u548c\u7b2c 2 \u4e2a\u95ee\u9898\u7ed3\u5408\u524d\u9762\u4ecb\u7ecd schema \u65f6\u7684\u77e5\u8bc6\u5e94\u8be5\u5f88\u5bb9\u6613\u89e3\u7b54\uff0c\u53ea\u8981\u6846\u67b6\u80fd\u591f\u63d0\u524d\u83b7\u53d6\u5230\u6570\u636e\u7684 schema[^6]\uff0c\u5c31\u80fd\u5bf9\u7d22\u5f15\u6570\u636e\u6709\u4e00\u4e2a\u5168\u5c40\u7684\u4e86\u89e3\uff0c\u5e76\u80fd\u591f\u4e8b\u5148\u77e5\u9053\u54ea\u4e9b\u5b57\u6bb5\u9700\u8981\u521b\u5efa\u5012\u6392\u7d22\u5f15\u3002\\n\\n\u7b2c 3 \u4e2a\u95ee\u9898\u9700\u8981\u901a\u8fc7 FlatBuffers \u63d0\u4f9b\u7684[\u53cd\u5c04 API](https://github.com/google/flatbuffers/blob/master/reflection/reflection.fbs) \u6765\u89e3\u51b3[^7]\uff0c\u914d\u5408 shcema \u5c31\u80fd\u591f\u4ece\u5b9e\u9645\u7684\u6570\u636e\u4e2d\u83b7\u53d6\u67d0\u4e2a\u5b57\u6bb5\u7684\u503c\u3002\u8fd8\u8bb0\u5f97\u524d\u9762\u6ca1\u6709\u7ec6\u8bb2\u7684\u4e00\u4e2a\u95ee\u9898\u5417\uff1f\u4e3a\u4ec0\u4e48\u6211\u4eec\u9009\u7528\u4e86 FlatBuffers \u4f5c\u4e3a\u5e8f\u5217\u5316\u534f\u8bae\uff0c\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u539f\u56e0\u5c31\u662f**\u65e0\u9700\u53cd\u5e8f\u5217\u5316\u5373\u53ef\u8bbf\u95ee\u5e8f\u5217\u5316\u540e\u7684\u6570\u636e**\u3002\u5728\u521b\u5efa\u5012\u6392\u7d22\u5f15\u65f6\u8fd9\u4e2a\u9700\u6c42\u5c24\u5176\u5f3a\u70c8\uff0c\u4e00\u4e2a\u5b8c\u6574\u7684\u5b9a\u4e49\u6709\u53ef\u80fd\u5305\u542b\u51e0\u5341\u751a\u81f3\u4e0a\u767e\u4e2a\u5b57\u6bb5\uff0c\u6bcf\u4e2a\u5b57\u6bb5\u7684\u5927\u5c0f\u90fd\u662f\u4e0d\u540c\u7684\uff0c\u4f46\u662f\u8fd9\u5176\u4e2d\u53ef\u80fd\u53ea\u6709\u4e2a\u4f4d\u6570\u7684\u5b57\u6bb5\u9700\u8981\u521b\u5efa\u5012\u6392\u7d22\u5f15\uff0c\u5982\u679c\u4f7f\u7528\u4f20\u7edf\u7684 IDL \u53cd\u5e8f\u5217\u5316\u6574\u4e2a\u5bf9\u8c61\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u5f00\u9500\u5c06\u4f1a\u975e\u5e38\u5927\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u6709 GC \u7684\u8bed\u8a00\u6765\u8bf4[^8]\u3002\u56e0\u6b64\u5728\u8fd9\u4e00\u70b9\u4e0a FlatBuffers \u57fa\u672c\u5b8c\u7f8e\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n\u7b2c 4 \u4e2a\u95ee\u9898\u601d\u8003\u7684\u89d2\u5ea6\u9700\u8981\u4ece\u67e5\u8be2\u6027\u80fd\u51fa\u53d1\uff0c\u65e2\u7136\u662f\u7d22\u5f15\u90a3\u5fc5\u7136\u8ffd\u6c42\u7684\u662f\u67e5\u8be2\u65f6\u95f4\u590d\u6742\u5ea6\u6700\u5c0f\uff0c\u90a3\u5c31\u6ca1\u6709\u6bd4 O(1) \u66f4\u5c0f\u7684\u590d\u6742\u5ea6\u4e86\u3002\u80fd\u591f\u5b9e\u73b0 O(1) \u67e5\u627e\u7684\u6570\u636e\u7ed3\u6784\u6700\u5e38\u89c1\u7684\u5c31\u662f hash map[^9]\uff0c\u5728\u4e0d\u540c\u8bed\u8a00\u4e2d\u8fd9\u90fd\u662f\u975e\u5e38\u57fa\u7840\u7684\u6570\u636e\u7ed3\u6784\uff0c\u57fa\u672c\u4e0d\u7528\u64cd\u5fc3\u662f\u5426\u9700\u8981\u81ea\u5df1\u4ece\u5934\u5f00\u59cb\u5b9e\u73b0\u3002Hash map \u7684 key \u5c31\u662f\u5012\u6392\u7d22\u5f15 key\uff0cvalue \u5c31\u662f\u7d22\u5f15\u7684\u6761\u76ee\u5217\u8868\u3002\u800c value \u5e94\u8be5\u7528\u4ec0\u4e48\u6570\u636e\u7ed3\u6784\u5462\uff1f\u5012\u6392\u7d22\u5f15\u7684 value \u4e00\u5b9a\u662f\u6709\u5e8f\u7684\uff0c\u4e14\u901a\u5e38\u662f\u5012\u5e8f\u6392\u5217\uff0c\u6700\u7b80\u5355\u7684\u573a\u666f\u7528 array \u5176\u5b9e\u5c31\u591f\u4e86\uff0c\u5982\u679c\u9700\u8981\u52a8\u6001\u589e\u5220\u90a3\u4f60\u53ef\u80fd\u4f1a\u60f3\u5230\u7c7b\u4f3c [skip list](https://en.wikipedia.org/wiki/Skip_list) \u8fd9\u6837\u7684\u6570\u636e\u7ed3\u6784\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u7ec6\u8282\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u540c\u4e00\u4e2a\u6761\u76ee\u662f\u6709\u53ef\u80fd\u540c\u65f6\u51fa\u73b0\u5728\u4e0d\u540c\u7684\u5012\u6392\u7d22\u5f15\u4e2d\u7684\uff0c\u56e0\u6b64\u505a\u597d\u5bf9\u8c61\u590d\u7528\u662f\u8282\u7701\u5185\u5b58\u975e\u5e38\u5173\u952e\u7684\u70b9\u3002\\n\\n\u56de\u7b54\u7b2c 5 \u4e2a\u95ee\u9898\u524d\u53ef\u4ee5\u5148\u56de\u5230\u4ecb\u7ecd schema \u65f6\u4e3e\u7684\u4f8b\u5b50\uff0c\u5012\u6392\u7d22\u5f15\u7684\u5b57\u6bb5\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u6570\u636e\u7ed3\u6784 `[KeyValueEntry]`\uff0c\u90a3\u4e48\u8fd9\u4e2a `KeyValueEntry` \u5177\u4f53\u662f\u4ec0\u4e48\u5462\uff1f\\n\\n```\\ntable KeyValueEntry {\\n  key:string (key);\\n  value:double;\\n}\\n```\\n\\n\u8fd9\u662f\u4e00\u4e2a\u7531\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ea\u6709\u4e24\u4e2a\u5b57\u6bb5 `key` \u548c `value`\uff0c\u524d\u8005\u5373\u662f\u5012\u6392\u7d22\u5f15 key\uff0c\u800c\u540e\u8005\u5373\u662f\u5012\u6392\u7d22\u5f15\u6761\u76ee\u7684 score\uff0c\u540c\u4e00\u4e2a\u5012\u6392\u7d22\u5f15 key \u4e0b\u7684\u6761\u76ee\u5217\u8868\u5c06\u4f1a\u6839\u636e\u8fd9\u4e2a score \u4ece\u5927\u5230\u5c0f\u9006\u5e8f\u6392\u5e8f\u3002\u8fd9\u4e2a\u7279\u6b8a\u7684\u6570\u636e\u7ed3\u6784\u662f\u6846\u67b6\u7ea6\u5b9a\u4fd7\u6210\u7684\uff0c\u53ea\u8981\u7b26\u5408\u4e00\u5b9a\u6761\u4ef6\u5c31\u53ef\u4ee5\u4f5c\u4e3a\u5012\u6392\u7d22\u5f15\u7684\u5b57\u6bb5\u7c7b\u578b\u3002\\n\\n\u6700\u540e\u4e00\u4e2a\u95ee\u9898\u662f\u5728\u63a8\u8350\u7cfb\u7edf\u7684\u4e1a\u52a1\u573a\u666f\u4e2d\u76f8\u5f53\u5e38\u89c1\u7684\u9700\u6c42\uff0c\u901a\u5e38\u67e5\u8be2\u65f6\u4f1a\u9650\u5b9a\u67e5\u8be2 top N \u7684\u6761\u76ee\uff0c\u4f46\u662f\u5bf9\u4e8e\u4e0d\u540c\u7528\u6237\u8fd9\u4e2a top N \u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4f8b\u5982\u9700\u8981\u8fc7\u6ee4\u6389\u6bcf\u4e2a\u7528\u6237\u5386\u53f2\u4e0a\u66fe\u7ecf\u6709\u8fc7\u66dd\u5149\uff08impression\uff09\u7684\u6761\u76ee\uff0c\u9700\u8981\u6839\u636e\u67d0\u4e9b\u7528\u6237\u753b\u50cf\u5c5e\u6027\u8fc7\u6ee4\u6761\u76ee\u7b49\u3002\u51fa\u4e8e\u8282\u7701\u5185\u5b58\u7684\u539f\u56e0\u6211\u4eec\u4e0d\u53ef\u80fd\u5c06\u4e00\u4e2a\u5b8c\u6574\u5b9a\u4e49\u4e2d\u7684\u6240\u6709\u5b57\u6bb5\u90fd\u76f4\u63a5\u5b58\u653e\u5728\u5185\u5b58\u4e2d[^10]\uff0c\u56e0\u6b64\u9650\u5b9a\u4e86\u53ea\u6709\u67d0\u4e9b\u6807\u8bb0\u4e86\u7279\u6b8a\u5c5e\u6027\u7684\u5b57\u6bb5\u624d\u4f1a\u5b58\u50a8\u5728\u7d22\u5f15\u6761\u76ee\u4e2d\uff0c\u8fd9\u4e5f\u662f\u524d\u9762\u793a\u4f8b\u4e2d `index_attribute` \u8fd9\u4e2a\u6807\u8bb0\u7684\u4f5c\u7528\u3002\u56e0\u6b64\u4e00\u4e2a\u5b8c\u6574\u7684\u7d22\u5f15\u6761\u76ee\u6570\u636e\u7ed3\u6784\u5927\u6982\u662f\u8fd9\u6837\uff08\u4ee5 Java \u8bed\u8a00\u4e3a\u4f8b\uff09\uff1a\\n\\n```java\\npublic class IndexPayload<T extends Comparable<T>> implements Cloneable {\\n    private final T primaryKey;\\n    private final Object indexKey;\\n    private final double score;\\n    private final Map<String, Object> attributes;\\n\\n    public Object getAttribute(String attrName) {\\n        return attributes.get(attrName);\\n    }\\n}\\n```\\n\\n\u4e0a\u9762\u7684 `attributes` \u6210\u5458\u53d8\u91cf\u5373\u662f\u7d22\u5f15\u5c5e\u6027\uff0ckey \u662f\u6807\u8bb0\u4e86\u7d22\u5f15\u5c5e\u6027\u7684\u5b57\u6bb5\u540d\uff0cvalue \u662f\u5bf9\u5e94\u7684\u503c\uff0c\u53ef\u4ee5\u901a\u8fc7 `getAttribute()` \u65b9\u6cd5\u67e5\u8be2\u8fd9\u4e2a\u503c\u3002\u524d\u9762\u4ecb\u7ecd\u7684 `QueryApi.queryByIndexKey()` \u63a5\u53e3\u4e2d\u6709\u4e00\u4e2a `filter` \u53c2\u6570\uff0c\u6570\u636e\u7c7b\u578b\u662f `Function<IndexPayload<?>, Boolean>`\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8f93\u5165\u53c2\u6570\u7684\u6570\u636e\u7c7b\u578b\u662f `IndexPayload`\uff0c\u8fd4\u56de\u503c\u7684\u6570\u636e\u7c7b\u578b\u662f `Boolean`\u3002\u7528\u6237\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\u8fc7\u6ee4\u5668\u7684\u903b\u8f91\uff0c\u901a\u8fc7 `IndexPayload` \u63d0\u4f9b\u7684\u63a5\u53e3\u6765\u5224\u65ad\u662f\u5426\u9700\u8981\u8fc7\u6ee4\u5f53\u524d\u6761\u76ee\u3002\\n\\n\u4ee5\u4e0a\u5c31\u662f\u672c\u7bc7\u8981\u4ecb\u7ecd\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u7b80\u5355\u56de\u987e\u4e00\u4e0b\uff1a\\n\\n- \u57fa\u4e8e FlatBuffers \u7684 schema \u5b9a\u4e49\\n- \u6839\u636e\u4e0d\u540c\u7d22\u5f15\u7c7b\u578b\u63d0\u4f9b\u4e0d\u540c\u7684\u67e5\u8be2 API\\n- \u5982\u4f55\u5728\u8fd0\u884c\u65f6\u521b\u5efa\u5012\u6392\u7d22\u5f15\\n\\n\u4e0b\u4e00\u7bc7\u6587\u7ae0\u4f9d\u7136\u662f\u56f4\u7ed5\u7d22\u5f15\u6765\u4ecb\u7ecd\uff0c\u4e0d\u8fc7\u91cd\u70b9\u5c06\u4f1a\u662f\u6b63\u6392\u7d22\u5f15\uff0c\u770b\u4f3c\u4e00\u4e2a hash map \u5373\u53ef\u89e3\u51b3\u7684\u95ee\u9898\u5176\u5b9e\u6709\u5f88\u591a\u7384\u673a\u3002\\n\\n[^1]: \u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u7528 SQL \u5462\uff1f\u9996\u5148 SQL \u7684\u8bed\u6cd5\u5f88\u590d\u6742\uff0c\u5f88\u591a\u539f\u8bed\u662f\u591a\u4f59\u7684\uff0c\u8fd9\u5bf9\u4e8e\u4f7f\u7528\u8005\u6765\u8bf4\u662f\u4e0d\u5fc5\u8981\u7684\u8d1f\u62c5\u3002\u5176\u6b21\u6211\u4eec\u662f\u5b9e\u73b0\u4e00\u4e2a\u63a8\u8350\u7cfb\u7edf\u800c\u4e0d\u662f\u4e00\u4e2a\u5b8c\u5907\u7684 DBMS\uff0c\u6ca1\u5fc5\u8981\u786c\u5957\u3002\u6700\u540e\u8fd9\u4e2a DDL \u9700\u8981\u8db3\u591f\u7684\u6269\u5c55\u6027\u6765\u6ee1\u8db3\u9488\u5bf9\u63a8\u8350\u7cfb\u7edf\u7684\u4e00\u4e9b\u5b9a\u5236\u9700\u6c42\uff0c\u5173\u4e8e\u8fd9\u4e00\u70b9\u540e\u9762\u4f1a\u63d0\u5230\u3002\\n[^2]: \u9700\u8981\u67e5\u770b\u539f\u6587\u548c\u6240\u6709\u7279\u70b9\u7684\u670b\u53cb\u8bf7\u8f6c\u5230 FlatBuffers \u7684\u5b98\u7f51\\n[^3]: \u8fd9\u91cc\u6211\u523b\u610f\u6ca1\u6709\u7528\u300c\u53cd\u5e8f\u5217\u5316\u300d\u8fd9\u4e2a\u8bcd\uff0c\u7406\u8bba\u4e0a FlatBuffers \u662f\u6ca1\u6709\u53cd\u5e8f\u5217\u5316\u8fd9\u4e2a\u6982\u5ff5\u7684\uff0cbuffer is data\uff08\u7f13\u51b2\u533a\u5373\u6570\u636e\uff09\u3002\\n[^4]: \u6846\u67b6\u4f7f\u7528\u8005\u751a\u81f3\u4e0d\u9700\u8981\u77e5\u9053\u5e95\u5c42\u7528\u7684\u662f FlatBuffers\\n[^5]: \u540c\u6837\u7684\u8bbe\u8ba1\u601d\u60f3\u5728 [FoundationDB Record Layer](https://github.com/FoundationDB/fdb-record-layer/blob/master/docs/Overview.md) \u91cc\u4e5f\u6709\u6240\u4f53\u73b0\uff0c\u53ea\u4e0d\u8fc7\u5b83\u4f7f\u7528\u7684\u662f PB \u4f5c\u4e3a DDL\uff0c\u76f8\u6bd4\u4e4b\u4e0b FlatBuffers \u7684\u8bed\u6cd5\u4f1a\u66f4\u52a0\u7b80\u6d01\u3002\\n[^6]: \u5b9e\u9645\u5728\u5b9e\u73b0\u65f6\u662f\u901a\u8fc7\u6846\u67b6\u66b4\u9732\u7684\u6ce8\u518c schema \u7684 API \u7531\u7528\u6237\u6765\u63d0\u4f9b\u8fd9\u4e9b\u4fe1\u606f\\n[^7]: \u622a\u6b62 2020 \u5e74 4 \u6708 FlatBuffers \u5b98\u65b9\u4f9d\u7136\u6ca1\u6709\u63d0\u4f9b Java \u8bed\u8a00\u7684\u53cd\u5c04 API\uff0c\u6709\u9700\u8981\u7684\u670b\u53cb\u53ef\u4ee5\u53c2\u8003 [#4019](https://github.com/google/flatbuffers/pull/4019) \u8fd9\u4e2a PR\uff0c\u867d\u7136\u8fd9\u4e2a PR \u4e5f\u70c2\u5c3e\u4e86\u3002\\n[^8]: \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Java \u8bed\u8a00\uff0c\u5373\u4f7f\u7528\u5bf9\u8c61\u6c60\u8fd9\u4e2a\u95ee\u9898\u4e5f\u662f\u6ca1\u6cd5\u4f18\u5316\u7684\uff0c\u7c7b\u4f3c PB \u8fd9\u6837\u7684\u534f\u8bae\u5bf9\u4e8e\u5bf9\u8c61\u6c60\u7684\u652f\u6301\u53ef\u4ee5\u8bf4\u662f\u76f8\u5f53\u4e0d\u53cb\u597d\u3002\\n[^9]: \u8fd9\u91cc\u6682\u65f6\u5ffd\u7565\u6389\u54c8\u5e0c\u78b0\u649e\\n[^10]: \u81f3\u4e8e\u5b8c\u6574\u7684\u6570\u636e\u5b58\u653e\u5728\u54ea\u91cc\u540e\u7eed\u7684\u6587\u7ae0\u4e2d\u4f1a\u4ecb\u7ecd"},{"id":"/2020/04/21/how-to-design-a-distributed-index-framework-part-1","metadata":{"permalink":"/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1","source":"@site/blog/2020-04-21-how-to-design-a-distributed-index-framework-part-1.md","title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e00\uff09\uff1a\u6982\u89c8","description":"\u8fd9\u662f\u4e00\u4e2a\u7cfb\u5217\u6587\u7ae0\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002","date":"2020-04-21T17:08:24.000Z","tags":[{"inline":true,"label":"index","permalink":"/blog/tags/index"},{"inline":true,"label":"distrubted","permalink":"/blog/tags/distrubted"},{"inline":true,"label":"htdadif","permalink":"/blog/tags/htdadif"},{"inline":true,"label":"recommendation","permalink":"/blog/tags/recommendation"},{"inline":true,"label":"machine learning","permalink":"/blog/tags/machine-learning"}],"readingTime":7.75,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e00\uff09\uff1a\u6982\u89c8","date":"2020-04-21 17:08:24 +0800","tags":["index","distrubted","htdadif","recommendation","machine learning"]},"unlisted":false,"prevItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e8c\uff09\uff1aSchema\u3001API \u53ca\u5012\u6392\u7d22\u5f15","permalink":"/blog/2020/04/22/how-to-design-a-distributed-index-framework-part-2"},"nextItem":{"title":"A Little Throught About Microservices","permalink":"/blog/2015/03/22/a-little-throught-about-microservices"}},"content":"> \u8fd9\u662f\u4e00\u4e2a[\u7cfb\u5217\u6587\u7ae0](/blog/tags/htdadif)\uff0c\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u6765\u81ea\u6211\u8fc7\u53bb\u5728\u5c0f\u7ea2\u4e66\u53d1\u73b0 Feed \u56e2\u961f\u5de5\u4f5c\u671f\u95f4\u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u5728\u4ecb\u7ecd\u7684\u8fc7\u7a0b\u4e2d\u6211\u4f1a\u5c3d\u91cf\u4e0d\u63ba\u6742\u8fc7\u591a\u7684\u4e1a\u52a1\u7ec6\u8282[^1]\uff0c\u800c\u4e13\u6ce8\u4e8e\u8fd9\u80cc\u540e\u6211\u4e2a\u4eba\u4e00\u4e9b\u6d45\u8584\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5e0c\u671b\u4f60\u5728\u9605\u8bfb\u5b8c\u8fd9\u4e9b\u6587\u7ae0\u4ee5\u540e\u80fd\u591f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u62d3\u5c55\u5230\u4e0d\u540c\u7684\u573a\u666f\u3002\\n\\n\u5728\u4ecb\u7ecd\u4ec0\u4e48\u662f\u7d22\u5f15\u6846\u67b6\u4e4b\u524d\u5148\u4e86\u89e3\u4e00\u4e0b\u6211\u4eec\u5f53\u65f6\u9762\u4e34\u7684\u4e1a\u52a1\u573a\u666f[^2]\uff0c\u4e1a\u754c\u73b0\u5728\u7684 [feed \u6d41](https://en.wikipedia.org/wiki/Activity_stream)\u4ea7\u54c1\u5df2\u7ecf\u9010\u6b65\u4ece\u975e\u4e2a\u6027\u5316\u5168\u9762\u8fc7\u6e21\u5230\u4e2a\u6027\u5316\uff0c\u6240\u8c13\u7684\u4e2a\u6027\u5316 feed \u5176\u5b9e\u5c31\u662f**\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u7684\u63a8\u8350\u7cfb\u7edf**\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u5148\u8bb2\u8bb2\u4ec0\u4e48\u662f\u63a8\u8350\u7cfb\u7edf\uff0c\u7528\u4e00\u4e2a\u8bcd\u6982\u62ec\u5c31\u662f\u300c\u6295\u5176\u6240\u597d\u300d\u3002\u5f53\u4f60\u9047\u5230\u4e00\u4e2a\u8ddf\u4f60\u5fd7\u8da3\u76f8\u6295\u7684\u4eba\u65f6\uff0c\u90a3\u8fd9\u4e2a\u4eba\u611f\u5174\u8da3\u7684\u4e1c\u897f\u5f88\u6709\u53ef\u80fd\u4e5f\u662f\u4f60\u611f\u5174\u8da3\u7684\uff0c\u8fd9\u662f\u300c\u57fa\u4e8e\u4eba\u300d\u7684\u7ef4\u5ea6\u8fdb\u884c\u63a8\u8350\uff0c\u5fae\u4fe1\u7684\u300c\u670b\u53cb\u5708\u300d\u5c31\u662f\u8fd9\u4e48\u4e00\u4e2a\u7b80\u5355\u7684\u601d\u8def[^3]\u3002\u4e5f\u6709\u53ef\u80fd\u4e00\u4e2a\u4eba\u4ed6\u4ece\u6765\u6ca1\u89c1\u8fc7\u4f60\uff0c\u4f60\u4eec\u4e5f\u4e0d\u4e92\u76f8\u8ba4\u8bc6\uff0c\u4f46\u662f\u5982\u679c\u4ed6\u80fd\u591f\u77e5\u9053\u4f60\u8fc7\u53bb\u770b\u8fc7\u3001\u559c\u6b22\u8fc7\u7684\u4e1c\u897f\uff0c\u90a3\u4ed6\u4e5f\u5f88\u6709\u53ef\u80fd\u53ef\u4ee5\u63a8\u65ad\u51fa\u4f60\u672a\u6765\u611f\u5174\u8da3\u7684\u4e1c\u897f\uff0c\u8fd9\u662f\u300c\u57fa\u4e8e\u5386\u53f2\u884c\u4e3a\u300d\u7684\u7ef4\u5ea6\u8fdb\u884c\u63a8\u8350\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5236\u5b9a\u4e00\u4e9b\u4eba\u5de5\u7684\u89c4\u5219\u6765\u5b9e\u73b0\u63a8\u8350\uff0c\u4f46\u662f\u7528\u6237\u7684\u559c\u597d\u662f\u5343\u5947\u767e\u602a\u7684[^4]\uff0c\u6709\u5927\u91cf\u957f\u5c3e\u7684\u9700\u6c42\u662f\u4eba\u5de5\u89c4\u5219\u65e0\u6cd5\u8986\u76d6\u7684[^5]\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u8ba9\u8ba1\u7b97\u673a\u5b66\u4e60\u5982\u4f55\u5236\u5b9a\u8fd9\u4e9b\u89c4\u5219\uff0c\u8fd9\u662f\u5bf9\u300c\u673a\u5668\u5b66\u4e60\u300d\u8fd9\u4e2a\u6982\u5ff5\u975e\u5e38\u6d45\u663e\u7684\u89e3\u91ca\u3002\u4e00\u4e2a\u5b8c\u6574\u7684\u673a\u5668\u5b66\u4e60\u6d41\u7a0b\u7b80\u5355\u6982\u62ec\u5305\u542b\u300c\u79bb\u7ebf\u300d\u548c\u300c\u5728\u7ebf\u300d\u4e24\u90e8\u5206\uff0c\u79bb\u7ebf\u90e8\u5206\u662f\u901a\u8fc7\u5927\u91cf\u7684\u7528\u6237\u6570\u636e\u6765\u8ba9\u8ba1\u7b97\u673a\u627e\u5bfb\u5176\u4e2d\u7684\u89c4\u5f8b\u548c\u5171\u6027\uff0c\u6700\u7ec8\u4ea7\u51fa\u300c\u6a21\u578b\u300d\uff1b\u5728\u7ebf\u90e8\u5206\u662f\u901a\u8fc7\u8f93\u5165\u5f53\u524d\u7528\u6237\u7684\u6570\u636e\u7ed9\u6a21\u578b\uff0c\u8ba9\u6a21\u578b\u8ba1\u7b97\u51fa\u4e00\u4e2a\u9884\u6d4b\u503c\uff0c\u8fd9\u4e2a\u9884\u6d4b\u503c\u7528\u6765\u8861\u91cf\u6211\u4eec\u60f3\u8981\u63a8\u8350\u7684\u5185\u5bb9\u662f\u5426\u7b26\u5408\u8fd9\u4e2a\u7528\u6237\u7684\u5174\u8da3\u3002\u8fd9\u4e2a\u7cfb\u5217\u7684\u6587\u7ae0\u5c06\u4f1a\u4e3b\u8981\u56f4\u7ed5\u5728\u7ebf\u90e8\u5206\uff0c\u79bb\u7ebf\u90e8\u5206\u5982\u679c\u6709\u673a\u4f1a\u4f1a\u5728\u4ee5\u540e\u7684\u6587\u7ae0\u4e2d\u4ecb\u7ecd\u3002\\n\\n\u524d\u9762\u63d0\u5230\u5728\u7ebf\u90e8\u5206\u7684\u6838\u5fc3\u903b\u8f91\u662f\u6a21\u578b\u8ba1\u7b97[^6]\uff0c\u4f46\u5728\u8ba1\u7b97\u4e4b\u524d\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u5de5\u4f5c\u662f\u7b5b\u9009\u5019\u9009\u96c6\uff0c\u901a\u5e38\u53eb\u505a\u300c\u53ec\u56de\uff08recall\uff09\u300d\u3002\u6240\u8c13\u53ec\u56de\u5c31\u662f\u4ece\u4e00\u4e2a\u5f88\u5927\u7684\u96c6\u5408\u4e2d\u901a\u8fc7\u4e00\u5b9a\u7684\u6761\u4ef6\u9009\u53d6\u4e00\u4e2a\u5b50\u96c6\uff0c\u4e3a\u4ec0\u4e48\u8981\u6709\u53ec\u56de\u8fd9\u4e00\u6b65\u5462\uff1f\u672c\u8d28\u4e0a\u662f\u56e0\u4e3a\u6a21\u578b\u8ba1\u7b97\u662f\u4e00\u4e2a\u975e\u5e38\u8017\u8d39\u65f6\u95f4\u53ca\u8d44\u6e90\u7684\u8fc7\u7a0b\uff0c\u5982\u679c\u6bcf\u6b21\u7528\u6237\u8bf7\u6c42\u90fd\u5bf9\u6574\u4e2a\u96c6\u5408\u4e2d\u7684\u6761\u76ee\u8fdb\u884c\u8ba1\u7b97\uff0c\u4e0d\u4ec5\u6d6a\u8d39\u8d44\u6e90\uff0c\u6240\u9700\u7684\u65f6\u95f4\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u4e5f\u662f\u65e0\u6cd5\u63a5\u53d7\u7684[^7]\u3002\u5927\u90e8\u5206\u60c5\u51b5[^8]\u4e0b\u6211\u4eec\u5bf9\u4e8e\u63a8\u8350\u7cfb\u7edf\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u95f4\u8981\u6c42\u662f\u63a7\u5236\u5728 100~200ms \u5de6\u53f3\uff0c\u5982\u679c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u5bf9\u4e1a\u52a1\u6307\u6807\u4e00\u5b9a\u4f1a\u6709\u8d1f\u9762\u5f71\u54cd\u3002\u56e0\u6b64\u6709\u9488\u5bf9\u6027\u5730\u8fdb\u884c\u53ec\u56de\u5c31\u975e\u5e38\u5173\u952e\u4e86\uff0c\u53ec\u56de\u9700\u8981\u5c3d\u91cf\u786e\u4fdd\u7b5b\u9009\u51fa\u6765\u7684\u5019\u9009\u96c6\u662f\u7b26\u5408\u5f53\u524d\u7528\u6237\u5174\u8da3\u7684\uff0c\u4f46\u540c\u65f6\u8017\u65f6\u53c8\u662f\u975e\u5e38\u77ed\u7684[^9]\u3002\u603b\u7ed3\u4e00\u4e0b\u4e00\u6b21\u63a8\u8350\u8bf7\u6c42\u7684\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\u3002\\n\\n![recommendation system architecture](/img/blog/recommendation_system_arch.png)\\n\\n\u5b9e\u73b0\u5feb\u901f\u53ec\u56de\u7684\u5173\u952e\u662f\u300c\u7d22\u5f15\uff08index\uff09\u300d\uff0c\u6b63\u5982\u5927\u90e8\u5206\u6570\u636e\u5e93\u7cfb\u7edf\u4e00\u6837\uff0c\u7d22\u5f15\u662f\u4e3a\u4e86\u5b9e\u73b0\u5feb\u901f\u67e5\u627e\u7684\u91cd\u8981\u7ec4\u4ef6\u3002\u5728\u63a8\u8350\u7cfb\u7edf\u4e2d\u4e3b\u8981\u6709\u4e24\u7c7b\u7d22\u5f15\uff1a\u6b63\u6392\u7d22\u5f15\uff08forward index\uff09\u548c\u5012\u6392\u7d22\u5f15\uff08inverted index\uff09[^10]\u3002\u6b63\u6392\u7d22\u5f15\u901a\u5e38\u662f\u7528\u6765\u901a\u8fc7\u4e00\u4e2a\u4e3b\u952e\uff08primary key\uff09\u67e5\u8be2\u4e00\u4e2a\u6761\u76ee\uff0c\u662f\u300c\u4e00\u5bf9\u4e00\u7684\u6620\u5c04\u300d\uff1b\u5012\u6392\u7d22\u5f15\u662f\u7528\u6765\u901a\u8fc7\u8ddf\u6761\u76ee\u5173\u8054\u7684\u67d0\u4e9b\u5c5e\u6027\u67e5\u8be2\u591a\u4e2a\u6761\u76ee\uff0c\u662f\u300c\u4e00\u5bf9\u591a\u7684\u6620\u5c04\u300d\u3002\u4e3e\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u5c0f\u7ea2\u4e66\u4e0a\u7528\u6237\u53d1\u5e03\u7684\u5185\u5bb9\u53eb\u505a\u300c\u7b14\u8bb0\u300d\uff0c\u6bcf\u4e00\u7bc7\u7b14\u8bb0\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684 ID\uff0c\u8fd9\u4e2a ID \u5c31\u662f\u8fd9\u7bc7\u7b14\u8bb0\u7684\u4e3b\u952e\uff0c\u6b63\u6392\u7d22\u5f15\u5373\u662f\u4e00\u4e2a\u4ece\u7b14\u8bb0 ID \u5230\u7b14\u8bb0\u7684\u6620\u5c04\u3002\u800c\u6bcf\u7bc7\u7b14\u8bb0\u90fd\u4f1a\u6709\u4e00\u4e9b\u540c\u7b14\u8bb0\u672c\u8eab\u76f8\u5173\u7684\u5c5e\u6027\uff0c\u6bd4\u5982\u5206\u7c7b\uff08category\uff09\uff0c\u4e00\u4e9b\u5e38\u89c1\u7684\u5206\u7c7b\u6709\uff1a\u65c5\u884c\u3001\u7f8e\u5986\u3001\u6444\u5f71\u3001\u7f8e\u98df\u7b49\u3002\u5012\u6392\u7d22\u5f15\u5373\u662f\u4e00\u4e2a\u4ece\u591a\u4e2a\u5c5e\u6027\u5230\u591a\u7bc7\u7b14\u8bb0\u7684\u6620\u5c04\uff0c\u5982\u300c\u65c5\u884c\u300d\u5206\u7c7b\u53ef\u4ee5\u6620\u5c04\u5230\u6240\u6709\u5c5e\u4e8e\u8fd9\u4e2a\u7c7b\u522b\u7684\u7b14\u8bb0\u5217\u8868\u3002\u5bf9\u4e8e\u53ec\u56de\u6765\u8bf4\u4e3b\u8981\u4f9d\u8d56\u5012\u6392\u7d22\u5f15\uff0c\u800c\u6b63\u6392\u7d22\u5f15\u5c06\u4f1a\u5728\u6a21\u578b\u8ba1\u7b97\u7684\u524d\u7f6e\u6b65\u9aa4\u7279\u5f81\u63d0\u53d6\u4e2d\u7528\u5230[^11]\u3002\\n\\n![recommendation system index](/img/blog/rec_sys_index.png)\\n\\n\u8bb2\u5230\u8fd9\u91cc\u4e5f\u57fa\u672c\u4e0a\u628a\u7d22\u5f15\u6846\u67b6\u9700\u8981\u5b9e\u73b0\u7684\u529f\u80fd\u4ecb\u7ecd\u5f97\u5dee\u4e0d\u591a\u4e86\uff0c\u5176\u5b9e\u9700\u6c42\u5f88\u7b80\u5355\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u96c6\u5408\u7136\u540e\u5728\u8fd9\u4e2a\u96c6\u5408\u4e0a\u521b\u5efa\u6b63\u6392\u548c\u5012\u6392\u7d22\u5f15\uff0c\u5e76\u66b4\u9732\u76f8\u5e94\u7684\u67e5\u8be2\u63a5\u53e3\u3002\u4e0b\u4e00\u7bc7\u5c06\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u5b9a\u4e49\u7d22\u5f15\u3001\u6846\u67b6\u7684 API \u5e94\u8be5\u6709\u54ea\u4e9b\u4ee5\u53ca\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u5012\u6392\u7d22\u5f15\u3002\\n\\n[^1]: \u4f46\u5176\u5b9e\u80fd\u771f\u6b63\u5e94\u7528\u5230\u4e1a\u52a1\u4e2d\u624d\u662f\u68c0\u9a8c\u8bbe\u8ba1\u7684\u552f\u4e00\u6807\u51c6\\n[^2]: ~~\u521a\u8bf4\u5b8c\u4e0d\u804a\u4e1a\u52a1\u5c31\u6253\u8138~~\\n[^3]: \u5f53\u7136\u524d\u63d0\u662f\u4f60\u7684\u597d\u53cb\u6570\u5f97\u50cf[\u5f6d\u78ca](https://baike.baidu.com/item/%E5%BD%AD%E7%A3%8A/6238051)\u4e00\u6837\u5c11\\n[^4]: \u8fd9\u51e0\u5e74\u6709\u4e00\u4e2a\u5f88\u6076\u5fc3\u7684\u8bcd\u53eb\u300c\u5343\u4eba\u5343\u9762\u300d\u4e5f\u662f\u540c\u6837\u7684\u610f\u601d\\n[^5]: \u6ee1\u8db3\u597d\u957f\u5c3e\u9700\u6c42\u4e5f\u662f\u63a8\u8350\u7cfb\u7edf\u9762\u4e34\u7684\u4e00\u5927\u6311\u6218\\n[^6]: \u4f60\u53ef\u80fd\u770b\u5230\u7684\u8868\u793a\u6a21\u578b\u8ba1\u7b97\u7684\u672f\u8bed\u6709\uff1a\u63a8\u7406\uff08inference\uff09\u3001\u9884\u6d4b\uff08prediction\uff09\\n[^7]: \u60f3\u8c61\u4e00\u4e0b\u4f60\u6253\u5f00\u67d0\u4e2a app \u7684\u9996\u9875\u9700\u8981\u7b49\u5f85\u6570\u5206\u949f\u624d\u80fd\u663e\u793a\u51fa\u6765\\n[^8]: \u5927\u90e8\u5206\u60c5\u51b5 = P95/P99\\n[^9]: \u53ec\u56de\u7684\u8017\u65f6\u901a\u5e38\u6bd4\u6a21\u578b\u8ba1\u7b97\u5c0f\u4e00\u5230\u4e24\u4e2a\u6570\u91cf\u7ea7\\n[^10]: \u5982\u679c\u4f60\u63a5\u89e6\u8fc7\u641c\u7d22\u5f15\u64ce\uff0c\u5bf9\u4e8e\u8fd9\u4e24\u7c7b\u7d22\u5f15\u4e5f\u4e0d\u4f1a\u611f\u5230\u964c\u751f\u3002\\n[^11]: \u7279\u5f81\u63d0\u53d6\uff08feature extraction\uff09\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6b65\u9aa4\uff0c\u8fd9\u91cc\u6682\u65f6\u4e0d\u4f1a\u8fc7\u591a\u4ecb\u7ecd\u3002"},{"id":"/2015/03/22/a-little-throught-about-microservices","metadata":{"permalink":"/blog/2015/03/22/a-little-throught-about-microservices","source":"@site/blog/2015-03-22-a-little-throught-about-microservices.md","title":"A Little Throught About Microservices","description":"\u77e5\u4e4e\u5728 4 \u5e74\u524d\u5df2\u7ecf\u5f00\u59cb\u5c1d\u8bd5\u670d\u52a1\u5316\uff0c\u81f3\u4eca\u4e5f\u7ecf\u5386\u4e86\u597d\u51e0\u4e2a\u67b6\u6784\u7684\u53d8\u8fc1\u6f14\u5316\u3002\u6211\u5927\u7ea6\u662f 2013 \u5e74\u5f00\u59cb\u5728\u77e5\u4e4e\u8d1f\u8d23\u670d\u52a1\u5316\u7684\u5de5\u4f5c\uff0c\u5bf9\u670d\u52a1\u5316\u7684\u7406\u89e3\u4e5f\u4ece\u6700\u521d\u7684\u6a21\u7cca\u9010\u6e10\u53d8\u5f97\u6e05\u6670\uff0c\u524d\u6bb5\u65f6\u95f4\u770b\u4e86\u4e00\u7bc7\u53eb\u505a Microservices - Not A Free Lunch! \u7684\u6587\u7ae0\uff0c\u4e5f\u60f3\u8d81\u7740\u8fd9\u4e2a\u673a\u4f1a\u68b3\u7406\u603b\u7ed3\u76ee\u524d\u4e3a\u6b62\u6211\u7684\u4e00\u4e9b\u611f\u609f\u548c\u60f3\u6cd5\u3002","date":"2015-03-22T23:25:05.000Z","tags":[{"inline":true,"label":"microservices","permalink":"/blog/tags/microservices"},{"inline":true,"label":"soa","permalink":"/blog/tags/soa"}],"readingTime":21.84,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"A Little Throught About Microservices","date":"2015-03-22 23:25:05 +0800","tags":["microservices","soa"]},"unlisted":false,"prevItem":{"title":"\u5982\u4f55\u8bbe\u8ba1\u4e0e\u5b9e\u73b0\u4e00\u4e2a\u5206\u5e03\u5f0f\u7d22\u5f15\u6846\u67b6\uff08\u4e00\uff09\uff1a\u6982\u89c8","permalink":"/blog/2020/04/21/how-to-design-a-distributed-index-framework-part-1"},"nextItem":{"title":"Hadoop Best Practices: Scheduling in YARN","permalink":"/blog/2014/12/27/hadoop-best-practices-scheduling-in-yarn"}},"content":"\u77e5\u4e4e\u5728 4 \u5e74\u524d\u5df2\u7ecf\u5f00\u59cb\u5c1d\u8bd5\u670d\u52a1\u5316\uff0c\u81f3\u4eca\u4e5f\u7ecf\u5386\u4e86\u597d\u51e0\u4e2a\u67b6\u6784\u7684\u53d8\u8fc1\u6f14\u5316\u3002\u6211\u5927\u7ea6\u662f 2013 \u5e74\u5f00\u59cb\u5728\u77e5\u4e4e\u8d1f\u8d23\u670d\u52a1\u5316\u7684\u5de5\u4f5c\uff0c\u5bf9\u670d\u52a1\u5316\u7684\u7406\u89e3\u4e5f\u4ece\u6700\u521d\u7684\u6a21\u7cca\u9010\u6e10\u53d8\u5f97\u6e05\u6670\uff0c\u524d\u6bb5\u65f6\u95f4\u770b\u4e86\u4e00\u7bc7\u53eb\u505a [Microservices - Not A Free Lunch!][] \u7684\u6587\u7ae0\uff0c\u4e5f\u60f3\u8d81\u7740\u8fd9\u4e2a\u673a\u4f1a\u68b3\u7406\u603b\u7ed3\u76ee\u524d\u4e3a\u6b62\u6211\u7684\u4e00\u4e9b\u611f\u609f\u548c\u60f3\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## SOA \u4e0e Microservices\\n\\nSOA\uff08Service Oriented Architecture\uff09\u662f\u4e00\u4e2a\u5f88\u300c\u53e4\u8001\u300d\u7684\u6982\u5ff5\uff0c\u800c microservices \u4f3c\u4e4e\u662f\u8fd9\u4e24\u5e74\u624d\u5f00\u59cb\u6d41\u884c\u8d77\u6765\u7684\u3002\u5f88\u591a\u4eba\u628a microservices \u770b\u4f5c\u4e00\u4e2a\u5168\u65b0\u7684\u6982\u5ff5\uff08\u6211\u4eec\u90fd\u662f\u559c\u65b0\u538c\u65e7\u7684\u4eba\uff09\uff0cMartin Fowler \u89c9\u5f97\u5b83\u8ddf SOA [\u5dee\u522b\u975e\u5e38\u5927](http://martinfowler.com/articles/microservices.html#MicroservicesAndSoa)\uff0cNetflix \u4e5f\u628a\u4ed6\u4eec\u76ee\u524d\u7684\u67b6\u6784[\u79f0\u4f5c](http://nginx.com/blog/microservices-at-netflix-architectural-best-practices) microservices architecture\u3002\u4f46\u662f\u6709\u4eba\u7ad9\u51fa\u6765[\u8bf4](http://service-architecture.blogspot.co.uk/2014/03/microservices-is-soa-for-those-who-know.html) microservices \u6839\u672c\u5c31\u662f SOA \u5f88\u591a\u5e74\u524d\u5df2\u7ecf\u63d0\u51fa\u7684\u6982\u5ff5\u561b\uff0c\u751a\u81f3\u8fd8\u6709\u4e00\u4efd\u76f8\u5f53\u5197\u957f\u7684[\u6807\u51c6\u6587\u6863](https://www.oasis-open.org/committees/download.php/19679/soa-rm-cs.pdf)\uff0cSOA \u5728\u4e92\u8054\u7f51\u754c\u7684\u6d41\u884c\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53ef\u80fd\u4e5f\u8981\u5f52\u529f\u4e8e [Amazon](http://www.infoq.com/news/Amazon-CTO-Werner-Vogels-on-SOA)\u3002\u5728 microservices\uff08\u8fd9\u4e2a\u5355\u8bcd\u771f\u7684\u597d\u957f\u3002\u3002\uff09\u8fd9\u4e2a\u540d\u8bcd\u6d41\u884c\u4e4b\u524d\uff0c\u6211\u5bf9\u670d\u52a1\u5316\u7684\u7406\u89e3\u4e00\u76f4\u5c31\u662f SOA\uff0c\u4e0d\u8fc7\u6211\u5e76\u4e0d\u662f\u60f3\u8bf4 SOA \u8ddf microservices \u662f\u4e24\u4e2a\u5b8c\u5168\u4e0d\u540c\u7684\u4e1c\u897f\uff0c\u5bf9\u4e8e\u540e\u8005\u6211\u7684\u7406\u89e3\u662f\u5b83\u662f SOA \u7684\u4e00\u4e2a [dialect](http://en.wikipedia.org/wiki/Dialect_\\\\(computing\\\\))\uff0c\u5f88\u591a\u6838\u5fc3\u7684\u601d\u60f3\u8fd8\u662f\u6765\u6e90\u4e8e SOA\uff0c\u53ea\u4e0d\u8fc7\u968f\u7740\u65f6\u4ee3\u7684\u53d1\u5c55\u5fc5\u7136\u4f1a\u4ea7\u751f\u5dee\u5f02\uff08\u4e5f\u53ef\u4ee5\u8bf4\u662f\u6807\u51c6\u5236\u5b9a\u5f97\u592a\u6162\uff09\u3002\u81f3\u4e8e microservices \u7684\u6807\u51c6\u5b9a\u4e49\uff0c\u6211\u60f3\u76ee\u524d\u5e94\u8be5\u6ca1\u6709\uff0c\u5c31\u8fde Wikipedia \u7684[\u6761\u76ee](http://en.wikipedia.org/wiki/Microservices)\u4e5f\u8bb2\u5f97\u4e0d\u6e05\u4e0d\u695a\uff08\u8fd8\u4e0d\u5982\u770b\u524d\u9762\u63d0\u5230\u7684 Netflix \u7684\u6587\u7ae0\uff0c\u91cc\u9762\u4e0e SOA \u6bd4\u8f83\u7684\u6587\u5b57\u6211\u4e5f\u89c9\u5f97\u6709\u5f85\u5546\u69b7\uff09\uff0c\u6bcf\u4e2a\u4eba\u3001\u6bcf\u4e2a\u56e2\u961f\u3001\u6bcf\u4e2a\u516c\u53f8\u90fd\u5e94\u8be5\u6709\u81ea\u5df1\u7684\u7406\u89e3\uff0c\u540e\u6587\u63d0\u5230\u7684\u77e5\u4e4e\u76ee\u524d\u7684\u670d\u52a1\u5316\u67b6\u6784\u59d1\u4e14\u7528 microservices \u6307\u4ee3\u3002\\n\\n## Microservices \u7684\u4ee3\u4ef7\\n\\n\u670d\u52a1\u5316\u7684\u597d\u5904\u53ef\u80fd\u5f88\u591a\u4eba\u90fd\u4e86\u89e3\u4e86\uff0c\u4f60\u53ef\u4ee5\u5728\u4efb\u4f55\u4e00\u7bc7\u76f8\u5173\u6587\u7ae0\u4e2d\u5f88\u8f7b\u6613\u5730\u627e\u5230\u5173\u4e8e\u670d\u52a1\u5316\u7684\u5404\u79cd\u4f18\u70b9\uff0c\u5f88\u591a\u4eba\u9009\u62e9\u670d\u52a1\u5316\u7684\u65f6\u5019\u4e5f\u6b63\u662f\u88ab\u8fd9\u4e2a\u300c\u770b\u8d77\u6765\u300d\u5f88\u7f8e\u597d\u7684\u6982\u5ff5\u6253\u52a8\u3002\u4e00\u5207\u6a21\u5757\u90fd\u662f\u5929\u7136\u89e3\u8026\u7684\uff0c\u8fd9\u7b80\u76f4\u5c31\u662f\u8f6f\u4ef6\u5de5\u7a0b\u7684\u7406\u60f3\u5883\u754c\u3002\u4f46\u51e1\u4e8b\u6709\u5229\u5fc5\u6709\u5f0a\uff0c\u544a\u8bc9\u4f60\u8fd9\u4e2a\u4e1c\u897f\u5f88\u597d\u7684\u4eba\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u544a\u8bc9\u4f60\u80cc\u540e\u9690\u542b\u7684\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9879\uff08\u6240\u4ee5\u6211\u7279\u522b\u6b23\u8d4f\u90a3\u4e9b\u53ef\u4ee5\u628a\u4e0d\u7ba1\u4f18\u70b9\u7f3a\u70b9\u90fd\u544a\u8bc9\u4f60\u7684\u5f00\u6e90\u9879\u76ee\uff09\u3002\u6587\u7ae0\u5f00\u5934\u63d0\u5230\u7684\u90a3\u7bc7\u6587\u7ae0\u5c31\u8bb2\u8ff0\u4e86\u51e0\u4e2a\u5728\u5b9e\u8df5\u8fc7\u7a0b\u4e2d\u624d\u4f1a\u771f\u6b63\u53d1\u73b0\u7684\u300c\u95ee\u9898\u300d\uff0c\u6211\u4e5f\u5927\u6982\u5faa\u7740\u4f5c\u8005\u7684\u601d\u8def\uff0c\u4ee5\u53ca\u9644\u4e0a\u5176\u5b83\u4e00\u4e9b\u5728\u5de5\u4f5c\u4e2d\u4f53\u4f1a\u5230\u7684\u4e8b\u60c5\u3002\\n\\n### \u663e\u8457\u589e\u52a0\u8fd0\u7ef4\uff08DevOps\uff09\u6210\u672c\\n\\n\u8fd9\u91cc\u7684\u6210\u672c\u5305\u62ec\u4eba\u529b\u548c\u7269\u529b\u6210\u672c\u3002\u5148\u8bf4\u8bf4\u7269\u529b\uff0c\u5728\u670d\u52a1\u5316\u4e4b\u524d\uff0c\u4e00\u4e2a\u9879\u76ee\u7684\u6240\u6709\u4ee3\u7801\u5e94\u8be5\u90fd\u5728\u4e00\u4e2a\u4ee3\u7801\u4ed3\u5e93\u91cc\uff0c\u5728\u90e8\u7f72\u7684\u65f6\u5019\u5f88\u81ea\u7136\u5730\u6211\u4eec\u628a\u4ee3\u7801 clone \u4e0b\u6765\uff0c\u53ef\u80fd\u8fd8\u4f1a\u7f16\u8bd1\u6253\u5305\uff0c\u6700\u540e\u628a\u6574\u4e2a\u9879\u76ee\u653e\u5230\u751f\u4ea7\u73af\u5883\u3002\u91c7\u7528\u670d\u52a1\u5316\u610f\u5473\u7740\u4f60\u7684\u9879\u76ee\u53ef\u80fd\u4f1a\u4ece\u4e00\u4e2a\u53d8\u6210\u51e0\u5341\u4e2a\uff08\u66fe\u7ecf\u6709\u65b0\u540c\u4e8b\u6765\u4e86\u4e4b\u540e\u60ca\u8bb6\u4e8e\u77e5\u4e4e\u5185\u90e8\u5c45\u7136\u6709\u8fd9\u4e48\u591a\u9879\u76ee\uff0c\u5176\u5b9e\u91cc\u9762\u6709\u5f88\u591a\u90fd\u662f\u4e00\u4e2a\u4e2a\u5c0f\u7684\u670d\u52a1\uff09\uff0c\u60f3\u8c61\u4e00\u4e0b\u6b64\u65f6\u4f60\u7684\u90e8\u7f72\u6d41\u7a0b\u4f1a\u53d8\u6210\u4ec0\u4e48\u6837\u5b50\uff1f\u5f53\u7136\u6211\u4eec\u5e76\u4e0d\u4f1a\u6bcf\u6b21\u90e8\u7f72\u90fd\u8981\u628a\u8fd9\u51e0\u5341\u4e2a\u9879\u76ee\u6328\u4e2a\u90e8\u7f72\u4e00\u904d\uff0c\u4f46\u6700\u574f\u60c5\u51b5\u4e0b\u4f60\u9700\u8981\u5173\u5fc3\u7684\u9879\u76ee\u7684\u786e\u53d8\u591a\u4e86\u3002\u6bd4\u5982\u6240\u6709\u9879\u76ee\u4f9d\u8d56\u7684\u4e00\u4e2a\u7279\u6b8a\u7684\u670d\u52a1\u6709\u53d8\u5316\uff0c\u9700\u8981\u4f9d\u8d56\u65b9\u91cd\u542f\uff0c\u8fd9\u5c06\u4f1a\u662f\u4e00\u573a\u300c\u6d69\u5927\u300d\u7684\u5de5\u7a0b\uff0c\u4e0d\u540c\u9879\u76ee\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u62e5\u6709\u4e0d\u540c\u7684\u7ef4\u62a4\u8005\uff0c\u901a\u77e5\u5230\u6240\u6709\u4eba\u5e76\u4e14\u5b8c\u6210\u8fd9\u4ef6\u4e8b\u60c5\u672c\u8eab\u5c31\u53d8\u5f97\u6bd4\u8f83\u56f0\u96be\uff08\u96be\u5ea6\u53d6\u51b3\u4e8e\u56e2\u961f\u5927\u5c0f\uff0c\u5f53\u7136\u8fd9\u4e2a\u4f8b\u5b50\u5e76\u4e0d\u4f1a\u662f\u7ecf\u5e38\u53d1\u751f\u7684\u4e8b\u60c5\uff09\u3002\\n\\n\u5728 microservices \u7684\u601d\u60f3\u91cc\u4e0d\u540c\u7684\u670d\u52a1\u5e94\u8be5\u62e5\u6709\u5b8c\u5168\u300c\u72ec\u7acb\u300d\u7684\u8d44\u6e90\uff0c\u5305\u62ec\u4ee3\u7801\u3001\u673a\u5668\u3001\u5b58\u50a8\u7b49\uff0c\u7406\u8bba\u4e0a\u6bcf\u53f0\u673a\u5668\u5e94\u8be5\u53ea\u8fd0\u884c\u4e00\u4e2a\u670d\u52a1\uff0c\u5b58\u50a8\u4e5f\u5e94\u8be5\u53ea\u4f9b\u8fd9\u4e00\u4e2a\u670d\u52a1\u8bfb\u5199\u3002\u5982\u679c\u518d\u8003\u8651\u4e0d\u540c\u670d\u52a1\u7684\u8d1f\u8f7d\u548c\u9ad8\u53ef\u7528\uff0c\u90a3\u4e48\u9700\u8981\u4e3a\u6bcf\u4e2a\u670d\u52a1\u5206\u914d 2 \u81f3\u591a\u53f0\u673a\u5668\u3002\u6b64\u65f6\u4ece\u8fd0\u7ef4\u89d2\u5ea6\u4e0a\u6765\u770b\u5df2\u7ecf\u589e\u52a0\u4e86\u300c\u6570\u91cf\u5e9e\u5927\u300d\u7684\u673a\u5668\uff0c\u4e0d\u8fc7\u8003\u8651\u5230\u6210\u672c\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u628a\u670d\u52a1\u90fd\u90e8\u7f72\u5728\u865a\u62df\u673a\u91cc\uff0c\u800c\u5355\u4e2a\u5b58\u50a8\u5b9e\u4f8b\u4e5f\u53ef\u80fd\u662f\u88ab\u591a\u4e2a\u670d\u52a1\u5171\u4eab\u3002\u4f46\u8fd9\u53ea\u662f\u7269\u7406\u673a\u5668\u7684\u6570\u76ee\u53d8\u5c11\u4e86\uff0c\u5b9e\u9645\u4e0a\u9700\u8981\u7ba1\u7406\u7684\u673a\u5668\u8fd8\u662f\u5f88\u591a\u3002\u4e0d\u8fc7\u73b0\u5728\u8d8a\u6765\u8d8a\u6d41\u884c\u7684\u5bb9\u5668\uff08container\uff09\u7684\u6982\u5ff5\u4e5f\u8bb8\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u6709\u6548\u5229\u7528\u4e86\u96c6\u7fa4\u7684\u8d44\u6e90\uff0c\u540c\u65f6\u8fd8\u80fd\u505a\u5230\u81ea\u52a8\u4f38\u7f29\uff08auto scaling\uff0c\u524d\u63d0\u662f\u4f60\u7684\u670d\u52a1\u5fc5\u987b\u662f\u65e0\u72b6\u6001\u7684\uff09\u3002\\n\\n\u6709\u4e86\u8fd9\u4e48\u591a\u670d\u52a1\uff0c\u627e\u5230\u5b83\u4eec\u53d8\u6210\u4e86\u4e00\u4ef6\u56f0\u96be\u7684\u4e8b\u60c5\u3002\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u9700\u8981\u4e00\u4e2a proxy\uff0c\u5b83\u7684\u529f\u80fd\u5f88\u7b80\u5355\uff0c\u5e2e\u4f60\u627e\u5230\u4f60\u60f3\u4f7f\u7528\u7684\u670d\u52a1\uff0c\u518d\u9ad8\u7ea7\u4e00\u70b9\u7684\uff0c\u4e5f\u8bb8\u8fd8\u4f1a\u5e2e\u4f60\u5b8c\u6210\u8d1f\u8f7d\u5747\u8861\u3002\u4f46\u6709\u7f51\u7edc\u5fc5\u6709\u5f00\u9500\uff0c\u5373\u4f7f\u662f\u5185\u7f51\uff0c\u4f55\u51b5\u8fd8\u662f\u5355\u70b9\uff0c\u6709\u4e00\u5929\u4f60\u4f1a\u53d1\u73b0\u67d0\u4e2a\u670d\u52a1\u7684\u8c03\u7528\u91cf\u5df2\u7ecf\u5927\u5230\u65e0\u6cd5\u5ffd\u89c6 proxy \u5e26\u6765\u7684\u7f51\u7edc\u5f00\u9500\u3002\u4e8e\u662f\u6211\u4eec\u628a\u4e00\u4e2a proxy \u53d8\u6210\u591a\u4e2a\uff0c\u6765\u5206\u62c5\u538b\u529b\u3002\u4f46\u7ef4\u62a4\u8fd9\u4e9b proxy \u7684\u4fe1\u606f\u5176\u5b9e\u4e5f\u662f\u4e00\u4ef6\u9ebb\u70e6\u4e8b\uff0c\u670d\u52a1\u7684\u673a\u5668\u53ef\u80fd\u4f1a\u8c03\u6574\uff0c\u53ef\u80fd\u4f1a\u6709\u5f88\u591a\u65b0\u7684\u670d\u52a1\u51fa\u73b0\uff0c\u5bf9\u4e8e\u8fd0\u7ef4\u6765\u8bf4\u662f\u4e0d\u5bb9\u5ffd\u89c6\u7684\u6210\u672c\u3002\u4e5f\u8bb8\u4f60\u5728\u67d0\u4e2a\u5730\u65b9\u770b\u5230\u4e86\u53e6\u4e00\u79cd\u65b9\u6848\uff0c\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u4e0d\u9700\u8981 proxy\uff0c\u76f4\u8fde\u670d\u52a1\u5c82\u4e0d\u66f4\u597d\uff1f\u76f4\u8fde\u51cf\u5c11\u4e86\u591a\u4f59\u7684\u7f51\u7edc\u5f00\u9500\uff0c\u540c\u65f6\u4e5f\u610f\u5473\u7740\u4f60\u9700\u8981\u81ea\u5df1\u505a\u8d1f\u8f7d\u5747\u8861\u548c\u9ad8\u53ef\u7528\uff0c\u4ee5\u53ca\u53d1\u73b0\u65b0\u7684\u6216\u8005\u6b7b\u6389\u7684\u670d\u52a1\u3002\u5176\u5b9e\u5f88\u591a\u4eba\u5df2\u7ecf\u60f3\u5230\u4e86\u4e00\u4e2a\u89e3\u51b3\u7684\u529e\u6cd5\uff1a\u670d\u52a1\u53d1\u73b0\uff08service discovery\uff09\u3002\u8fd9\u662f\u4e00\u4e2a\u5df2\u7ecf\u5f88\u6210\u719f\u7684\u65b9\u6848\uff0c\u4f60\u751a\u81f3\u53ef\u4ee5\u627e\u5230[\u5f88](http://nerds.airbnb.com/smartstack-service-discovery-cloud)[\u591a](https://github.com/Netflix/eureka)[\u5f00](https://www.consul.io)[\u6e90](https://coreos.com)\u5b9e\u73b0\uff0c\u8fd9\u91cc\u6709\u4e00\u7bc7[\u6587\u7ae0](http://jasonwilder.com/blog/2014/02/04/service-discovery-in-the-cloud)\u6bd4\u8f83\u8be6\u7ec6\u5730\u4ecb\u7ecd\u3001\u5bf9\u6bd4\u4e86\u670d\u52a1\u53d1\u73b0\u76f8\u5173\u7684\u6280\u672f\u3002\u5f53\u7136\u8fd9\u4e9b\u5f00\u6e90\u5b9e\u73b0\u5404\u6709\u5229\u5f0a\uff0c\u4e5f\u8bb8\u6700\u7ec8\u4f60\u4f1a\u9009\u62e9\u81ea\u5df1\u5f00\u53d1\u3002\u4f46\u670d\u52a1\u53d1\u73b0\u7ec8\u5f52\u5f15\u5165\u4e86\u4e00\u4e2a\u65b0\u7684\u6982\u5ff5\uff0c\u610f\u5473\u7740\u4f60\u9700\u8981\u5355\u72ec\u4e3a\u5b83\u90e8\u7f72\u3001\u914d\u7f6e\u3001\u7ba1\u7406\uff0c\u4e5f\u8bb8\u8fd8\u4f1a\u4e0e\u4f60\u7684\u4ee3\u7801\u8026\u5408\u3002\\n\\n\u53e6\u4e00\u4e2a\u5fc5\u987b\u5173\u5fc3\u7684\u4e8b\u60c5\u5c31\u662f\u76d1\u63a7\uff0c\u5f53\u7136\u4f60\u8bf4\u76d1\u63a7\u672c\u6765\u5c31\u662f\u8fd0\u7ef4\u9700\u8981\u505a\u7684\u4e8b\u60c5\uff0c\u4f46\u65e0\u5f62\u4e2d\u589e\u52a0\u4e86\u8fd9\u4e48\u591a\u673a\u5668\u76d1\u63a7\u80af\u5b9a\u503c\u5f97\u5173\u6ce8\u3002\u5e76\u4e14\u76d1\u63a7\u4e0d\u4ec5\u4ec5\u662f\u6307\u670d\u52a1\u662f\u5426\u6b63\u5e38\u8fd0\u884c\uff0c\u8fd8\u5305\u62ec\u670d\u52a1\u7684\u8bf7\u6c42\u91cf\u3001\u8d1f\u8f7d\u3001\u54cd\u5e94\u65f6\u95f4\uff0c\u8fd9\u4e9b\u90fd\u4e0d\u662f\u73b0\u6210\u7684\uff0c\u9700\u8981\u989d\u5916\u7edf\u8ba1\u3002\\n\\n\u7136\u540e\u5c31\u662f\u4eba\u529b\u6210\u672c\u3002\u524d\u9762\u63d0\u5230\u7684\u67b6\u6784\u5df2\u7ecf\u6bd4\u670d\u52a1\u5316\u4e4b\u524d\u590d\u6742\u4e86\u8bb8\u591a\uff0c\u8fd9\u4e5f\u8bb8\u5c31\u4e0d\u662f\u4e00\u4e2a\u4eba\u80fd\u5b8c\u6210\u7684\u4e8b\u60c5\u3002\u8fd8\u6709\u5f88\u591a\u7ec4\u4ef6\u5e76\u4e0d\u4e00\u5b9a\u662f\u73b0\u6210\u7684\uff0c\u4e8e\u662f\u8fd0\u7ef4\u540c\u5b66\u8fd8\u9700\u8981\u5177\u5907\u4e00\u5b9a\u7684\u5f00\u53d1\u80fd\u529b\uff0cDevOps \u8fd9\u4e2a\u79f0\u8c13\u5176\u5b9e\u662f\u4e00\u4e2a\u86ee\u9ad8\u7684\u8981\u6c42\u3002\u4f34\u968f\u800c\u6765\u7684\u5c31\u662f\u62db\u4eba\u7684\u6807\u51c6\u4e5f\u5f97\u63d0\u9ad8\uff0c\u8003\u8651\u5230\u6211\u4eec\u662f\u5bb6\u5c0f\u516c\u53f8\uff0c\u6280\u672f\u56e2\u961f\u89c4\u6a21\u4e5f\u4e0d\u4f1a\u592a\u5927\uff0c\u5fc5\u987b\u5728\u62db\u4eba\u4e0a\u505a\u51fa\u53d6\u820d\u3002\\n\\n### \u63a5\u53e3\\n\\n\u6709\u4e86\u670d\u52a1\u4e4b\u540e\u63a5\u53e3\u53d8\u6210\u4e86\u4e00\u4ef6\u5f88\u91cd\u8981\u7684\u4e8b\u60c5\u3002\u6211\u4eec\u9700\u8981\u5236\u5b9a\u4e00\u4e9b\u63a5\u53e3\u89c4\u8303\uff0c\u8bb2\u7a76\u4e00\u70b9\u7684\u53ef\u80fd\u8fd8\u4f1a\u8981\u6c42\u547d\u540d\u98ce\u683c\uff1b\u9700\u8981\u8003\u8651\u63a5\u53e3\u7684\u7c92\u5ea6\uff0c\u4e0d\u80fd\u8fc7\u7ec6\uff0c\u5c3d\u91cf\u901a\u7528\uff1b\u4e0d\u80fd\u8ba9\u63a5\u53e3\u7684\u4f7f\u7528\u8005\u5bf9\u670d\u52a1\u5185\u90e8\u4ea7\u751f\u592a\u5927\u5f71\u54cd\uff0c\u6bd4\u5982\u8c03\u7528\u4e00\u4e2a\u975e\u5e38\u6d88\u8017\u670d\u52a1\u8d44\u6e90\u7684\u63a5\u53e3\uff0c\u8fd9\u65f6\u670d\u52a1\u7684\u5f00\u53d1\u8005\u5c31\u9700\u8981\u5bf9\u63a5\u53e3\u53c2\u6570\u8fdb\u884c\u5fc5\u8981\u7684\u68c0\u9a8c\uff1b\u6700\u91cd\u8981\u7684\uff0c\u63a5\u53e3\u4e00\u65e6\u53d1\u5e03\uff0c\u4e4b\u540e\u7684\u4efb\u4f55\u6539\u52a8\u90fd\u5fc5\u987b\u5411\u540e\u517c\u5bb9\u3002Protocol Buffers \u5c31\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u4f8b\u5b50\uff0c\u56e0\u4e3a\u662f\u5f3a\u7c7b\u578b\uff0c\u6240\u4ee5\u63a5\u53e3\u53c2\u6570\u9a8c\u8bc1\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5b8c\u6210\uff0cGoogle \u8fd8\u7ed9\u51fa\u4e86\u4e00\u5957[\u66f4\u65b0\u63a5\u53e3\u7684\u51c6\u5219](https://developers.google.com/protocol-buffers/docs/proto#updating)\uff0c\u4f8b\u5982\u65b0\u589e\u7684\u53c2\u6570\u5fc5\u987b\u662f `optional` \u6216\u8005 `repeated`\uff0c\u4e0d\u80fd\u5220\u9664 `required` \u53c2\u6570\u3002\u4f46\u6709\u65f6\u5019\u96be\u514d\u4f1a\u505a\u51fa\u4e0d\u517c\u5bb9\u7684\u6539\u52a8\u6216\u8005\u53d1\u5e03\u4e86\u65b0\u7684\u63a5\u53e3\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u544a\u77e5\u6240\u6709\u670d\u52a1\u7684\u8c03\u7528\u8005\u3002\u4f46\u4f60\u4f1a\u53d1\u73b0\u627e\u5230\u670d\u52a1\u662f\u4e00\u4e2a\u96be\u9898\uff0c\u627e\u5230\u670d\u52a1\u7684\u8c03\u7528\u8005\u5176\u5b9e\u4e5f\u662f\u4e00\u4e2a\u96be\u9898\u3002\u7cd9\u4e00\u70b9\u7684\u53ef\u80fd\u5c31\u662f\u53d1\u90ae\u4ef6\u7ed9\u6240\u6709\u4eba\u6216\u8005\u901a\u8fc7\u7ecf\u9a8c\u6765\u9010\u4e00\u6392\u67e5\uff0c\u667a\u80fd\u4e00\u70b9\u7684\u5c31\u5f97\u5728\u670d\u52a1\u7684\u6846\u67b6\u91cc\u505a\u4e9b\u7edf\u8ba1\uff0c\u81ea\u52a8\u751f\u6210\u670d\u52a1\u7684\u8c03\u7528\u5173\u7cfb\u56fe\u3002\u603b\u4e4b\u63a5\u53e3\u662f\u4e00\u4e2a\u4f60\u4e0d\u53ef\u907f\u514d\u9700\u8981\u8003\u8651\u7684\u95ee\u9898\u3002\\n\\n### \u91cd\u590d\u903b\u8f91\\n\\n\u8f6f\u4ef6\u5de5\u7a0b\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u601d\u60f3\u5c31\u662f\u8981\u907f\u514d\u91cd\u590d\u4ee3\u7801\uff0c\u6709\u8fd9\u6837\u4e00\u53e5\u8033\u719f\u80fd\u8be6\u7684\u8bdd\uff1a\u5f53\u4f60\u7b2c\u4e8c\u6b21\u5199\u4e0b\u540c\u6837\u7684\u4ee3\u7801\u7684\u65f6\u5019\u5c31\u5f97\u601d\u8003\u662f\u5426\u53ef\u4ee5\u62bd\u8c61\u51fa\u4e00\u6bb5\u65b0\u7684\u4ee3\u7801\u3002\u5728\u4e00\u4e2a\u9879\u76ee\u91cc\u8fd9\u4ef6\u4e8b\u5f88\u5bb9\u6613\uff0c\u53ef\u4ee5\u662f\u5c01\u88c5\u597d\u4e00\u4e9b\u51fd\u6570\u3001mixin \u6216\u8005\u7c7b\u3002\u670d\u52a1\u5316\u4e4b\u540e\u6709\u597d\u51e0\u79cd\u65b9\u6848\u53ef\u4ee5\u9009\u62e9\uff1a\\n\\n- \u62bd\u8c61\u51fa\u4e00\u4e2a\u65b0\u7684\u670d\u52a1\\n- \u628a\u8fd9\u6bb5\u903b\u8f91\u5c01\u88c5\u4e3a\u4e00\u4e2a\u5e93\\n- \u7ba1\u4ed6\u7684\uff0c\u6211\u4eec\u5c31\u76f4\u63a5\u590d\u5236\u7c98\u8d34\u4e86\u5427\\n\\n\u6bcf\u4e00\u4e2a\u5176\u5b9e\u90fd\u6709\u4f18\u7f3a\u70b9\uff0c\u6328\u4e2a\u8bf4\u4e00\u4e0b\u3002\u62bd\u8c61\u65b0\u670d\u52a1\u6709\u6ee5\u7528\u670d\u52a1\u5316\u7684\u5acc\u7591\uff0c\u5e76\u4e14\u65b0\u7684\u670d\u52a1\u610f\u5473\u7740\u66f4\u591a\u7684\u7f51\u7edc\u5f00\u9500\uff0c\u591a\u4e2a\u670d\u52a1\u4e5f\u8ddf\u8fd9\u4e2a\u65b0\u670d\u52a1\u663e\u5f0f\u5730\u7ed1\u5728\u4e86\u4e00\u8d77\uff0c\u7a33\u5b9a\u6027\u6709\u5f85\u5546\u69b7\u3002\u5c01\u88c5\u5e93\u5c11\u4e86\u521a\u624d\u63d0\u5230\u7684\u4e0d\u7a33\u5b9a\u56e0\u7d20\uff0c\u4f46\u540c\u65f6\u5e26\u6765\u4e86\u7ef4\u62a4\u6210\u672c\uff0c\u53ea\u8981\u7ef4\u62a4\u8fc7\u5e93\u7684\u540c\u5b66\u5e94\u8be5\u90fd\u4e86\u89e3\u7248\u672c\u66f4\u65b0\u662f\u4e00\u4ef6\u5f88\u9ebb\u70e6\u7684\u4e8b\u60c5\uff0c\u5728\u8fed\u4ee3\u901f\u5ea6\u4e0a\u80af\u5b9a\u8981\u900a\u4e8e\u7b2c\u4e00\u79cd\u65b9\u6848\u3002\u6700\u540e\u4e00\u79cd\uff0c\u55ef\u3002\u3002\u5c31\u50cf\u6b66\u4fa0\u5c0f\u8bf4\u4e2d\u7684\u9526\u56ca\u4e00\u6837\uff0c\u4e0d\u5230\u4e07\u4e0d\u5f97\u5df2\u5343\u4e07\u4e0d\u8981\u7528\u3002\u76ee\u524d\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u7b2c\u4e8c\u79cd\u3002\\n\\n### \u5206\u5e03\u5f0f\u7cfb\u7edf\u5e26\u6765\u7684\u590d\u6742\u6027\\n\\n\u670d\u52a1\u5316\u6253\u7834\u4e86\u957f\u4e45\u4ee5\u6765\u7684\u4e09\u5c42\u67b6\u6784\uff083-tier architecture\uff09\uff0c\u6709\u4eba\u79f0\u4e4b\u4e3a[\u56db\u5c42\u67b6\u6784][It\u2019s Time to Move to a Four-Tier Application Architecture]\u3002\u5206\u5c42\u5728\u8f6f\u4ef6\u5de5\u7a0b\u91cc\u662f\u4e00\u4ef6\u597d\u4e8b\uff0c\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u5355\u5c42\u5b9e\u73b0\u7684\u590d\u6742\u5ea6\uff0c\u4f46\u540c\u65f6\u4e5f\u4f1a\u7ed9\u6574\u4e2a\u7cfb\u7edf\u4ea7\u751f\u989d\u5916\u7684\u4ee3\u4ef7\u3002\u7f51\u7edc\u5f00\u9500\u3001\u7f51\u7edc\u7684\u4e0d\u7a33\u5b9a\u6027\u3001\u67b6\u6784\u7684\u5bb9\u9519\u6027\u3001\u6d88\u606f\u7684\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u3001\u4e0d\u540c\u670d\u52a1\u4e4b\u95f4\u8d1f\u8f7d\u7684\u53d8\u5316\u7b49\u7b49\u3002\u56db\u5c42\u67b6\u6784\u91cc\u591a\u4e86\u5f88\u91cd\u8981\u7684\u4e00\u5c42\u300c\u670d\u52a1\u5c42\u300d\uff0c\u8fd9\u4e00\u5c42\u5185\u90e8\u7684\u7f51\u7edc\u901a\u4fe1\u9700\u8981\u4e0e\u4e0a\u5c42\u9694\u79bb\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u5bf9\u670d\u52a1\u7684\u67d0\u4e9b\u5f02\u5e38\u8fdb\u884c\u6355\u83b7\uff0c\u5fc5\u8981\u7684\u65f6\u5019\u91cd\u53d1\u8bf7\u6c42\uff0c\u670d\u52a1\u5982\u4f55\u505a\u5230 graceful \u90e8\u7f72\uff0c\u5206\u5e03\u5f0f\u4e8b\u52a1\uff08\u5982\u679c\u4f60\u771f\u7684\u9700\u8981\u4e8b\u52a1\uff09\uff0c\u4e0d\u8981\u56e0\u4e3a\u67d0\u4e2a\u670d\u52a1\u6302\u6389\u800c\u5bfc\u81f4\u6574\u4e2a\u7cfb\u7edf\u5b95\u673a\uff0c\u5e8f\u5217\u5316\u662f\u91c7\u7528\u4e8c\u8fdb\u5236\u8fd8\u662f JSON\uff0c\u5e8f\u5217\u5316\u7a0b\u5e8f\u7684\u6027\u80fd\u5982\u4f55\uff0c\u670d\u52a1\u5c42\u5185\u90e8\u53c8\u5982\u4f55\u5206\u5c42\uff0c\u5982\u4f55\u907f\u514d\u5faa\u73af\u8c03\u7528\u3002\u524d\u9762\u8fd9\u4e9b\u90fd\u5fc5\u987b\u8003\u8651\u3002\\n\\n\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u53ef\u80fd\u5f88\u591a\u4eba\u521a\u5f00\u59cb\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u60f3\u5230\uff0c\u90a3\u5c31\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u6574\u4f53\u8ddf\u8e2a\uff08tracing\uff09\u3002\u8fd9\u662f\u5e72\u561b\u7684\uff1f\u5f53\u4e00\u4e2a\u95ee\u9898\u51fa\u73b0\u65f6\uff0c\u4f60\u9700\u8981\u51c6\u786e\u5224\u65ad\u662f\u54ea\u4e00\u5c42\u51fa\u4e86\u95ee\u9898\uff0c\u800c\u4e0d\u662f\u9760\u731c\u6216\u8005\u9010\u4e00\u6392\u67e5\uff1b\u5f53\u4f60\u9700\u8981\u4f18\u5316\u6574\u4f53\u6027\u80fd\u65f6\uff0c\u4f60\u9700\u8981\u5224\u65ad\u662f\u54ea\u6b21\u8c03\u7528\u62d6\u4e86\u540e\u817f\u3002\u65e9\u5728 2010 \u5e74 Google \u53d1\u8868\u4e86 [Dapper \u7684\u8bba\u6587](http://research.google.com/pubs/pub36356.html)\uff0c\u4e4b\u540e Twitter \u5f00\u6e90\u4e86\u4ed6\u4eec\u7684\u5b9e\u73b0 [Zipkin](https://twitter.github.io/zipkin)\uff0c\u76ee\u524d\u77e5\u4e4e\u4e5f\u662f\u5728 Zipkin \u7684\u57fa\u7840\u4e0a\u9488\u5bf9\u6211\u4eec\u81ea\u5df1\u7684\u670d\u52a1\u5316\u6846\u67b6\u5b9a\u5236\u4e86\u4e00\u5957 tracing \u7cfb\u7edf\u3002\\n\\n\u7cfb\u7edf\u67b6\u6784\u7684\u53d8\u5316\u4e5f\u4f1a\u5f71\u54cd\u5230\u5f00\u53d1\u8005\u7684\u67d0\u4e9b\u8bbe\u8ba1\uff0c\u5728\u4ee5\u524d\u8fd9\u5c31\u662f\u4e00\u4e9b\u666e\u901a\u7684\u51fd\u6570\u8c03\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u81ea\u7531\u5730\u63a7\u5236\u8c03\u7528\u7684\u987a\u5e8f\u3001\u5904\u7406\u76f8\u5173\u7684\u5f02\u5e38\uff0c\u73b0\u5728\u6211\u4eec\u9700\u8981\u8003\u8651\u5230\u7f51\u7edc\u8c03\u7528\u7684\u56e0\u7d20\uff0c\u65f6\u5e8f\u6027\u4e5f\u662f\u4e00\u4e2a\u95ee\u9898\uff0c\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u91cd\u8bd5\uff0c\u4ec0\u4e48\u65f6\u5019\u53c8\u4e0d\u884c\u3002\u67d0\u4e9b\u95ee\u9898\u662f\u4e00\u4e2a\u597d\u7684\u670d\u52a1\u6846\u67b6\u53ef\u4ee5\u89e3\u51b3\u7684\uff0c\u4f46\u67d0\u4e9b\u4e0d\u53ef\u4ee5\u3002\\n\\n### \u5f02\u6b65\\n\\n\u7531\u4e8e[\u4f17\u6240\u5468\u77e5\u7684\u539f\u56e0](http://en.wikipedia.org/wiki/Global_Interpreter_Lock)\uff0cPython \u7684\u591a\u7ebf\u7a0b\u5e76\u4e0d\u662f\u4e00\u4e2a\u6548\u7387\u5f88\u9ad8\u7684\u65b9\u6848\uff08\u4e8b\u5b9e\u4e0a\u591a\u7ebf\u7a0b\u672c\u8eab\u4e5f\u4e0d\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u65b9\u6848\uff09\uff0c\u4e8e\u662f\u5f02\u6b65\u5927\u884c\u5176\u9053\u3002\u4f46\u662f Python \u7684\u5f02\u6b65\u6bd5\u7adf\u4e0d\u662f\u8bed\u8a00\u7ea7\u522b\u7684\uff0c\u867d\u7136\u6709\u5f88\u591a\u5b9e\u73b0\uff0c\u4f46\u90fd\u4e0d\u662f\u7279\u522b\u597d\u7528\uff08Python 3 \u8fd9\u8d27\u4e5f\u4e0d\u77e5\u9053\u8981\u4f55\u5e74\u4f55\u6708\u624d\u80fd\u666e\u53ca\uff09\u3002\u67d0\u4e9b\u5f02\u6b65\u5b9e\u73b0\u4e5f\u4f1a\u5e26\u6765\u7f16\u7a0b\u4e60\u60ef\u4e0a\u7684\u6539\u53d8\uff0c\u5728\u4f7f\u7528\u7684\u65f6\u5019\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u770b\u4f3c\u300c\u83ab\u540d\u5176\u5999\u300d\u7684 bug\u3002\u5f02\u6b65\u4e5f\u4e0d\u662f\u94f6\u5f39\uff0c\u5f53\u4e00\u4e2a\u670d\u52a1\u65e2\u6709\u5f02\u6b65\u8bf7\u6c42\u53c8\u6709\u540c\u6b65\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5f02\u6b65\u8bf7\u6c42\u7684\u6027\u80fd\u53cd\u800c\u4f1a\u56e0\u4e3a\u540c\u6b65\u8bf7\u6c42\u53d8\u5dee\uff0c\u56e0\u6b64\u4e00\u4e2a\u670d\u52a1\u6700\u597d\u662f\u5b8c\u5b8c\u5168\u5168\u7684\u5f02\u6b65\u3002\\n\\n### \u5f00\u53d1\u4e0e\u6d4b\u8bd5\\n\\n\u8fd9\u53ef\u80fd\u662f\u6bd4\u8f83\u5bb9\u6613\u5ffd\u89c6\u7684\u4e00\u5757\uff0c\u6bd5\u7adf\u662f\u7ed9\u81ea\u5df1\u7528\u7684\u4e1c\u897f\uff0c\u4e0d\u597d\u7528\u4e5f\u8bb8\u8fd8\u53ef\u4ee5\u5fcd\u5fcd\uff0c\u4f46\u6211\u89c9\u5f97\u8fd9\u53cd\u800c\u662f\u6700\u5f71\u54cd\u5f00\u53d1\u6548\u7387\u7684\u73af\u8282\u3002\u5f53\u4e00\u4e2a\u9879\u76ee\u7684\u8fd0\u884c\u9700\u8981\u4f9d\u8d56\u5341\u51e0\u4e2a\u3001\u51e0\u5341\u4e2a\u670d\u52a1\u7684\u65f6\u5019\uff0c\u5f00\u53d1\u3001\u6d4b\u8bd5\u5c31\u6210\u4e86\u4e00\u4e2a\u96be\u9898\u3002\u6211\u4eec\u4e5f\u8bb8\u53ef\u4ee5\u5206\u522b\u5728\u5f00\u53d1\u73af\u5883\u548c\u6d4b\u8bd5\u73af\u5883\u5c06\u8fd9\u4e9b\u670d\u52a1\u90e8\u7f72\u597d\uff0c\u4f46\u662f\u7ef4\u62a4\u8fd9\u4e9b\u670d\u52a1\u7684\u53ef\u7528\u6027\u548c\u7a33\u5b9a\u6027\u4f1a\u53d8\u6210\u65b0\u7684\u95ee\u9898\u3002\u6bd4\u8f83\u7406\u60f3\u7684\u60c5\u51b5\u662f\u9879\u76ee\u7684\u5f00\u53d1\u548c\u6d4b\u8bd5\u4e0d\u4f9d\u8d56\u4efb\u4f55\u7b2c\u4e09\u65b9\u670d\u52a1\uff0c\u4ece\u5355\u5143\u6d4b\u8bd5\u7684\u89d2\u5ea6\u4e0a\u6765\u8bb2\u4f60\u4e5f\u53ea\u9700\u8981\u6d4b\u8bd5\u81ea\u5df1\u4ee3\u7801\u7684\u903b\u8f91\u5c31\u591f\u4e86\uff0c\u8fd9\u4e5f\u8bb8\u5c31\u5f97\u4ece\u670d\u52a1\u6846\u67b6\u7684\u89d2\u5ea6\u5165\u624b\uff0c\u4e0d\u7ba1\u5f00\u53d1\u8fd8\u662f\u6d4b\u8bd5\u90fd\u8981\u4fdd\u8bc1\u63a5\u53e3\u6b63\u5e38\u8c03\u7528\uff0c\u5fc5\u8981\u7684\u65f6\u5019\u628a\u63a5\u53e3 mock \u6389\uff08\u4f46\u4e0d\u80fd\u6ee5\u7528 mock\uff09\uff0c\u4e0d\u8fc7\u96c6\u6210\u6d4b\u8bd5\u8fd8\u662f\u4e0d\u53ef\u907f\u514d\u5927\u91cf\u670d\u52a1\u7684\u4f9d\u8d56\u3002\\n\\n### RPC \u6846\u67b6\\n\\n\u77e5\u4e4e\u4ece\u4e00\u5f00\u59cb\u5c31\u6ca1\u6709\u4f7f\u7528 Thrift \u8fd9\u6837\u73b0\u6210\u7684 RPC \u6846\u67b6\uff0c\u800c\u662f\u57fa\u4e8e Protocol Buffers \u81ea\u5df1\u641e\u4e86\u4e00\u4e2a\uff0c\u540e\u6765\u53c8\u6709\u4e86 JSON \u5e8f\u5217\u5316\u7684\u6846\u67b6\uff0c\u4e5f\u9010\u6e10\u4ece Python \u7248\u6269\u5c55\u5230 Node.js\u3001Java \u7b49\u8bed\u8a00\u3002\u5bf9\u4e8e\u4f7f\u7528 HTTP \u534f\u8bae\u6216\u8005\u73b0\u6210\u6846\u67b6\u7684\u56e2\u961f\u6765\u8bf4\u53ef\u80fd\u8fd9\u4e0d\u662f\u4ec0\u4e48\u95ee\u9898\uff0c\u4f46\u5bf9\u4e8e\u6211\u4eec\u6765\u8bf4\u51e0\u4e4e\u662f\u4ece\u96f6\u5f00\u59cb\u3002\u51e1\u4e8b\u6709\u5229\u6709\u5f0a\uff0c\u4f46\u77e5\u4e4e\u6280\u672f\u56e2\u961f\u8fd8\u662f\u66f4\u503e\u5411\u4e8e\u7b80\u5355\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u670d\u52a1\u5316\u662f\u4e00\u4e2a\u751f\u6001\uff0c\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u9700\u8981\u5b8c\u6210\u81ea\u5df1\u7684\u5de5\u4f5c\uff0c\u6846\u67b6\u53ef\u80fd\u662f\u5176\u4e2d\u7684\u80f6\u6c34\uff0c\u628a\u5404\u4e2a\u7ec4\u4ef6\u8fde\u63a5\u8d77\u6765\u30022015 \u5e74\u6211\u4eec\u4f1a\u7ee7\u7eed\u5b8c\u5584\u6700\u65b0\u4e00\u7248\u7684 RPC \u6846\u67b6\uff0c\u540c\u65f6\u8fd8\u6709\u6574\u4e2a\u670d\u52a1\u5316\u7684\u751f\u6001\u3002\\n\\n## \u7ec4\u7ec7\u7ed3\u6784\u4e0e Microservices\\n\\n\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u6709\u8da3\u7684\u8bdd\u9898\uff0c\u6211\u4e5f\u662f\u5728\u770b Martin Fowler \u7684\u6587\u7ae0\u65f6\u624d\u7b2c\u4e00\u6b21\u4e86\u89e3\u5230\u3002\u5f15\u7528\u4e00\u6bb5\u8457\u540d\u7684\u7406\u8bba\u2014\u2014Conway\'s Law\uff08\u8fd9\u4e2a\u7406\u8bba\u56e0\u300aThe Mythical Man-Month\u300b\u800c\u5f97\u540d\uff09\uff1a\\n\\n> Any organization that designs a system (defined broadly) will produce a design whose structure is a copy of the organization\'s communication structure.\\n>\\n> Conway\'s Law http://www.melconway.com/Home/Conways_Law.html\\n\\n\u7ffb\u8bd1\u8fc7\u6765\u5c31\u662f\uff1a\u4e00\u4e2a\u7ec4\u7ec7\u8bbe\u8ba1\u7684\u7cfb\u7edf\uff08\u5e7f\u4e49\u7684\u6307\u4ee3\uff0c\u5e76\u4e0d\u4e00\u5b9a\u6307\u8f6f\u4ef6\u7cfb\u7edf\uff09\u5f80\u5f80\u5c31\u662f\u516c\u53f8\u7ba1\u7406\u7ec4\u7ec7\u7ed3\u6784\u7684\u7ffb\u7248\u3002\u5728\u5927\u516c\u53f8\u901a\u5e38\u662f\u8fd9\u6837\u7684\uff0c\u8bbe\u8ba1\u5e08\u3001\u4ea7\u54c1\u7ecf\u7406\u3001\u5de5\u7a0b\u5e08\u3001\u6d4b\u8bd5\u3001\u8fd0\u7ef4\u5206\u522b\u5c5e\u4e8e\u4e0d\u540c\u7684\u56e2\u961f\uff0c\u4f46\u662f\u4ed6\u4eec\u53c8\u5171\u540c\u8d1f\u8d23\u4e00\u4e2a\u4ea7\u54c1\uff0c\u4e8e\u662f\u8fd9\u4e2a\u4ea7\u54c1\u53ef\u80fd\u5c31\u53d8\u6210\u4ea7\u54c1\u7ecf\u7406\u60f3\u597d\u9700\u6c42\uff0c\u8bbe\u8ba1\u5e08\u8d1f\u8d23\u754c\u9762\u4ea4\u4e92\uff0c\u5f04\u597d\u4e4b\u540e\u4ea4\u7ed9\u5de5\u7a0b\u5e08\uff0c\u5de5\u7a0b\u5e08\u5f04\u597d\u4e4b\u540e\u4ea4\u7ed9\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u901a\u8fc7\u6700\u540e\u4ea4\u7ed9\u8fd0\u7ef4\u90e8\u7f72\uff0c\u8f6f\u4ef6\u67b6\u6784\u4e0a\u6bcf\u4e2a\u89d2\u8272\u8d1f\u8d23\u7684\u4e1c\u897f\u90fd\u662f\u72ec\u7acb\u7684\u3002\u800c microservices \u66f4\u52a0\u5f3a\u8c03\u5c0f\u56e2\u961f\uff0c\u6bcf\u4e2a\u56e2\u961f\u7684\u6210\u5458\u53ef\u4ee5\u627f\u62c5\u591a\u79cd\u89d2\u8272\uff08\u611f\u89c9\u8ddf\u654f\u6377\u5f00\u53d1\u597d\u50cf\uff09\uff0cmicroservices \u5f80\u5f80\u53c8\u8ddf [CI](http://en.wikipedia.org/wiki/Continuous_integration) \u548c [CD](http://en.wikipedia.org/wiki/Continuous_delivery) \u8054\u7cfb\u7d27\u5bc6\uff0c\u56e0\u6b64\u8fd9\u6837\u7684\u7ec4\u7ec7\u7ed3\u6784\u80fd\u591f\u66f4\u52a0\u5951\u5408\u65b0\u7684\u8f6f\u4ef6\u67b6\u6784\u3002\u524d\u6bb5\u65f6\u95f4\u77e5\u4e4e\u5185\u90e8\u4e5f\u6709\u5173\u4e8e\u8fd9\u4e2a\u8bdd\u9898\u7684\u8ba8\u8bba\uff0c\u6700\u540e\u89c9\u5f97\u8f6f\u4ef6\u67b6\u6784\u548c\u7ec4\u7ec7\u7ed3\u6784\u5176\u5b9e\u662f\u76f8\u4e92\u5f71\u54cd\u7684\uff0c\u4efb\u4f55\u4e00\u65b9\u4e0d\u5951\u5408\u53e6\u5916\u4e00\u65b9\uff0c\u90fd\u4f1a\u9020\u6210\u8fd9\u4e24\u4e2a\u7684\u878d\u5408\u3002\\n\\n## \u4e00\u70b9\u603b\u7ed3\\n\\n\u5199\u4e86\u8fd9\u4e48\u591a\uff0c\u5e76\u4e0d\u662f\u60f3\u8bf4\u670d\u52a1\u5316\u6709\u591a\u4e48\u53ef\u6015\uff0c\u76f8\u53cd\uff0c\u5728\u6211\u770b\u6765\u5728\u5982\u4eca\u79fb\u52a8\u4e92\u8054\u7f51\u7684\u65f6\u4ee3\uff0cmicroservices \u67b6\u6784\u662f\u4e00\u4e2a\u8d8b\u52bf\uff0c\u4f46\u6bcf\u4e2a\u56e2\u961f\u5e94\u8be5\u6839\u636e\u81ea\u5df1\u5f53\u524d\u7684\u9700\u8981\u5408\u7406\u9009\u62e9\u670d\u52a1\u5316\u67b6\u6784\uff0c\u8fd9\u4e2a\u67b6\u6784\u53ef\u4ee5\u5f88\u590d\u6742\u4e5f\u53ef\u4ee5\u5f88\u7b80\u5355\uff0c\u6ca1\u6709\u5fc5\u8981\u5b8c\u5168\u76f8\u540c\uff0c\u9002\u5408\u7684\u5c31\u662f\u6700\u597d\u7684\uff0c\u8fd9\u7edd\u5bf9\u662f\u8f6f\u4ef6\u5de5\u7a0b\u7b2c\u4e00\u51c6\u5219\u3002\\n\\n## \u76f8\u5173\u6587\u7ae0\\n\\n- [Microservices - Not A Free Lunch!][]\\n- [Microservices](http://martinfowler.com/articles/microservices.html)\\n- [It\u2019s Time to Move to a Four-Tier Application Architecture][]\\n\\n[Microservices - Not A Free Lunch!]: http://highscalability.com/blog/2014/4/8/microservices-not-a-free-lunch.html\\n[It\u2019s Time to Move to a Four-Tier Application Architecture]: http://nginx.com/blog/time-to-move-to-a-four-tier-application-architecture"},{"id":"/2014/12/27/hadoop-best-practices-scheduling-in-yarn","metadata":{"permalink":"/blog/2014/12/27/hadoop-best-practices-scheduling-in-yarn","source":"@site/blog/2014-12-27-hadoop-best-practices-scheduling-in-yarn.md","title":"Hadoop Best Practices: Scheduling in YARN","description":"\u8fd9\u7bc7\u6587\u7ae0\u57fa\u672c\u4e0a\u662f\u5bf9\u300aHadoop: The Definitive Guide, 4th Edition\u300b\u7b2c 4 \u7ae0\u7684\u8f6c\u8ff0\uff0c\u7248\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002","date":"2014-12-27T19:01:55.000Z","tags":[{"inline":true,"label":"hadoop","permalink":"/blog/tags/hadoop"},{"inline":true,"label":"yarn","permalink":"/blog/tags/yarn"}],"readingTime":12.71,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Hadoop Best Practices: Scheduling in YARN","date":"2014-12-27 19:01:55 +0800","tags":["hadoop","yarn"]},"unlisted":false,"prevItem":{"title":"A Little Throught About Microservices","permalink":"/blog/2015/03/22/a-little-throught-about-microservices"},"nextItem":{"title":"\u9999\u6e2f\u5e06\u8239\u57f9\u8bad\u8bb0\u5f55","permalink":"/blog/2014/12/15/saling-in-hk"}},"content":"> \u8fd9\u7bc7\u6587\u7ae0\u57fa\u672c\u4e0a\u662f\u5bf9[\u300aHadoop: The Definitive Guide, 4th Edition\u300b\u7b2c 4 \u7ae0](https://www.safaribooksonline.com/library/view/hadoop-the-definitive/9781491901687/ch04.html#YARNScheduling)\u7684\u8f6c\u8ff0\uff0c\u7248\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\\n\\nYARN \u63d0\u4f9b\u4e86\u4e09\u79cd\u4efb\u52a1\u8c03\u5ea6\u7b56\u7565\uff1aFIFO Scheduler\uff0cCapacity Scheduler \u548c Fair Scheduler\uff0c\u4e0b\u9762\u4f1a\u5206\u522b\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## FIFO Scheduler\\n\\n\u987e\u540d\u601d\u4e49\uff0cFIFO Scheduler \u5c31\u662f\u5c06\u6240\u6709 application \u6309\u7167\u63d0\u4ea4\u987a\u5e8f\u6765\u6267\u884c\uff0c\u8fd9\u4e9b application \u90fd\u653e\u5728\u4e00\u4e2a\u961f\u5217\u91cc\uff0c\u53ea\u6709\u5728\u6267\u884c\u5b8c\u4e00\u4e2a\u4e4b\u540e\uff0c\u624d\u4f1a\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u4e2a\u3002\\n\\n\u8fd9\u79cd\u8c03\u5ea6\u7b56\u7565\u5f88\u5bb9\u6613\u7406\u89e3\uff0c\u4f46\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\u3002\u8017\u65f6\u7684\u957f\u4efb\u52a1\u4f1a\u5bfc\u81f4\u540e\u63d0\u4ea4\u7684\u4efb\u52a1\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u5982\u679c\u8fd9\u4e2a\u96c6\u7fa4\u662f\u591a\u4eba\u5171\u4eab\u7684\uff0c\u663e\u7136\u4e0d\u592a\u5408\u7406\u3002\u56e0\u6b64 YARN \u63d0\u4f9b\u4e86\u53e6\u5916\u4e24\u79cd\u8c03\u5ea6\u7b56\u7565\uff0c\u66f4\u52a0\u9002\u5408\u5171\u4eab\u96c6\u7fa4\u3002\u4e0b\u56fe\u662f FIFO Scheduler \u6267\u884c\u8fc7\u7a0b\u7684\u793a\u610f\u56fe\uff1a\\n\\n![FIFO Scheduler](https://farm8.staticflickr.com/7562/16118318715_13c5427d15_o.png)\\n\\n## Capacity Scheduler\\n\\n\u65e2\u7136\u9700\u8981\u591a\u4eba\u5171\u4eab\uff0c\u90a3 Capacity Scheduler \u5c31\u4e3a\u6bcf\u4e2a\u4eba\u5206\u914d\u4e00\u4e2a\u961f\u5217\uff0c\u6bcf\u4e2a\u961f\u5217\u5360\u7528\u7684\u96c6\u7fa4\u8d44\u6e90\u662f\u56fa\u5b9a\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u4e0d\u540c\uff0c\u961f\u5217\u5185\u90e8\u8fd8\u662f\u91c7\u7528 FIFO \u8c03\u5ea6\u7684\u7b56\u7565\u3002\u4e0b\u56fe\u662f Capacity Scheduler \u6267\u884c\u8fc7\u7a0b\u7684\u793a\u610f\u56fe\uff1a\\n\\n![Capacity Scheduler](https://farm8.staticflickr.com/7559/15495992404_c03bc4d9a8_o.png)\\n\\n\u53ef\u4ee5\u770b\u5230\uff0c\u961f\u5217 A \u548c B \u4eab\u6709\u72ec\u7acb\u7684\u8d44\u6e90\uff0c\u4f46\u662f A \u6240\u5360\u7684\u8d44\u6e90\u6bd4\u91cd\u66f4\u591a\u3002\u5982\u679c\u4efb\u52a1\u5728\u88ab\u6267\u884c\u7684\u65f6\u5019\uff0c\u96c6\u7fa4\u6070\u597d\u6709\u7a7a\u95f2\u8d44\u6e90\uff0c\u6bd4\u5982\u961f\u5217 B \u4e3a\u7a7a\uff0c\u90a3\u4e48\u8c03\u5ea6\u5668\u5c31\u53ef\u80fd\u5206\u914d\u66f4\u591a\u7684\u8d44\u6e90\u7ed9\u961f\u5217 A\uff0c\u4ee5\u66f4\u597d\u5730\u5229\u7528\u7a7a\u95f2\u8d44\u6e90\u3002\u8fd9\u79cd\u5904\u7406\u65b9\u5f0f\u88ab\u53eb\u505a\u300cqueue elasticity\u300d\uff08\u5f39\u6027\u961f\u5217\uff09\u3002\\n\\n\u4f46\u662f\u5f39\u6027\u961f\u5217\u4e5f\u6709\u4e00\u4e9b\u526f\u4f5c\u7528\uff0c\u5982\u679c\u6b64\u65f6\u961f\u5217 B \u6709\u4e86\u65b0\u4efb\u52a1\uff0c\u4e4b\u524d\u88ab\u961f\u5217 A \u5360\u7528\u7684\u8d44\u6e90\u5e76\u4e0d\u4f1a\u7acb\u5373\u91ca\u653e\uff0c\u53ea\u80fd\u7b49\u5230\u961f\u5217 A \u7684\u4efb\u52a1\u6267\u884c\u5b8c\u3002\u4e3a\u4e86\u9632\u6b62\u67d0\u4e2a\u961f\u5217\u8fc7\u591a\u5360\u7528\u96c6\u7fa4\u8d44\u6e90\uff0cYARN \u63d0\u4f9b\u4e86\u4e00\u4e2a\u8bbe\u7f6e\u53ef\u4ee5\u63a7\u5236\u67d0\u4e2a\u961f\u5217\u80fd\u591f\u5360\u7528\u7684\u6700\u5927\u8d44\u6e90\u3002\u4f46\u8fd9\u5176\u5b9e\u53c8\u662f\u8ddf\u5f39\u6027\u961f\u5217\u51b2\u7a81\u7684\uff0c\u56e0\u6b64\u8fd9\u91cc\u6709\u4e00\u4e2a\u6743\u8861\u7684\u95ee\u9898\uff0c\u8fd9\u4e2a\u6700\u5927\u503c\u8bbe\u4e3a\u591a\u5c11\u9700\u8981\u4e0d\u65ad\u8bd5\u9a8c\u548c\u5c1d\u8bd5\u3002\\n\\nCapacity Scheduler \u7684\u961f\u5217\u662f\u652f\u6301\u5c42\u7ea7\u5173\u7cfb\u7684\uff0c\u5373\u6709\u5b50\u961f\u5217\u7684\u6982\u5ff5\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\uff1a\\n\\n```xml\\n<?xml version=\\"1.0\\"?>\\n<configuration>\\n  <property>\\n    <name>yarn.scheduler.capacity.root.queues</name>\\n    <value>prod,dev</value>\\n  </property>\\n  <property>\\n    <name>yarn.scheduler.capacity.root.dev.queues</name>\\n    <value>eng,science</value>\\n  </property>\\n  <property>\\n    <name>yarn.scheduler.capacity.root.prod.capacity</name>\\n    <value>40</value>\\n  </property>\\n  <property>\\n    <name>yarn.scheduler.capacity.root.dev.capacity</name>\\n    <value>60</value>\\n  </property>\\n  <property>\\n    <name>yarn.scheduler.capacity.root.dev.maximum-capacity</name>\\n    <value>75</value>\\n  </property>\\n  <property>\\n    <name>yarn.scheduler.capacity.root.dev.eng.capacity</name>\\n    <value>50</value>\\n  </property>\\n  <property>\\n    <name>yarn.scheduler.capacity.root.dev.science.capacity</name>\\n    <value>50</value>\\n  </property>\\n</configuration>\\n```\\n\\n\u6240\u6709\u961f\u5217\u7684\u6839\u961f\u5217\u53eb\u505a `root`\uff0c\u8fd9\u91cc\u4e00\u5171\u6709\u4e24\u4e2a\u961f\u5217\uff1a`dev` \u548c `prod`\uff0c`dev` \u961f\u5217\u4e4b\u4e0b\u53c8\u6709\u4e24\u4e2a\u5b50\u961f\u5217\uff1a`eng` \u548c `science`\u3002`dev` \u548c `prod` \u5206\u522b\u5360\u7528\u4e86 60% \u548c 40% \u7684\u8d44\u6e90\u6bd4\u91cd\uff0c\u540c\u65f6\u9650\u5236\u4e86 `dev` \u961f\u5217\u80fd\u591f\u4f38\u7f29\u5230\u7684\u6700\u5927\u8d44\u6e90\u6bd4\u91cd\u662f 75%\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c`prod` \u961f\u5217\u81f3\u5c11\u80fd\u6709 25% \u7684\u8d44\u6e90\u5206\u914d\u3002`eng` \u548c `science` \u961f\u5217\u5404\u5360 50%\uff0c\u4f46\u56e0\u4e3a\u6ca1\u6709\u8bbe\u7f6e\u6700\u5927\u503c\uff0c\u6240\u4ee5\u6709\u53ef\u80fd\u51fa\u73b0\u67d0\u4e2a\u961f\u5217\u5360\u7528\u6574\u4e2a\u7236\u961f\u5217\u8d44\u6e90\u7684\u60c5\u51b5\u3002\\n\\n\u9664\u4e86\u8bbe\u7f6e\u961f\u5217\u5c42\u7ea7\u5173\u7cfb\u548c\u8d44\u6e90\u5206\u914d\u6bd4\u91cd\u4e4b\u5916\uff0cCapacity Scheduler \u8fd8\u63d0\u4f9b\u4e86\u8bf8\u5982\u63a7\u5236\u6bcf\u4e2a\u7528\u6237\u6216\u8005\u4efb\u52a1\u6700\u5927\u5360\u7528\u8d44\u6e90\u3001\u540c\u65f6\u6267\u884c\u7684\u6700\u5927\u4efb\u52a1\u6570\uff0c\u4ee5\u53ca\u961f\u5217\u7684 ACL \u7b49\u914d\u7f6e\uff0c\u8be6\u7ec6\u8bf7\u53c2\u8003[\u5b98\u65b9\u6587\u6863](http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html)\u3002\\n\\n### \u961f\u5217\u653e\u7f6e\\n\\n\u5206\u914d\u597d\u4e86\u961f\u5217\uff0c\u8981\u600e\u4e48\u63a7\u5236\u4efb\u52a1\u5728\u6307\u5b9a\u961f\u5217\u6267\u884c\u5462\uff1f\u5982\u679c\u662f MapReduce \u7a0b\u5e8f\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7 `mapreduce.job.queuename` \u6765\u8bbe\u7f6e\u6267\u884c\u961f\u5217\uff0c\u9ed8\u8ba4\u60c5\u51b5\u662f\u5728 `default` \u961f\u5217\u6267\u884c\u3002\u6ce8\u610f\u6307\u5b9a\u7684\u961f\u5217\u540d\u4e0d\u9700\u8981\u5305\u542b\u7236\u961f\u5217\uff0c\u5373\u4e0d\u80fd\u5199\u6210 `root.dev.eng`\uff0c\u800c\u5e94\u8be5\u5199 `eng`\u3002\\n\\n## Fair Scheduler\\n\\nFair Scheduler \u8bd5\u56fe\u4e3a\u6bcf\u4e2a\u4efb\u52a1\u5747\u5300\u5206\u914d\u8d44\u6e90\uff0c\u6bd4\u5982\u5f53\u524d\u53ea\u6709\u4efb\u52a1 1 \u5728\u6267\u884c\uff0c\u90a3\u4e48\u5b83\u62e5\u6709\u6574\u4e2a\u96c6\u7fa4\u8d44\u6e90\uff0c\u6b64\u65f6\u4efb\u52a1 2 \u88ab\u63d0\u4ea4\uff0c\u90a3\u4efb\u52a1 1 \u548c\u4efb\u52a1 2 \u5c06\u5e73\u5206\u96c6\u7fa4\u8d44\u6e90\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\\n\\n\u5f53\u7136 Fair Scheduler \u4e5f\u652f\u6301\u961f\u5217\u7684\u6982\u5ff5\uff0c\u4e0b\u56fe\u662f\u6267\u884c\u8fc7\u7a0b\u7684\u793a\u610f\u56fe\uff1a\\n\\n![Fair Scheduler](https://www.safaribooksonline.com/library/view/hadoop-the-definitive/9781491901687/images/yarn_fair_scheduling.png)\\n\\n\u961f\u5217 A \u9996\u5148\u6267\u884c\u4efb\u52a1\uff0c\u4efb\u52a1 1 \u62e5\u6709\u6574\u4e2a\u96c6\u7fa4\u8d44\u6e90\uff0c\u968f\u540e\u961f\u5217 B \u589e\u52a0\u4efb\u52a1 2\uff0c\u8fd9\u4e24\u4e2a\u961f\u5217\u5747\u5206\u8d44\u6e90\uff0c\u63a5\u7740\u4efb\u52a1 3 \u88ab\u63d0\u4ea4\u5230\u961f\u5217 B\uff0c\u4f46\u8fd9\u5e76\u4e0d\u4f1a\u5f71\u54cd\u961f\u5217 A\uff0c\u4efb\u52a1 3 \u5c06\u4f1a\u8ddf\u4efb\u52a1 2 \u4e00\u8d77\u5747\u5206\u8d44\u6e90\u3002\\n\\n### \u5f00\u542f Fair Scheduler\\n\\n\u8bbe\u7f6e `yarn.resourcemanager.scheduler.class` \u4e3a `org.apache.hadoop.yarn.server.resourcemanager.scheduler.fair.FairScheduler`\uff08\u5728 `yarn-site.xml`\uff09\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f CDH\uff0c\u90a3\u9ed8\u8ba4\u5c31\u662f Fair Scheduler\uff08\u4e8b\u5b9e\u4e0a\uff0cCDH \u4e5f[\u4e0d\u652f\u6301 Capacity Scheduler](http://www.cloudera.com/content/cloudera/en/documentation/cdh5/v5-1-x/CDH5-Installation-Guide/cdh5ig_mapreduce_to_yarn_migrate.html#concept_nqs_pmy_xl_unique_3)\uff09\u3002\\n\\n### \u961f\u5217\u8bbe\u7f6e\\n\\nFair Scheduler \u901a\u8fc7 `fair-scheduler.xml` \u6587\u4ef6\u6765\u8fdb\u884c\u5404\u79cd\u8bbe\u7f6e\uff0c\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f4d\u7f6e\u53ef\u4ee5\u901a\u8fc7 `yarn.scheduler.fair.allocation.file` \u5c5e\u6027\u6765\u63a7\u5236\uff08\u5728 `yarn-site.xml`\uff09\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0cFair Scheduler \u91c7\u53d6\u7684\u7b56\u7565\u5c06\u662f\uff1a\u6bcf\u4e2a\u4efb\u52a1\u90fd\u653e\u5728\u4ee5\u5f53\u524d\u7528\u6237\u547d\u540d\u7684\u961f\u5217\u4e2d\uff0c\u5982\u679c\u8fd9\u4e2a\u961f\u5217\u4e0d\u5b58\u5728\uff0c\u5c06\u4f1a\u81ea\u52a8\u521b\u5efa\u3002\\n\\nFair Scheduler \u4e5f\u652f\u6301\u663e\u5f0f\u5b9a\u4e49\u961f\u5217\uff0c\u5c31\u50cf Capacity Scheduler \u90a3\u6837\uff0c\u4e0b\u9762\u662f\u793a\u4f8b\u6587\u4ef6\uff1a\\n\\n```xml\\n<?xml version=\\"1.0\\"?>\\n<allocations>\\n  <defaultQueueSchedulingPolicy>fair</defaultQueueSchedulingPolicy>\\n\\n  <queue name=\\"prod\\">\\n    <weight>40</weight>\\n    <schedulingPolicy>fifo</schedulingPolicy>\\n  </queue>\\n\\n  <queue name=\\"dev\\">\\n    <weight>60</weight>\\n    <queue name=\\"eng\\" />\\n    <queue name=\\"science\\" />\\n  </queue>\\n\\n  <queuePlacementPolicy>\\n    <rule name=\\"specified\\" create=\\"false\\" />\\n    <rule name=\\"primaryGroup\\" create=\\"false\\" />\\n    <rule name=\\"default\\" queue=\\"dev.eng\\" />\\n  </queuePlacementPolicy>\\n</allocations>\\n```\\n\\n\u8fd9\u91cc\u81ea\u5b9a\u4e49\u4e86\u4e24\u4e2a\u961f\u5217\uff1a`prod` \u548c `dev`\uff0c\u6743\u91cd\u6bd4\u662f 40:60\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u91c7\u7528\u5747\u5206\u7684\u7b56\u7565\u3002\u6bcf\u4e2a\u961f\u5217\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u8c03\u5ea6\u7b56\u7565\uff0c\u9ed8\u8ba4\u90fd\u662f `fair`\uff0c\u6b64\u5916\u8fd8\u6709 FIFO\u3001Dominant Resource Fairness\uff08`drf`\uff0c\u540e\u9762\u4f1a\u8bb2\u5230\uff09\u3002\u8be6\u7ec6\u7684\u914d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u67e5\u770b[\u5b98\u65b9\u6587\u6863](http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/FairScheduler.html)\u3002\\n\\n### \u961f\u5217\u653e\u7f6e\\n\\n\u4e0d\u540c\u4e8e Capacity Scheduler\uff0cFair Scheduler \u662f\u901a\u8fc7\u89c4\u5219\u6765\u51b3\u5b9a\u653e\u7f6e\u7684\u961f\u5217\uff0c\u5373\u524d\u9762\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 `queuePlacementPolicy` \u8bbe\u7f6e\u3002\u7b2c\u4e00\u4e2a\u89c4\u5219 `specified` \u4ee3\u8868\u5982\u679c\u4efb\u52a1\u81ea\u5df1\u6307\u5b9a\u4e86\u961f\u5217\uff0c\u5c31\u653e\u7f6e\u5230\u8fd9\u4e2a\u961f\u5217\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u6216\u8005\u6307\u5b9a\u7684\u961f\u5217\u4e0d\u5b58\u5728\uff0c\u5c31\u91c7\u7528\u4e0b\u4e00\u6761\u89c4\u5219\u3002`primaryGroup` \u89c4\u5219\u7684\u610f\u601d\u662f\u8bd5\u56fe\u5c06\u4efb\u52a1\u653e\u7f6e\u5230\u5f53\u524d\u7528\u6237\u7684\u4e3b\u8981 Unix \u7ec4\uff0c\u5982\u679c\u8fd9\u4e2a\u961f\u5217\u4e0d\u5b58\u5728\u5219\u7ee7\u7eed\u4e0b\u4e00\u6761\u89c4\u5219\u3002`default` \u89c4\u5219\u4f1a\u5339\u914d\u6240\u6709\u4efb\u52a1\uff0c\u793a\u4f8b\u6587\u4ef6\u7684\u610f\u601d\u662f\u653e\u7f6e\u5230 `dev.eng` \u961f\u5217\u4e2d\u3002\\n\\n`queuePlacementPolicy` \u53ef\u4ee5\u7701\u7565\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u90a3\u4e48\u9ed8\u8ba4\u7684\u89c4\u5219\u5982\u4e0b\uff1a\\n\\n```xml\\n<queuePlacementPolicy>\\n  <rule name=\\"specified\\" />\\n  <rule name=\\"user\\" />\\n</queuePlacementPolicy>\\n```\\n\\n\u4e5f\u5c31\u662f\u8bf4\u9664\u975e\u663e\u5f0f\u6307\u5b9a\u961f\u5217\uff0c\u90a3\u4e48\u5c06\u4f1a\u4f7f\u7528\u5f53\u524d\u7528\u6237\u540d\u4f5c\u4e3a\u961f\u5217\uff0c\u5e76\u4e14\u5982\u679c\u961f\u5217\u4e0d\u5b58\u5728\u5c06\u4f1a\u81ea\u52a8\u521b\u5efa\u3002\\n\\n### \u4e2d\u65ad\uff08Preempt\uff09\\n\\n\u5f53\u4e00\u4e2a\u4efb\u52a1\u88ab\u63d0\u4ea4\u5230\u4e00\u4e2a\u7a7a\u961f\u5217\uff0c\u4f46\u662f\u96c6\u7fa4\u4e0d\u592a\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u4efb\u52a1\u4e0d\u4f1a\u88ab\u7acb\u5373\u6267\u884c\uff0c\u9700\u8981\u7b49\u5f85\u5176\u5b83\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\u8ba9\u51fa\u8d44\u6e90\u3002\u4e3a\u4e86\u7b49\u5f85\u65f6\u95f4\u66f4\u52a0\u53ef\u63a7\uff0cFair Scheduler \u652f\u6301\u300c\u4e2d\u65ad\u300d\uff08preemption\uff09\u3002\\n\\n\u4e2d\u65ad\u7684\u610f\u601d\u662f\u8c03\u5ea6\u5668\u4f1a\u901a\u8fc7\u5f3a\u884c\u7ed3\u675f container \u6267\u884c\u7684\u65b9\u5f0f\u6765\u91ca\u653e\u8d44\u6e90\uff0c\u5728\u6ee1\u8db3\u67d0\u4e9b\u6761\u4ef6\u7684\u60c5\u51b5\u4e0b\u3002\u6ce8\u610f\u4e2d\u65ad\u662f\u4ee5\u727a\u7272\u96c6\u7fa4\u6027\u80fd\u4e3a\u4ee3\u4ef7\u7684\u4e00\u79cd\u505a\u6cd5\uff0c\u56e0\u4e3a\u88ab\u5f3a\u884c\u7ed3\u675f\u7684 container \u9700\u8981\u91cd\u65b0\u6267\u884c\u3002\\n\\n\u901a\u8fc7\u8bbe\u7f6e `yarn.scheduler.fair.preemption` \u4e3a `true` \u6765\u5f00\u542f\u4e2d\u65ad\uff08\u5728 `yarn-site.xml`\uff09\uff0c\u540c\u65f6\u8fd8\u9700\u8981\u8bbe\u7f6e\u53e6\u5916\u4e24\u4e2a\u8d85\u65f6\u5c5e\u6027\u4e2d\u7684\u81f3\u5c11\u4e00\u4e2a\uff08\u5728 `fair-scheduler.xml`\uff09\uff0c\u8d85\u65f6\u7684\u5355\u4f4d\u90fd\u662f\u79d2\u3002\\n\\n- `defaultMinSharePreemptionTimeout` \u6216 `minSharePreemptionTimeout`\uff1a\u5982\u679c\u4e00\u4e2a\u961f\u5217\u7b49\u5f85\u5f53\u524d\u8bbe\u7f6e\u7684\u8d85\u65f6\u65f6\u95f4\u4e4b\u540e\u8fd8\u662f\u6ca1\u6709\u5206\u914d\u5230\u5e94\u8be5\u5206\u914d\u7684\u6700\u5c0f\u8d44\u6e90\uff0c\u90a3\u4e48\u8c03\u5ea6\u5668\u5c31\u4f1a\u53bb\u4e2d\u65ad\u5176\u5b83 container\u3002\\n- `defaultFairSharePreemptionTimeout` \u6216 `fairSharePreemptionTimeout`\uff1a\u5982\u679c\u4e00\u4e2a\u961f\u5217\u7b49\u5f85\u5f53\u524d\u8bbe\u7f6e\u7684\u8d85\u65f6\u65f6\u95f4\u4e4b\u540e\u8fd8\u662f\u6ca1\u6709\u5206\u914d\u5230\u5e94\u8be5\u5206\u914d\u7684\u8d44\u6e90\u7684\u4e00\u534a\u4ee5\u4e0a\uff0c\u90a3\u4e48\u8c03\u5ea6\u5668\u5c31\u4f1a\u53bb\u4e2d\u65ad\u5176\u5b83 container\u3002`defaultFairSharePreemptionThreshold` \u6216 `fairSharePreemptionThreshold` \u53ef\u4ee5\u7528\u6765\u8c03\u8282\u9608\u503c\uff0c\u9ed8\u8ba4\u662f 0.5\u3002\\n\\n## \u5ef6\u8fdf\u8c03\u5ea6\\n\\n\u4ee5\u4e0a\u4e09\u79cd\u8c03\u5ea6\u90fd\u9075\u4ece locality \u539f\u5219\u3002\u5728\u4e00\u4e2a\u7e41\u5fd9\u7684\u96c6\u7fa4\u91cc\uff0c\u5f53\u4e00\u4e2a\u4efb\u52a1\u8bf7\u6c42\u4e00\u4e2a\u8282\u70b9\u7684\u65f6\u5019\u6709\u5f88\u5927\u6982\u7387\u8fd9\u4e2a\u8282\u70b9\u6b63\u88ab\u5176\u5b83 container \u5360\u7528\uff0c\u6bd4\u8f83\u663e\u800c\u6613\u89c1\u7684\u505a\u6cd5\u53ef\u80fd\u662f\u7acb\u5373\u5bfb\u627e\u540c\u4e00\u673a\u67dc\u91cc\u7684\u5176\u5b83\u8282\u70b9\u3002\u4f46\u662f\u7ecf\u8fc7\u5b9e\u9645\u89c2\u5bdf\uff0c\u5982\u679c\u7a0d\u5fae\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff08\u79d2\u7ea7\uff09\uff0c\u5206\u914d\u5230\u5f53\u524d\u8bf7\u6c42\u8282\u70b9\u7684\u6982\u7387\u5c06\u663e\u8457\u589e\u52a0\u3002\u8fd9\u79cd\u7b56\u7565\u53eb\u505a\u300c\u5ef6\u8fdf\u8c03\u5ea6\u300d\uff08delay scheduling\uff09\uff0cCapacity Scheduler \u548c Fair Scheduler \u90fd\u652f\u6301\u8fd9\u79cd\u7b56\u7565\u3002\\n\\n\u6bcf\u4e00\u4e2a node manager \u4f1a\u5b9a\u671f\u53d1\u9001\u5fc3\u8df3\u7ed9 resource manager\uff0c\u8fd9\u5176\u4e2d\u5c31\u5305\u542b\u4e86\u8be5 node manager \u6b63\u5728\u8fd0\u884c\u7684 container \u6570\u91cf\u4ee5\u53ca\u53ef\u4ee5\u5206\u914d\u7ed9\u65b0 container \u7684\u8d44\u6e90\u3002\u5f53\u91c7\u7528\u5ef6\u8fdf\u8c03\u5ea6\u7b56\u7565\u65f6\uff0c\u8c03\u5ea6\u5668\u5e76\u4e0d\u4f1a\u7acb\u5373\u4f7f\u7528\u6536\u96c6\u5230\u7684\u4fe1\u606f\uff0c\u800c\u4f1a\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u4ee5\u8fbe\u5230\u9075\u4ece locality \u7684\u76ee\u7684\u3002\\n\\nCapacity Scheduler \u7684\u5ef6\u8fdf\u8c03\u5ea6\u901a\u8fc7 `yarn.scheduler.capacity.node-locality-delay` \u6765\u914d\u7f6e\uff0c\u8fd9\u662f\u4e00\u4e2a\u6b63\u6574\u6570\uff0c\u5047\u8bbe\u662f n\uff0c\u8868\u793a\u8c03\u5ea6\u5668\u5c06\u4f1a\u653e\u5f03\u524d n \u6761\u5fc3\u8df3\u4fe1\u606f\u3002\\n\\nFair Scheduler \u7684\u5ef6\u8fdf\u8c03\u5ea6\u901a\u8fc7 `yarn.scheduler.fair.locality.threshold.node` \u6765\u8bbe\u7f6e\uff0c\u8fd9\u662f\u4e00\u4e2a 0~1 \u4e4b\u95f4\u7684\u6d6e\u70b9\u6570\uff0c\u4f8b\u5982\u662f 0.5\uff0c\u8868\u793a\u8c03\u5ea6\u5668\u5c06\u4f1a\u7b49\u5f85\u8d85\u8fc7\u4e00\u534a\u7684\u8282\u70b9\u53d1\u9001\u5fc3\u8df3\u4fe1\u606f\u4e4b\u540e\u518d\u51b3\u5b9a\u3002\\n\\n## Dominant Resource Fairness (DRF)\\n\\n\u5982\u679c\u53ea\u6709\u4e00\u79cd\u8d44\u6e90\u7c7b\u578b\u9700\u8981\u8c03\u5ea6\uff0c\u4f8b\u5982\u5185\u5b58\uff0c\u90a3\u8d44\u6e90\u5bb9\u91cf\u7684\u6982\u5ff5\u5c06\u4f1a\u5f88\u7b80\u5355\uff0c\u6bd4\u5982\u5747\u5206\u8d44\u6e90\uff0c\u5c31\u4ee3\u8868\u5747\u5206\u5185\u5b58\u3002\u4f46\u662f\u5982\u679c\u6709\u591a\u79cd\u8d44\u6e90\u7c7b\u578b\uff0c\u4f8b\u5982\u518d\u52a0\u4e0a CPU\uff0c\u4e8b\u60c5\u5c31\u53d8\u5f97\u590d\u6742\u4e86\u3002\u5982\u679c\u4e00\u4e2a\u4efb\u52a1\u9700\u8981\u5f88\u591a\u7684 CPU\uff0c\u4f46\u662f\u5f88\u5c11\u7684\u5185\u5b58\uff0c\u800c\u53e6\u4e00\u4e2a\u4efb\u52a1\u9700\u8981\u5f88\u5c11\u7684 CPU\uff0c\u5f88\u591a\u7684\u5185\u5b58\uff0c\u8fd9\u4e24\u4e2a\u4efb\u52a1\u8981\u5982\u4f55\u6bd4\u8f83\u5462\uff1f\\n\\nDominant Resource Fairness\uff08DRF\uff09\u5c31\u662f\u7528\u6765\u5e72\u8fd9\u79cd\u4e8b\u60c5\u7684\uff0c\u4e0b\u9762\u4e3e\u4f8b\u8bf4\u660e\u662f\u4ec0\u4e48\u610f\u601d\u3002\\n\\n\u5047\u8bbe\u4e00\u4e2a\u96c6\u7fa4\u603b\u5171\u6709 100 \u4e2a CPU\uff0c10 TB \u5185\u5b58\u3002\u4efb\u52a1 A \u9700\u8981 2 \u4e2a CPU\uff0c300 GB \u5185\u5b58\u3002\u4efb\u52a1 B \u9700\u8981 6 \u4e2a CPU\uff0c100 GB \u5185\u5b58\u3002\u90a3\u4e48 A \u6240\u9700\u8d44\u6e90\u5360\u96c6\u7fa4\u7684\u6bd4\u91cd\u662f 2% \u548c 3%\uff0c\u56e0\u4e3a\u5185\u5b58\u7684\u6bd4\u91cd\u66f4\u5927\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u4ee5 3% \u8fd9\u4e2a\u6bd4\u91cd\u6765\u6574\u4f53\u8861\u91cf A\u3002\u540c\u7406\uff0c\u6bd4\u8f83\u4e4b\u540e B \u7684\u6700\u7ec8\u6bd4\u91cd\u662f 6%\u3002\u56e0\u6b64\u4efb\u52a1 B \u9700\u8981\u4e24\u500d\u4e8e\u4efb\u52a1 A \u7684\u8d44\u6e90\uff086% \u6bd4 3%\uff09\uff0c\u5982\u679c\u662f\u5747\u5206\uff08fair\uff09\u7b56\u7565\uff0c\u90a3\u4e48 B \u7684 container \u6570\u91cf\u5c06\u4f1a\u662f A \u7684\u4e00\u534a\u3002\\n\\nDRF \u6ca1\u6709\u9ed8\u8ba4\u4f7f\u7528\uff0c\u56e0\u6b64\u5728\u8ba1\u7b97\u8d44\u6e90\u7684\u65f6\u5019\u53ea\u8003\u8651\u4e86\u5185\u5b58\uff0c\u800c\u5ffd\u7565\u4e86 CPU\u3002Capacity Scheduler \u9700\u8981\u8bbe\u7f6e `yarn.scheduler.capacity.resource-calculator` \u4e3a `org.apache.hadoop.yarn.util.resource.DominantResourceCalculator`\uff08\u5728 `capacity-scheduler.xml`\uff09\uff1bFair Scheduler \u9700\u8981\u8bbe\u7f6e `defaultQueueSchedulingPolicy` \u4e3a `drf`\u3002\\n\\n## \u603b\u7ed3\\n\\nFIFO Scheduler \u663e\u7136\u4e0d\u9002\u7528\u4e8e\u751f\u4ea7\u73af\u5883\uff1bCapacity Scheduler \u6982\u5ff5\u7b80\u5355\uff0c\u4f46\u7f3a\u4e4f\u7075\u6d3b\u6027\uff1bFair Scheduler \u6700\u590d\u6742\uff0c\u4f46\u5177\u6709\u8db3\u591f\u7684\u7075\u6d3b\u6027\u4ee5\u53ca\u66f4\u597d\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002"},{"id":"/2014/12/15/saling-in-hk","metadata":{"permalink":"/blog/2014/12/15/saling-in-hk","source":"@site/blog/2014-12-15-saling-in-hk.md","title":"\u9999\u6e2f\u5e06\u8239\u57f9\u8bad\u8bb0\u5f55","description":"\u66fe\u7ecf\u5bf9\u9999\u6e2f\u7684\u5370\u8c61\u5c31\u662f\u4fbf\u5b9c\u7684\u82f9\u679c\u7535\u8111\u548c\u904d\u5730\u7684\u8336\u9910\u5385\uff0c\u7adf\u5fd8\u8bb0\u4e86\u8fd9\u662f\u4e00\u4e2a\u9760\u6d77\u7684\u5c9b\u5c7f\u3002\u4f5c\u4e3a\u4e00\u4e2a\u5728\u897f\u90e8\u957f\u5927\u7684\u5b69\u5b50\uff0c\u5bf9\u4e8e\u6d77\u603b\u662f\u6709\u5f88\u591a\u61a7\u61ac\u3002\u4ece\u5c0f\u5230\u5927\u89c1\u8fc7\u5f88\u591a\u5730\u65b9\u7684\u6d77\uff0c\u6709\u6d51\u6d4a\u7684\uff0c\u6709\u78a7\u84dd\u7684\uff0c\u6709\u6324\u6ee1\u6e38\u5ba2\u7684\uff0c\u4e5f\u6709\u6ce2\u6d9b\u6c79\u6d8c\u7684\u3002\u5176\u5b9e\u6d77\u4e0d\u4e00\u5b9a\u5c31\u662f\u84dd\u8272\u7684\uff0c\u53ea\u662f\u4eba\u4eec\u4e60\u60ef\u6027\u5730\u628a\u81ea\u5df1\u7684\u613f\u671b\u52a0\u8bf8\u5728\u522b\u7684\u4e1c\u897f\u8eab\u4e0a\uff0c\u6240\u4ee5\u5982\u679c\u67d0\u4e00\u5929\u4f60\u89c1\u5230\u4e86\u4e0d\u662f\u84dd\u8272\u7684\u6d77\uff0c\u8bf7\u4e0d\u8981\u62b1\u6028\u5b83\u3002","date":"2014-12-15T05:28:58.000Z","tags":[{"inline":true,"label":"sailing","permalink":"/blog/tags/sailing"},{"inline":true,"label":"yacht","permalink":"/blog/tags/yacht"},{"inline":true,"label":"hk","permalink":"/blog/tags/hk"}],"readingTime":10.255,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u9999\u6e2f\u5e06\u8239\u57f9\u8bad\u8bb0\u5f55","date":"2014-12-15 05:28:58 +0800","tags":["sailing","yacht","hk"]},"unlisted":false,"prevItem":{"title":"Hadoop Best Practices: Scheduling in YARN","permalink":"/blog/2014/12/27/hadoop-best-practices-scheduling-in-yarn"},"nextItem":{"title":"Auto Open Browser After Copy URL","permalink":"/blog/2014/01/31/auto-open-browser-after-copy-url"}},"content":"![](https://farm4.staticflickr.com/3947/14961313994_9fea8b7503_z.jpg)\\n\\n\u66fe\u7ecf\u5bf9\u9999\u6e2f\u7684\u5370\u8c61\u5c31\u662f\u4fbf\u5b9c\u7684\u82f9\u679c\u7535\u8111\u548c\u904d\u5730\u7684\u8336\u9910\u5385\uff0c\u7adf\u5fd8\u8bb0\u4e86\u8fd9\u662f\u4e00\u4e2a\u9760\u6d77\u7684\u5c9b\u5c7f\u3002\u4f5c\u4e3a\u4e00\u4e2a\u5728\u897f\u90e8\u957f\u5927\u7684\u5b69\u5b50\uff0c\u5bf9\u4e8e\u6d77\u603b\u662f\u6709\u5f88\u591a\u61a7\u61ac\u3002\u4ece\u5c0f\u5230\u5927\u89c1\u8fc7\u5f88\u591a\u5730\u65b9\u7684\u6d77\uff0c\u6709\u6d51\u6d4a\u7684\uff0c\u6709\u78a7\u84dd\u7684\uff0c\u6709\u6324\u6ee1\u6e38\u5ba2\u7684\uff0c\u4e5f\u6709\u6ce2\u6d9b\u6c79\u6d8c\u7684\u3002\u5176\u5b9e\u6d77\u4e0d\u4e00\u5b9a\u5c31\u662f\u84dd\u8272\u7684\uff0c\u53ea\u662f\u4eba\u4eec\u4e60\u60ef\u6027\u5730\u628a\u81ea\u5df1\u7684\u613f\u671b\u52a0\u8bf8\u5728\u522b\u7684\u4e1c\u897f\u8eab\u4e0a\uff0c\u6240\u4ee5\u5982\u679c\u67d0\u4e00\u5929\u4f60\u89c1\u5230\u4e86\u4e0d\u662f\u84dd\u8272\u7684\u6d77\uff0c\u8bf7\u4e0d\u8981\u62b1\u6028\u5b83\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u542c\u8bf4\u5382\u91cc\u8981\u7ec4\u7ec7\u53bb\u9999\u6e2f\u57f9\u8bad\u5e06\u8239\u7684\u65f6\u5019\u5f88\u5174\u594b\uff0c\u60f3\u8c61\u5728\u6d77\u4e0a\u6f02\u6cca\u4e00\u5468\uff0c\u5e94\u8be5\u4f1a\u9047\u5230\u5f88\u591a\u6709\u8da3\u7684\u4e8b\u5427\uff0c\u867d\u7136\u5bf9\u4e8e\u5e06\u8239\u5176\u5b9e\u6beb\u65e0\u6982\u5ff5\u3002\u7167\u4f8b\u51c6\u5907\u597d\u5404\u79cd\u4e1c\u897f\uff0c\u901a\u884c\u8bc1\u3001\u7761\u888b\u3001\u624b\u5957\u3001\u8584\u5916\u5957\u8fd9\u4e9b\uff0c\u7ffb\u7bb1\u5012\u67dc\u5c45\u7136\u627e\u51fa\u4e86\u4ee5\u524d\u7528\u8fc7\u7684\u516b\u8fbe\u901a\u3002\u540c\u4e8b\u5e2e\u5fd9\u4e70\u4e86\u9999\u6e2f\u7684\u4e0a\u7f51\u5361\uff0c\u60f3\u5230\u4ee5\u524d\u53bb\u53ea\u80fd\u8e6d\u9152\u5e97 Wi-Fi \u7684\u7a98\u5883\u3002\\n\\n\u604d\u7136\u6765\u5230\u9999\u6e2f\uff0c\u8ddf\u540c\u4e8b\u4f1a\u5408\uff0c\u4e00\u8def\u5728\u6e2f\u94c1\u4e0a\u6253\u8da3\uff0c\u7a7f\u8d8a\u62e5\u6324\u7684\u8857\u9053\uff0c\u5750\u5728\u8857\u8fb9\u7684\u8336\u9910\u5385\u770b\u5e97\u5458\u4ea4\u8c08\uff0c\u6392\u7740\u957f\u961f\u4e0a\u592a\u5e73\u5c71\uff0c\u4fef\u77b0\u661f\u5149\u70b9\u70b9\u7684\u7ef4\u6e2f\uff0c\u518d\u6765\u4e00\u4efd\u7cd6\u6c34\uff0c\u7b2c\u4e00\u5929\u7684\u9999\u6e2f\uff0c\u8fd8\u662f\u8001\u6837\u5b50\u3002\\n\\n\u4e3a\u4e86\u51c6\u65f6\u5230\u8fbe\u8ddf\u6559\u7ec3\u7ea6\u597d\u7684\u5730\u70b9\uff0c\u7b2c\u4e8c\u5929\u8d77\u4e86\u4e2a\u5927\u65e9\uff0c\u5e78\u597d\u8fd8\u6709\u65f6\u95f4\u54c1\u5c1d\u70ed\u7ca5\u3002\u89c1\u9762\u7684\u5730\u70b9\u662f\u9999\u6e2f\u5e06\u8239\u4ff1\u4e50\u90e8\u7684\u4f1a\u5ba2\u5385\uff0c\u5899\u4e0a\u4e00\u5f20\u5f88\u5927\u7684\u5730\u56fe\u7ed8\u5236\u7740\u9999\u6e2f\u5c9b\u5c7f\u5468\u56f4\u7684\u6d77\u57df\uff0c\u4ee5\u53ca\u5404\u79cd\u4e0d\u4e86\u89e3\u542b\u4e49\u7684\u7b26\u53f7\uff0c\u540e\u6765\u6559\u7ec3\u6709\u4ecb\u7ecd\u4e0a\u9762\u5927\u90e8\u5206\u7684\u6807\u8bc6\u3002\u6559\u7ec3\u662f\u4e2a\u82cf\u683c\u5170\u4eba\uff0c\u6211\u4eec\u4e60\u60ef\u79f0\u4ed6 Cameron\uff0c\u63a5\u4e0b\u6765\u7684\u4e94\u5929\u6211\u4eec\u4e00\u70b9\u4e00\u70b9\u4e86\u89e3\u7740\u8fd9\u4e2a\u4e2d\u5e74\u7537\u4eba\uff0c\u4e92\u76f8\u4ea4\u8c08\uff0c\u4e92\u76f8\u503e\u542c\u3002\\n\\n\u5e06\u8239\u5728\u82f1\u6587\u91cc\u53eb\u505a yacht\uff0c\u5982\u679c\u4f60\u67e5\u5b57\u5178\u7684\u8bdd\u4f1a\u53d1\u73b0\u8fd8\u6709\u4e00\u4e2a\u542b\u4e49\u662f\u6e38\u8247\uff0c\u53ef\u80fd\u5728\u5927\u591a\u6570\u4eba\u7684\u5370\u8c61\u4e2d\u53ea\u6709\u6e38\u8247\uff0c\u4e00\u4e2a\u8c61\u5f81\u6709\u94b1\u4eba\u7684\u4e1c\u897f\u3002\u4f46\u771f\u6b63\u7684\u5e06\u8239\u8fd0\u52a8\u8fdc\u4e0d\u662f\u70b9\u71c3\u53d1\u52a8\u673a\uff0c\u64cd\u63a7\u8239\u8235\u90a3\u4e48\u7b80\u5355\u3002\u4e5f\u8bb8\u8fd9\u4e94\u5929\u5bf9\u6211\u6765\u8bf4\u6700\u5927\u7684\u610f\u4e49\u5c31\u662f\u4e86\u89e3\u5230\u4e16\u754c\u4e0a\u8fd8\u6709\u8fd9\u6837\u4e00\u79cd\u8fd0\u52a8\uff0c\u9700\u8981\u4e30\u5bcc\u7684\u77e5\u8bc6\u548c\u7ecf\u9a8c\uff0c\u9700\u8981\u56e2\u961f\u534f\u4f5c\uff0c\u9700\u8981\u826f\u597d\u7684\u4f53\u529b\uff0c\u8fd8\u9700\u8981\u6781\u5927\u7684\u70ed\u60c5\u3002\\n\\n\u4e0a\u8239\u7684\u7b2c\u4e00\u5929\u5bf9\u6211\u6765\u8bf4\u5e94\u8be5\u662f\u4e0d\u592a\u597d\u7684\uff0c\u5728\u8bb2\u5b8c\u5fc5\u8981\u7684\u5b89\u5168\u987b\u77e5\u4e4b\u540e\uff0c\u6211\u4eec\u6b63\u5f0f\u4ece\u94dc\u9523\u6e7e\u8d77\u822a\uff0c\u4e00\u70b9\u4e00\u70b9\u8fdc\u79bb\u7ef4\u6e2f\u3002\u5728\u9a76\u5230\u76f8\u5bf9\u5b81\u9759\u7684\u6d77\u6e7e\u4e4b\u540e\uff0c\u5f00\u59cb\u5b66\u4e60\u8239\u5458\u843d\u6c34\u540e\u7684\u6551\u63f4\u63aa\u65bd\u3002\u9996\u5148\u53d1\u73b0\u843d\u6c34\u7684\u4eba\u9700\u8981\u5927\u558a\u4e00\u58f0\uff0c\u6254\u4e0b\u6551\u751f\u5668\u5177\uff0c\u540c\u65f6\u6b7b\u6b7b\u76ef\u4f4f\u843d\u6c34\u8005\u3002\u8fd9\u662f\u5f88\u5173\u952e\u7684\u4e00\u6b65\uff0cCameron \u8bb2\u5230\u5728\u6d77\u4e0a\u5176\u5b9e\u5f88\u96be\u53d1\u73b0\u90a3\u91cc\u6709\u4e00\u4e2a\u4eba\uff0c\u5c24\u5176\u662f\u4eba\u6d6e\u5728\u6c34\u9762\u4e0a\u7684\u90e8\u5206\u5f88\u6709\u9650\uff0c\u800c\u6551\u751f\u5668\u5177\u9664\u4e86\u5e2e\u52a9\u843d\u6c34\u8005\u4ee5\u5916\uff0c\u5176\u5b9e\u8fd8\u6709\u6807\u8bb0\u7684\u4f5c\u7528\u3002\u8fd9\u65f6\u8239\u957f\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u9006\u98ce\u7684\u8def\u7ebf\u9010\u6e10\u9760\u8fd1\u843d\u6c34\u8005\uff0c\u4e4b\u6240\u4ee5\u8981\u9006\u98ce\u662f\u4e3a\u4e86\u5c3d\u91cf\u63a7\u5236\u8239\u7684\u884c\u8fdb\uff0c\u5343\u4e07\u4e0d\u80fd\u987a\u98ce\uff0c\u5bf9\u4e8e\u5e06\u8239\u6765\u8bf4\u987a\u98ce\u5c31\u662f\u5669\u68a6\u3002\u6700\u540e\u5176\u4ed6\u7684\u8239\u5458\u8981\u8d1f\u8d23\u635e\u8d77\u843d\u6c34\u8005\uff0c\u800c\u8239\u957f\u59cb\u7ec8\u7531\u7b2c\u4e00\u4e2a\u53d1\u73b0\u7684\u4eba\u6307\u6325\u65b9\u5411\uff0c\u56e0\u4e3a\u53ea\u6709\u4ed6\u77e5\u9053\u843d\u6c34\u8005\u7684\u5b9e\u9645\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u8ddf\u8239\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u8fd9\u9700\u8981\u5bf9\u6307\u6325\u8005\u7684\u5145\u5206\u4fe1\u4efb\u3002\u5982\u6b64\u7ec3\u4e60\u51e0\u6b21\u4e4b\u540e\uff0c\u6211\u4eec\u5411\u7740\u66f4\u5e7f\u9614\u7684\u6d77\u57df\u9a76\u53bb\u3002\\n\\n\u300c\u5929\u6c14\u4e0d\u9519\uff0c\u8ba9\u6211\u4eec\u8d77\u5e06\u5427\u3002\u300d Cameron \u8bf4\u9053\u3002\u867d\u7136\u8fd9\u8258\u8239\u6709\u53d1\u52a8\u673a\uff0c\u4f46\u662f\u53ea\u8981\u5929\u6c14\u5408\u9002 Cameron \u90fd\u66f4\u613f\u610f\u4f7f\u7528\u5e06\u6765\u822a\u884c\uff0c\u300c\u8fd9\u4f1a\u8ba9\u4f60\u4e0d\u65ad\u601d\u8003\u9700\u8981\u600e\u6837\u63a7\u5236\u8239\uff0c\u6ce8\u610f\u98ce\u7684\u53d8\u5316\uff0c\u800c\u4e14\u4e5f\u66f4\u73af\u4fdd\u3002\u300d\u6211\u4eec\u7684\u5e06\u8239\u4e00\u5171\u6709\u4e24\u4e2a\u5e06\uff0c\u5206\u522b\u53eb\u505a mainsail \u548c genoa\u3002\u9996\u5148\u9700\u8981\u5347\u8d77 mainsail\uff0c\u4e5f\u5c31\u662f\u4e3b\u5e06\uff0c\u662f\u4e2a\u4f53\u529b\u6d3b\uff0c\u4f46\u4e5f\u9700\u8981\u6280\u5de7\u548c\u914d\u5408\u3002\u5e06\u8239\u4e0a\u7684\u5f88\u591a\u5de5\u4f5c\u90fd\u9700\u8981\u5f88\u597d\u7684\u4f53\u529b\uff0c\u4f46\u770b\u4f3c\u7b80\u5355\u7684\u6b65\u9aa4\u5982\u679c\u638c\u63e1\u4e86\u6280\u5de7\u4f1a\u8ba9\u4f60\u8f7b\u677e\u5f88\u591a\u3002\u63a5\u4e0b\u6765\u662f genoa\uff0c\u8fd9\u662f\u4e00\u4e2a\u5728\u4e3b\u5e06\u524d\u9762\u7684\u5e06\uff0c\u6bd4\u4e3b\u5e06\u5927\u5f88\u591a\uff0c\u6839\u636e\u4e0d\u540c\u7684\u98ce\u5411\uff0c\u6211\u4eec\u9700\u8981\u63a7\u5236\u5b83\u7684\u5927\u5c0f\u3002\u6b64\u65f6\u7684\u6211\u5df2\u7ecf\u5f00\u59cb\u6655\u8239\uff0c\u8fd9\u771f\u662f\u4e00\u79cd\u4e0d\u592a\u597d\u7684\u611f\u89c9\uff0c\u4e8e\u662f\u63a5\u4e0b\u6765\u7684\u7ec3\u4e60\u6211\u4e5f\u57fa\u672c\u4e0a\u6ca1\u6709\u53c2\u4e0e\uff0c\u9759\u9759\u8eba\u5728\u8239\u4e0a\u968f\u7740\u6ce2\u6d6a\u8d77\u4f0f\u3002\u5728\u592a\u9633\u4e0b\u5c71\u524d\u6211\u4eec\u8d76\u5230\u4e86\u6d45\u6c34\u6e7e\uff0c\u4eca\u665a\u5c06\u4f1a\u5728\u8fd9\u91cc\u8fc7\u591c\uff0c\u4f46\u4e0d\u4f1a\u9760\u5cb8\u3002\u8d81\u7740\u5915\u9633\u6211\u62cd\u4e0b\u4e86\u6587\u7ae0\u5f00\u5934\u7684\u90a3\u5f20\u7167\u7247\uff0c\u6d45\u6c34\u6e7e\u771f\u662f\u4e00\u4e2a\u9002\u5408\u505c\u9760\u7684\u5730\u65b9\uff0c\u591c\u665a\u770b\u7740\u5bf9\u9762\u706f\u706b\u8f89\u714c\u7684\u697c\u5b87\uff0c\u5b89\u9759\u7684\u6d77\u9762\uff0c\u65f6\u800c\u6ce2\u52a8\u3002\\n\\n\u7b2c\u4e8c\u5929 Cameron \u544a\u8bc9\u4e86\u6211\u4eec\u4e00\u4e2a\u4e0d\u5e78\u7684\u6d88\u606f\uff0c\u4eca\u5929\u4f3c\u4e4e\u6ca1\u98ce\uff0c\u8fd9\u610f\u5473\u7740\u539f\u8ba1\u5212\u7684\u822a\u884c\u53ea\u80fd\u4f5c\u7f62\u3002\u300c\u4f46\u662f\u6ca1\u5173\u7cfb\uff0c\u5373\u4f7f\u6ca1\u98ce\u6211\u4eec\u4e5f\u53ef\u4ee5\u505a\u5f88\u591a\u5176\u5b83\u7684\u7ec3\u4e60\u3002\u300dCameron \u4e0d\u653e\u8fc7\u4efb\u4f55\u7ec3\u4e60\u7684\u673a\u4f1a\uff0c\u4ed6\u544a\u8bc9\u6211\u4eec\u867d\u7136\u6211\u4eec\u62a5\u540d\u7684\u8bfe\u7a0b\u91cc\u6ca1\u6709\uff0c\u4f46\u662f\u4ed6\u5f88\u613f\u610f\u6559\u6388\u6211\u4eec\u66f4\u591a\u5e06\u8239\u7684\u77e5\u8bc6\u3002\u65e2\u7136\u6ca1\u98ce\uff0c\u90a3\u5c31\u7ec3\u4e60\u600e\u4e48\u4f7f\u7528\u53d1\u52a8\u673a\u5427\u3002\u5982\u4f55\u539f\u5730\u8f6c\u5f2f\uff0c\u5982\u4f55\u5feb\u901f\u8c03\u5934\uff0c\u5982\u4f55\u638c\u8235\uff0c\u5982\u4f55\u89c2\u5bdf\u6c34\u7684\u6d41\u5411\uff0c\u5982\u4f55\u5c06\u8239\u56fa\u5b9a\u5728\u6e2f\u53e3\u7684\u6d6e\u6807\u4e0a\uff0c\u8fd9\u4e9b\u90fd\u8981\u4e00\u904d\u4e00\u904d\u5730\u7ec3\u4e60\u3002\u5348\u9910\u4e4b\u540e\uff0c\u5e78\u8fd0\u7684\u6211\u4eec\u53c8\u8fce\u6765\u4e86\u98ce\u3002\u300c\u8ba9\u6211\u4eec\u8d77\u5e06\u51fa\u6d77\u5427\uff01\u300d\u8fd9\u53ef\u80fd\u662f Cameron \u6700\u559c\u6b22\u8bf4\u7684\u4e00\u53e5\u8bdd\uff0c\u8fd9\u4e2a\u7537\u4eba\u5bf9\u4e8e\u5927\u6d77\u603b\u662f\u6709\u7740\u6781\u5927\u7684\u70ed\u60c5\u3002\u4f9d\u65e7\u662f\u7c7b\u4f3c\u6628\u5929\u7684\u7ec3\u4e60\uff0c\u4f46\u8981\u66f4\u719f\u7ec3\uff0c\u66f4\u8fc5\u901f\u3002\\n\\n\u5e06\u8239\u4f9d\u9760\u98ce\u6765\u822a\u884c\uff0c\u56e0\u6b64\u5bf9\u4e8e\u4e0d\u540c\u98ce\u5411\uff0c\u5e06\u8239\u7684\u65b9\u5411\u4ee5\u53ca\u5e06\u7684\u89d2\u5ea6\u548c\u5927\u5c0f\u90fd\u81f3\u5173\u91cd\u8981\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\u6b63\u5bf9\u98ce\u5de6\u53f3\u5404 45 \u5ea6\u89d2\u7684\u533a\u57df\u662f\u65e0\u6cd5\u822a\u884c\u7684\uff0c\u79f0\u4e3a\u300cno-go zone\u300d\uff0c\u8fd9\u662f\u4e00\u4e2a\u7edd\u5bf9\u4e0d\u80fd\u8fdb\u5165\u7684\u533a\u57df\uff0c\u5426\u5219\u5c31\u4f1a\u5931\u53bb\u52a8\u529b\u3002\u6709\u65f6\u6211\u4eec\u9700\u8981\u8f6c\u5411\uff0c\u6b64\u65f6\u98ce\u5411\u4e5f\u4f1a\u4ece\u8239\u7684\u4e00\u8fb9\u53d8\u5230\u53e6\u5916\u4e00\u8fb9\uff0c\u56e0\u6b64\u5e06\u7684\u89d2\u5ea6\u4e5f\u8981\u540c\u65f6\u53d8\u5316\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a tacking \u6216\u8005 jibing\u3002\u4f60\u9700\u8981\u4e0d\u65ad\u89c2\u5bdf\u98ce\u5411\uff0c\u4ee5\u53ca\u8239\u4e0e\u98ce\u7684\u5939\u89d2\uff0c\u56e0\u4e3a\u98ce\u5411\u968f\u65f6\u53ef\u80fd\u4f1a\u53d8\u5316\u3002\u800c\u5bf9\u4e8e\u5e06\u8239\u6765\u8bf4\u6700\u597d\u7684\u4f4d\u7f6e\u662f\u822a\u5411\u4e0e\u98ce\u5411\u5448 90 \u5ea6\u89d2\u3002\u300c\u8981\u600e\u4e48\u5224\u65ad\u98ce\u5411\u5462\uff1f\u300d\u300c\u7528\u4f60\u7684\u8138\u53bb\u611f\u89c9\u300d\u867d\u7136\u6211\u4eec\u6709\u98ce\u5411\u4eea\uff0c\u4f46 Cameron \u66f4\u559c\u6b22\u539f\u59cb\u7684\u65b9\u6cd5\uff0c\u4ed6\u603b\u662f\u8bf4\u4f60\u5f97\u5b66\u4f1a\u5728\u4eea\u5668\u574f\u4e86\u7684\u60c5\u51b5\u7ee7\u7eed\u822a\u884c\u3002\\n\\n\u7b2c\u4e09\u5929\u6211\u4eec\u8fce\u6765\u4e86\u8ddd\u79bb\u6700\u8fdc\u7684\u4e00\u6b21\u822a\u884c\uff0c\u4ece\u6df1\u6c34\u6e7e\u5230\u897f\u8d21\uff0c\u610f\u5473\u7740\u6211\u4eec\u5c06\u6709\u591c\u822a\u7684\u8bfe\u7a0b\u3002\u591c\u822a\u662f\u4e00\u79cd\u5b8c\u5168\u4e0d\u540c\u7684\u4f53\u9a8c\uff0c\u4f60\u65e0\u6cd5\u770b\u6e05\u6d77\u9762\uff0c\u4e5f\u6ca1\u6709\u660e\u663e\u7684\u53c2\u7167\u7269\uff0c\u56e0\u6b64\u8239\u4e0a\u7684\u706f\u5149\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\u5230\u4e86\u665a\u4e0a\u4efb\u4f55\u8239\u53ea\u90fd\u4f1a\u5206\u522b\u5728\u5de6\u8237\u548c\u53f3\u8237\u4eae\u8d77\u7ea2\u8272\u548c\u7eff\u8272\u7684\u706f\uff0c\u8fd9\u6837\u5c31\u80fd\u591f\u5f88\u65b9\u4fbf\u5730\u5224\u65ad\u67d0\u4e00\u8258\u8239\u4e0e\u4f60\u7684\u65b9\u4f4d\u3002\u8fdc\u5904\u7684\u706f\u5854\u6307\u5f15\u7740\u4f60\u7684\u65b9\u5411\uff0c\u4e5f\u63d0\u9192\u4f60\u8fd9\u91cc\u53ef\u80fd\u4f1a\u6709\u7901\u77f3\uff0c\u4e0d\u540c\u7684\u706f\u5854\u4f1a\u6709\u4e0d\u540c\u989c\u8272\u3001\u4e0d\u540c\u5f62\u5f0f\u7684\u706f\u5149\uff0c\u4fbf\u4e8e\u533a\u5206\u3002\u591c\u822a\u5e26\u6765\u4e86\u66f4\u591a\u6311\u6218\uff0c\u4e5f\u66f4\u52a0\u5371\u9669\uff0c\u4e0d\u8fc7 Cameron \u8bf4\u9053\u867d\u7136\u5e06\u8239\u8ddf\u98de\u673a\u6709\u5f88\u591a\u76f8\u4f3c\u7684\u5730\u65b9\uff0c\u4f46\u6700\u5927\u7684\u597d\u5904\u662f\u5982\u679c\u9047\u5230\u7d27\u6025\u60c5\u51b5\u5e06\u8239\u53ef\u4ee5\u7acb\u5373\u505c\u4e0b\u6765\u3002\\n\\n\u4e4b\u540e\u7684\u4e24\u5929\u662f\u5bf9\u4e8e\u524d\u51e0\u5929\u7684\u590d\u4e60\uff0c\u5f88\u5feb\u4e94\u5929\u5c31\u8fd9\u6837\u8fc7\u53bb\u4e86\uff0c\u60f3\u5230\u5468\u4e00\u6211\u4eec\u8fd8\u5bf9\u5e06\u8239\u4e00\u65e0\u6240\u77e5\uff0c\u5982\u4eca\u5df2\u662f\u53ef\u4ee5\u63a7\u5236\u5b83\u822a\u884c\u7684\u8239\u5458\u4e86\u3002\u6211\u60f3\u6211\u4ee5\u540e\u4e5f\u8bb8\u4e0d\u4f1a\u7ee7\u7eed\u53c2\u4e0e\u8fd9\u9879\u8fd0\u52a8\uff0c\u4f46\u5e06\u8239\u8fd0\u52a8\u7684\u7cbe\u795e\u4f1a\u4e00\u76f4\u4f34\u968f\u7740\u6211\uff0c\u81f3\u4e8e Cameron \u7684\u4f20\u5947\u7ecf\u5386\uff0c\u53ea\u80fd\u7b49\u4ee5\u540e\u518d\u5199\u4e86\u3002"},{"id":"/2014/01/31/auto-open-browser-after-copy-url","metadata":{"permalink":"/blog/2014/01/31/auto-open-browser-after-copy-url","source":"@site/blog/2014-01-31-auto-open-browser-after-copy-url.md","title":"Auto Open Browser After Copy URL","description":"\u524d\u6bb5\u65f6\u95f4\u770b\u8fc7\u4e00\u7bc7\u53eb Automate Everyday Tasks \u7684\u535a\u5ba2\uff0c\u5176\u4e2d\u7684\u4e00\u4e9b\u89c1\u89e3\u5f88\u6709\u610f\u601d\uff0c\u6211\u4eec\u65e5\u5e38\u5de5\u4f5c\u4e2d\u6709\u5f88\u591a\u7ec6\u5c0f\u4f46\u662f\u91cd\u590d\u7684\u4e8b\u60c5\uff0c\u5982\u679c\u80fd\u591f\u5c06\u67d0\u4e9b\u5de5\u4f5c\u81ea\u52a8\u5b8c\u6210\uff0c\u4f1a\u8ba9\u751f\u6d3b\u66f4\u52a0\u8212\u9002\u3002\u6211\u5f88\u559c\u6b22 Mac \u4e0a\u4e00\u4e2a\u53eb PopClip \u7684\u5c0f app\uff0c\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u5f88\u591a\u91cd\u590d\u7684\u64cd\u4f5c\u3002\u8fd9\u7bc7\u535a\u5ba2\u5c31\u662f\u4ecb\u7ecd\u5982\u4f55\u5236\u4f5c\u4e00\u4e2a app\uff0c\u5f53\u590d\u5236 URL \u65f6\u81ea\u52a8\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u3002","date":"2014-01-31T05:07:36.000Z","tags":[{"inline":true,"label":"AppleScript","permalink":"/blog/tags/apple-script"},{"inline":true,"label":"Productivity","permalink":"/blog/tags/productivity"}],"readingTime":2.135,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Auto Open Browser After Copy URL","date":"2014-01-31 05:07:36 +0800","tags":["AppleScript","Productivity"]},"unlisted":false,"prevItem":{"title":"\u9999\u6e2f\u5e06\u8239\u57f9\u8bad\u8bb0\u5f55","permalink":"/blog/2014/12/15/saling-in-hk"},"nextItem":{"title":"\u6d41\u6d6a\u6c49\uff0c\u6728\u5076\u548c\u53a8\u5b50","permalink":"/blog/2013/03/21/vagrant-puppet-and-chef"}},"content":"\u524d\u6bb5\u65f6\u95f4\u770b\u8fc7\u4e00\u7bc7\u53eb [Automate Everyday Tasks](http://sc5.io/blog/2014/01/automate-everyday-tasks) \u7684\u535a\u5ba2\uff0c\u5176\u4e2d\u7684\u4e00\u4e9b\u89c1\u89e3\u5f88\u6709\u610f\u601d\uff0c\u6211\u4eec\u65e5\u5e38\u5de5\u4f5c\u4e2d\u6709\u5f88\u591a\u7ec6\u5c0f\u4f46\u662f\u91cd\u590d\u7684\u4e8b\u60c5\uff0c\u5982\u679c\u80fd\u591f\u5c06\u67d0\u4e9b\u5de5\u4f5c\u81ea\u52a8\u5b8c\u6210\uff0c\u4f1a\u8ba9\u751f\u6d3b\u66f4\u52a0\u8212\u9002\u3002\u6211\u5f88\u559c\u6b22 Mac \u4e0a\u4e00\u4e2a\u53eb [PopClip](http://pilotmoon.com/popclip) \u7684\u5c0f app\uff0c\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u5f88\u591a\u91cd\u590d\u7684\u64cd\u4f5c\u3002\u8fd9\u7bc7\u535a\u5ba2\u5c31\u662f\u4ecb\u7ecd\u5982\u4f55\u5236\u4f5c\u4e00\u4e2a app\uff0c\u5f53\u590d\u5236 URL \u65f6\u81ea\u52a8\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u6709\u4e86\u8fd9\u4e2a\u60f3\u6cd5\u4e4b\u540e\u6211\u5148\u53bb[\u627e\u627e\u770b](https://www.google.com/search?q=os+x+clipboard+manager)\u662f\u5426\u6709\u7c7b\u4f3c\u7684\u8f6f\u4ef6\uff0c\u4f46\u5df2\u6709\u7684\u526a\u8d34\u677f\u7ba1\u7406\u5de5\u5177\u90fd\u6ca1\u6709\u8fd9\u6837\u7684\u529f\u80fd\u3002\u4e8e\u662f\u51b3\u5b9a\u81ea\u5df1\u52a8\u624b\u505a\uff0c\u56e0\u4e3a\u6ca1\u6709\u5f00\u53d1 Mac app \u7684\u7ecf\u9a8c\uff0c\u9996\u5148\u60f3\u5230\u7684\u5c31\u662f\u5229\u7528 Automator \u6765\u5b9e\u73b0\uff0c\u53ef\u60dc Automator \u4e0d\u652f\u6301\u540e\u53f0\u8fd0\u884c\u3002\u7ecf\u8fc7\u641c\u7d22 StackExchange \u4e0a\u7684\u4e00\u4e2a[\u95ee\u9898](http://apple.stackexchange.com/questions/96214/creating-a-resident-workflow-with-automator)\u7ed9\u4e86\u6211\u601d\u8def\uff1a\u7528 AppleScript \u6765\u505a\u3002\\n\\n## AppleScript \u7a0b\u5e8f\\n\\n\u6253\u5f00 AppleScript Editor\uff0c\u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801\uff0c\u4ee3\u7801\u5927\u610f\u662f\u6bcf\u9694 1 \u79d2\u5224\u65ad\u526a\u8d34\u677f\u5185\u5bb9\u662f\u5426\u4e3a URL\uff0c\u5982\u679c\u662f\u5c31\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u3002\\n\\n```applescript\\nproperty oldValue : missing value\\n\\non idle\\n    local newValue\\n    set newValue to the clipboard\\n    if oldValue is not equal to newValue then\\n        try\\n            if newValue starts with \\"http://\\" or newValue starts with \\"https://\\" then\\n                do shell script \\"open \\" & newValue\\n            end if\\n        end try\\n        set oldValue to newValue\\n    end if\\n    return 1\\nend idle\\n```\\n\\n\u4fdd\u5b58\uff0c\u300cFile Format\u300d\u9009\u300cApplication\u300d\uff0c\u52fe\u9009\u300cStay open after run handler\u300d\u3002\\n\\n![](http://f.cl.ly/items/3s0D1g2D2h2U1R273i1b/Screen%20Shot%202014-01-30%20at%2017.31.56.png)\\n\\n## \u8bbe\u7f6e\u540e\u53f0\u8fd0\u884c\\n\\nAppleScript \u7a0b\u5e8f\u8fd0\u884c\u65f6\u4f1a\u5728 Dock \u4e0a\u663e\u793a\u4e00\u4e2a\u56fe\u6807\uff0c\u6211\u4eec\u9700\u8981\u9690\u85cf\u8fd9\u4e2a\u56fe\u6807\u3002\\n\\n![](http://f.cl.ly/items/343f2V1S2D3E1O102h0t/Screen%20Shot%202014-01-31%20at%200.57.07.png)\\n\\n![](http://cl.ly/image/2O0v2O23341w/Screen%20Shot%202014-01-31%20at%204.49.28.png)\\n\\n\u589e\u52a0\u4e00\u4e2a\u65b0\u7684 key\u300cApplication is background only\u300d\uff0cvalue \u4e3a\u300cYES\u300d\u3002\\n\\n![](http://f.cl.ly/items/0L3c0u1R47213D2b2F3N/Screen%20Shot%202014-01-30%20at%2017.58.09.png)\\n\\n## \u8bbe\u7f6e\u767b\u5f55\u81ea\u52a8\u542f\u52a8\\n\\n\u5728 System Preferences \u2192 Users & Groups \u2192 Login Items \u4e2d\u6dfb\u52a0\u521a\u624d\u521b\u5efa\u7684 app\uff0c\u5e76\u8bbe\u7f6e\u4e3a hide \u6a21\u5f0f\u3002\\n\\n![](http://f.cl.ly/items/1t461t21143M1s1J1L1o/Screen%20Shot%202014-01-30%20at%2018.02.57.png)"},{"id":"/2013/03/21/vagrant-puppet-and-chef","metadata":{"permalink":"/blog/2013/03/21/vagrant-puppet-and-chef","source":"@site/blog/2013-03-21-vagrant-puppet-and-chef.md","title":"\u6d41\u6d6a\u6c49\uff0c\u6728\u5076\u548c\u53a8\u5b50","description":"\u6700\u8fd1\u8981\u4e3a Phabricator \u642d\u5efa\u865a\u62df\u6d4b\u8bd5\u73af\u5883\uff0cVagrant \u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\uff08\u8bdd\u8bf4\u5b98\u7f51\u73b0\u5728\u66f4\u65b0\u4ee5\u540e\uff0c\u53d8\u5f97\u9887\u4e3a\u534e\u4e3d\uff09\u3002Vagrant \u5b98\u65b9\u53ea\u63d0\u4f9b Ubuntu \u7684 base box\uff0c\u4e0d\u8fc7 Vagrantbox.es \u6709\u63d0\u4f9b\u5f88\u591a\u5176\u5b83\u7684\u7cfb\u7edf\uff0c\u751a\u81f3\u8fd8\u6709 Window$\u3002\u4e5f\u53ef\u4ee5\u81ea\u5df1\u6839\u636e\u5b98\u65b9\u6587\u6863\u91cd\u65b0\u642d\u5efa\u4e00\u4e2a base box\u3002","date":"2013-03-21T20:25:00.000Z","tags":[{"inline":true,"label":"Vagrant","permalink":"/blog/tags/vagrant"},{"inline":true,"label":"Puppet","permalink":"/blog/tags/puppet"},{"inline":true,"label":"Chef","permalink":"/blog/tags/chef"}],"readingTime":3.055,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6d41\u6d6a\u6c49\uff0c\u6728\u5076\u548c\u53a8\u5b50","date":"2013-03-21 20:25:00 +0800","tags":["Vagrant","Puppet","Chef"]},"unlisted":false,"prevItem":{"title":"Auto Open Browser After Copy URL","permalink":"/blog/2014/01/31/auto-open-browser-after-copy-url"},"nextItem":{"title":"Little Tips: Redis MONITOR Command","permalink":"/blog/2013/03/12/little-tips-redis-monitor-command"}},"content":"\u6700\u8fd1\u8981\u4e3a Phabricator \u642d\u5efa\u865a\u62df\u6d4b\u8bd5\u73af\u5883\uff0c[Vagrant](http://www.vagrantup.com) \u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\uff08\u8bdd\u8bf4\u5b98\u7f51\u73b0\u5728\u66f4\u65b0\u4ee5\u540e\uff0c\u53d8\u5f97\u9887\u4e3a\u534e\u4e3d\uff09\u3002Vagrant \u5b98\u65b9\u53ea[\u63d0\u4f9b](https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Boxes) Ubuntu \u7684 base box\uff0c\u4e0d\u8fc7 [Vagrantbox.es](http://www.vagrantbox.es) \u6709\u63d0\u4f9b\u5f88\u591a\u5176\u5b83\u7684\u7cfb\u7edf\uff0c\u751a\u81f3\u8fd8\u6709 Window$\u3002\u4e5f\u53ef\u4ee5\u81ea\u5df1\u6839\u636e[\u5b98\u65b9\u6587\u6863](http://docs-v1.vagrantup.com/v1/docs/base_boxes.html)\u91cd\u65b0\u642d\u5efa\u4e00\u4e2a base box\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n[Provisioning](http://docs.vagrantup.com/v2/provisioning/index.html) \u662f Vagrant \u4e00\u4e2a\u5f88\u68d2\u7684\u7279\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u5de5\u5177\u6765\u81ea\u52a8\u914d\u7f6e\u548c\u7ba1\u7406\u865a\u62df\u673a\u3002\u76ee\u524d\u652f\u6301\u7684\u6709 Puppet \u548c Chef\uff0c\u8fd9\u4e24\u4e2a\u90fd\u662f\u8457\u540d\u7684\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\uff0c\u5176\u4e2d Google\u3001Twitter\u3001GitHub \u5728\u7528 Puppet\uff0cFacebook \u5728\u7528 Chef\uff0c\u77e5\u4e4e\u76ee\u524d\u7528\u7684\u662f Puppet\u3002\u6b63\u597d\u8fd9\u6b21\u4e24\u4e2a\u90fd\u4e86\u89e3\u4e86\u4e00\u70b9\uff0c\u53ef\u4ee5\u7b80\u5355\u6bd4\u8f83\u4e00\u4e0b\u3002\\n\\n\u4ece\u5b89\u88c5\u65b9\u5f0f\u6765\u8bf4\uff0c\u56e0\u4e3a\u90fd\u662f\u57fa\u4e8e Ruby \u7684\u5de5\u5177\uff0c\u6240\u4ee5\u90fd\u53ef\u4ee5\u901a\u8fc7 `gem` \u6765\u5b89\u88c5\uff0c\u4ece\u8fd9\u4e00\u70b9\u4e0a\u6765\u8bf4\u8fd8\u662f\u5f88\u65b9\u4fbf\u7684\uff08\u8bdd\u8bf4\u5bf9\u4e8e Mac \u7528\u6237\uff0c\u5343\u4e07\u522b\u7528\u5b98\u65b9\u63d0\u4f9b\u7684\u70c2\u65b9\u6cd5\uff09\u3002Puppet \u7684\u547d\u4ee4\u884c\u5de5\u5177\u5c31\u53eb `puppet`\uff0c\u800c Chef \u7684\u53eb\u505a `knife`\uff0c\u8fd9\u5012\u662f\u8ddf Chef \u672c\u8eab\u540d\u5b57\u5f88\u642d\u3002\u521d\u5b66\u5de5\u5177\uff0c\u80af\u5b9a\u8981\u770b\u5b98\u65b9\u6587\u6863\uff0c\u5728\u8fd9\u4e00\u70b9\u4e0a\u6211\u89c9\u5f97 Puppet \u505a\u5f97\u66f4\u597d\uff0c\u81f3\u5c11\u8fd8\u6709\u4e00\u4e2a\u50cf\u6a21\u50cf\u6837\u7684 [Learning Puppet](http://docs.puppetlabs.com/learning/) \u7cfb\u5217\uff0c\u7531\u6d45\u5165\u6df1\uff0c\u5faa\u5e8f\u6e10\u8fdb\uff0c\u57fa\u672c\u4e0a\u770b\u5b8c\u5c31\u53ef\u4ee5\u5bf9 Puppet \u6709\u4e2a\u5927\u6982\u7684\u4e86\u89e3\u548c\u4f7f\u7528\u3002\u800c Chef \u5c31\u53ea\u6254\u7ed9\u4f60\u4e00\u4e2a[\u4e0d\u77e5\u9053\u8be5\u4ece\u54ea\u770b\u8d77\u7684\u9875\u9762](http://docs.opscode.com)\uff0c\u4f5c\u4e3a\u521d\u5b66\u8005\u8868\u793a\u5f88\u96be\u5165\u95e8\u3002\\n\\nPuppet \u53ef\u4ee5\u5c06\u4e00\u7cfb\u5217\u7684\u914d\u7f6e\u6587\u4ef6\u6253\u5305\u6210\u4e00\u4e2a module \u4f9b\u4eba\u4e0b\u8f7d\uff0cChef \u5bf9\u5e94\u7684\u5219\u53eb\u505a cookbook\uff0c\u8fd9\u4e24\u8005\u90fd\u63d0\u4f9b\u4e86\u7f51\u7ad9\u7528\u4e8e\u96c6\u4e2d\u653e\u7f6e\u793e\u533a\u8d21\u732e\u7684\u5305\uff0c\u5206\u522b\u662f [Puppet Forge](http://forge.puppetlabs.com) \u548c [Opscode Community](http://community.opscode.com/cookbooks)\uff08\u4e0d\u5f97\u4e0d\u5410\u69fd\uff0c\u8fd9\u4e24\u4e2a\u7f51\u7ad9\u90fd\u5f88\u7cd9\uff09\u3002\u5bf9\u4e8e module\u3001cookbook \u7684\u5b89\u88c5\u53ca\u7ba1\u7406 Chef \u7565\u80dc\u4e00\u7b79\uff0cPuppet \u7684\u547d\u4ee4\u884c\u5de5\u5177\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5b89\u88c5 module\uff0c\u4f46\u662f\u5982\u679c\u9700\u8981\u5b89\u88c5\u7684\u5305\u6bd4\u8f83\u591a\uff0c\u5c31\u53ea\u80fd\u901a\u8fc7\u81ea\u5df1\u5199\u811a\u672c\u6765\u81ea\u52a8\u5904\u7406\u3002\u800c Chef \u6709\u4e00\u4e2a\u5f88\u597d\u7528\u7684\u5de5\u5177 [Librarian-Chef](https://github.com/applicationsonline/librarian)\uff0c\u53ea\u9700\u8981\u5b9a\u4e49\u597d\u6240\u6709\u4f9d\u8d56\u5305\uff0c\u5e76\u653e\u5230 Cheffile \u4e2d\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7 `librarian-chef` \u547d\u4ee4\u6765\u5b89\u88c5\u548c\u7ba1\u7406\u3002\\n\\nPuppet \u5728\u6613\u7528\u6027\uff0c\u793e\u533a\u8d28\u91cf\u548c\u5305\u7684\u6269\u5c55\u6027\u4e0a\u6765\u8bf4\u8981\u6bd4 Chef \u7565\u4f18\uff0c\u80fd\u67e5\u5230\u7684\u6587\u6863\u8d44\u6599\u4e5f\u66f4\u591a\u4e00\u70b9\uff0c\u6700\u7ec8\u6211\u9009\u62e9\u4e86 Puppet\uff0c[\u8fd9\u91cc](https://github.com/xiaogaozi/vagrant-phabricator)\u662f\u6211\u7684\u9002\u7528\u4e8e Phabricator \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5bf9 Chef \u6709\u5174\u8da3\u7684\u540c\u5b66\u4e5f\u53ef\u4ee5\u770b[\u8fd9\u4e2a](https://github.com/grigio/vagrant-chef-solo-bootstrap)\u793a\u4f8b\u914d\u7f6e\u3002"},{"id":"/2013/03/12/little-tips-redis-monitor-command","metadata":{"permalink":"/blog/2013/03/12/little-tips-redis-monitor-command","source":"@site/blog/2013-03-12-little-tips-redis-monitor-command.md","title":"Little Tips: Redis MONITOR Command","description":"\u524d\u6bb5\u65f6\u95f4\u77e5\u4e4e\u7684 cache \u670d\u52a1\u5668\u4e2d\u7684\u67d0\u4e2a\u6570\u636e\u603b\u662f\u9519\u4e71\uff0c\u60f3\u5230\u4e86\u51e0\u4e2a\u53ef\u80fd\u4fee\u6539\u7f13\u5b58\u7684\u6e90\u5934\uff0c\u540c\u65f6\u5728\u4ee3\u7801\u4e2d\u641c\u7d22\u76f8\u5173\u4ee3\u7801\uff0c\u628a\u8fd9\u4e9b\u670d\u52a1\u90fd\u91cd\u542f\u4e86\u3002\u4f46\u662f\u95ee\u9898\u4f9d\u65e7\uff0c\u53ea\u662f\u6ca1\u6709\u4e4b\u524d\u90a3\u4e48\u4e25\u91cd\u3002\u597d\u5427\uff0c\u8fd9\u4e0b\u80af\u5b9a\u662f\u67d0\u4e2a\u4e0d\u77e5\u540d\u7684\u5730\u65b9\u4ecd\u7136\u5728\u8bbf\u95ee\u7f13\u5b58\u3002\u90a3\u5c31\u4ece\u6839\u6e90\u67e5\u8d77\uff0c\u731b\u7136\u53d1\u73b0 Redis \u7684 MONITOR \u547d\u4ee4\uff0c\u53ef\u4ee5\u5b9e\u65f6\u6253\u5370\u51fa\u6b64\u65f6\u6b63\u5728\u6267\u884c\u7684\u547d\u4ee4\uff0c\u6b63\u5408\u6211\u610f\uff0c\u4fee\u6539\u7f13\u5b58\u7684\u547d\u4ee4\u6211\u662f\u77e5\u9053\u7684\uff0c\u53ea\u9700\u8981\u76d1\u6d4b\u8fd9\u4e2a\u547d\u4ee4\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u67e5\u5230\u6765\u6e90\u4e86\u3002","date":"2013-03-12T23:47:00.000Z","tags":[{"inline":true,"label":"redis","permalink":"/blog/tags/redis"}],"readingTime":0.845,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Little Tips: Redis MONITOR Command","date":"2013-03-12 23:47:00 +0800","tags":["redis"]},"unlisted":false,"prevItem":{"title":"\u6d41\u6d6a\u6c49\uff0c\u6728\u5076\u548c\u53a8\u5b50","permalink":"/blog/2013/03/21/vagrant-puppet-and-chef"},"nextItem":{"title":"\u7ed9\u672a\u6765\u7684\u4f60","permalink":"/blog/2012/10/28/big-fish"}},"content":"\u524d\u6bb5\u65f6\u95f4\u77e5\u4e4e\u7684 cache \u670d\u52a1\u5668\u4e2d\u7684\u67d0\u4e2a\u6570\u636e\u603b\u662f\u9519\u4e71\uff0c\u60f3\u5230\u4e86\u51e0\u4e2a\u53ef\u80fd\u4fee\u6539\u7f13\u5b58\u7684\u6e90\u5934\uff0c\u540c\u65f6\u5728\u4ee3\u7801\u4e2d\u641c\u7d22\u76f8\u5173\u4ee3\u7801\uff0c\u628a\u8fd9\u4e9b\u670d\u52a1\u90fd\u91cd\u542f\u4e86\u3002\u4f46\u662f\u95ee\u9898\u4f9d\u65e7\uff0c\u53ea\u662f\u6ca1\u6709\u4e4b\u524d\u90a3\u4e48\u4e25\u91cd\u3002\u597d\u5427\uff0c\u8fd9\u4e0b\u80af\u5b9a\u662f\u67d0\u4e2a\u4e0d\u77e5\u540d\u7684\u5730\u65b9\u4ecd\u7136\u5728\u8bbf\u95ee\u7f13\u5b58\u3002\u90a3\u5c31\u4ece\u6839\u6e90\u67e5\u8d77\uff0c\u731b\u7136\u53d1\u73b0 Redis \u7684 [MONITOR](http://redis.io/commands/monitor) \u547d\u4ee4\uff0c\u53ef\u4ee5\u5b9e\u65f6\u6253\u5370\u51fa\u6b64\u65f6\u6b63\u5728\u6267\u884c\u7684\u547d\u4ee4\uff0c\u6b63\u5408\u6211\u610f\uff0c\u4fee\u6539\u7f13\u5b58\u7684\u547d\u4ee4\u6211\u662f\u77e5\u9053\u7684\uff0c\u53ea\u9700\u8981\u76d1\u6d4b\u8fd9\u4e2a\u547d\u4ee4\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u67e5\u5230\u6765\u6e90\u4e86\u3002\\n\\n```shell\\nredis-cli monitor | grep \'\\"set\\" \\"alist\\"\'\\n```"},{"id":"/2012/10/28/big-fish","metadata":{"permalink":"/blog/2012/10/28/big-fish","source":"@site/blog/2012-10-28-big-fish.md","title":"\u7ed9\u672a\u6765\u7684\u4f60","description":"\u5b69\u5b50\uff0c\u4f60\u7684\u4e00\u751f\u4f1a\u9047\u89c1\u5f88\u591a\u4e0d\u4e00\u6837\u7684\u4eba\uff0c\u5728\u964c\u751f\u7684\u57ce\u5e02\u548c\u73af\u5883\u91cc\u7ed3\u4ea4\u7740\u670b\u53cb\uff0c\u627e\u5bfb\u7740\u604b\u4eba\u3002\u4f60\u6bcf\u5929\u90fd\u4f1a\u5f88\u5fd9\uff0c\u5fd9\u5230\u6ca1\u6709\u65f6\u95f4\u559d\u6c34\uff0c\u6ca1\u6709\u65f6\u95f4\u5403\u996d\uff0c\u6ca1\u6709\u65f6\u95f4\u601d\u8003\u3002\u4f60\u4f1a\u7fa1\u6155\u90a3\u4e9b\u751f\u6d3b\u5f97\u60a0\u95f2\u81ea\u5728\u7684\u4eba\uff0c\u4eff\u4f5b\u4ed6\u4eec\u751f\u6765\u5982\u6b64\u3002\u770b\u5230\u8857\u4e0a\u7684\u60c5\u4fa3\u4f60\u4e5f\u4f1a\u60f3\u5979\u662f\u5426\u4e5f\u5728\u60f3\u7740\u4f60\uff0c\u56e0\u4e3a\u4f60\u4eec\u4ef0\u671b\u7740\u540c\u4e00\u7247\u661f\u7a7a\u3002\u4f60\u5411\u5f80\u7740\u6709\u4e00\u5929\u548c\u5979\u4e00\u8d77\u751f\u6d3b\uff0c\u4f60\u4eec\u60f3\u8981\u7684\u751f\u6d3b\u3002","date":"2012-10-28T17:27:00.000Z","tags":[{"inline":true,"label":"C\'EST LA VIE","permalink":"/blog/tags/cest-la-vie"}],"readingTime":3.14,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u7ed9\u672a\u6765\u7684\u4f60","date":"2012-10-28 17:27:00 +0800","tags":["C\'EST LA VIE"]},"unlisted":false,"prevItem":{"title":"Little Tips: Redis MONITOR Command","permalink":"/blog/2013/03/12/little-tips-redis-monitor-command"},"nextItem":{"title":"\u4f7f\u7528 Bootstrap \u7684\u51e0\u4e2a\u95ee\u9898","permalink":"/blog/2012/10/13/some-issues-about-using-bootstrap"}},"content":"\u5b69\u5b50\uff0c\u4f60\u7684\u4e00\u751f\u4f1a\u9047\u89c1\u5f88\u591a\u4e0d\u4e00\u6837\u7684\u4eba\uff0c\u5728\u964c\u751f\u7684\u57ce\u5e02\u548c\u73af\u5883\u91cc\u7ed3\u4ea4\u7740\u670b\u53cb\uff0c\u627e\u5bfb\u7740\u604b\u4eba\u3002\u4f60\u6bcf\u5929\u90fd\u4f1a\u5f88\u5fd9\uff0c\u5fd9\u5230\u6ca1\u6709\u65f6\u95f4\u559d\u6c34\uff0c\u6ca1\u6709\u65f6\u95f4\u5403\u996d\uff0c\u6ca1\u6709\u65f6\u95f4\u601d\u8003\u3002\u4f60\u4f1a\u7fa1\u6155\u90a3\u4e9b\u751f\u6d3b\u5f97\u60a0\u95f2\u81ea\u5728\u7684\u4eba\uff0c\u4eff\u4f5b\u4ed6\u4eec\u751f\u6765\u5982\u6b64\u3002\u770b\u5230\u8857\u4e0a\u7684\u60c5\u4fa3\u4f60\u4e5f\u4f1a\u60f3\u5979\u662f\u5426\u4e5f\u5728\u60f3\u7740\u4f60\uff0c\u56e0\u4e3a\u4f60\u4eec\u4ef0\u671b\u7740\u540c\u4e00\u7247\u661f\u7a7a\u3002\u4f60\u5411\u5f80\u7740\u6709\u4e00\u5929\u548c\u5979\u4e00\u8d77\u751f\u6d3b\uff0c\u4f60\u4eec\u60f3\u8981\u7684\u751f\u6d3b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u5b69\u5b50\uff0c\u8fd8\u8bb0\u5f97\u6211\u8bb2\u8fc7\u7684\u600e\u6837\u9047\u89c1\u4f60\u6bcd\u4eb2\u7684\u6545\u4e8b\u5417\uff1f\u90a3\u662f\u4e00\u4e2a\u660e\u5a9a\u7684\u5348\u540e\uff0c\u8bb0\u5fc6\u4e2d\u7684\u9633\u5149\u603b\u662f\u5f88\u707f\u70c2\u3002\u5f53\u90a3\u4e2a\u5973\u751f\u51fa\u73b0\u65f6\uff0c\u65f6\u95f4\u4eff\u4f5b\u51dd\u56fa\uff0c\u5979\u6ca1\u6709\u6ce8\u610f\u5230\u4f60\uff0c\u4f60\u77e5\u9053\u8fd9\u662f\u4e00\u4e2a\u9700\u8981\u4f60\u7528\u4e00\u751f\u53bb\u7231\u7684\u5973\u4eba\u3002\u662f\u7684\uff0c\u4e00\u751f\u3002\u5e74\u8f7b\u4eba\u603b\u662f\u6709\u65e0\u5c3d\u7684\u8bfa\u8a00\uff0c\u4f46\u662f\u8bfa\u8a00\u662f\u6c89\u91cd\u7684\uff0c\u5151\u73b0\u8bfa\u8a00\u7684\u8fc7\u7a0b\u662f\u6d17\u793c\uff0c\u4e5f\u662f\u70bc\u72f1\uff0c\u4f60\u4eec\u867d\u7136\u5f7c\u6b64\u4f24\u5bb3\uff0c\u5374\u9760\u5f97\u66f4\u8fd1\u3002\\n\\n\u6211\u5bf9\u4f60\u7684\u7237\u7237\u5976\u5976\u77e5\u4e4b\u751a\u5c11\uff0c\u5927\u90e8\u5206\u662f\u4ece\u65c1\u4eba\u90a3\u91cc\u542c\u8bf4\u3002\u4ed6\u4eec\u5c0f\u5b66\u662f\u4e00\u4e2a\u5b66\u6821\u7684\uff0c\u5976\u5976\u4e0a\u5b66\u4f1a\u7ecf\u8fc7\u7237\u7237\u7684\u5c4b\u524d\u3002\u540e\u6765\u5976\u5976\u9ad8\u4e2d\u6bd5\u4e1a\u540e\u5c31\u5f00\u59cb\u6559\u4e66\uff0c\u800c\u7237\u7237\u5219\u7ee7\u7eed\u6df1\u9020\u5e08\u8303\u5b66\u6821\uff0c\u4f20\u8bf4\u4ed6\u4eec\u4ece\u8fd9\u65f6\u4fbf\u5df2\u7ecf\u5728\u8c08\u604b\u7231\uff0c\u5206\u9694\u4e24\u5730\u514d\u4e0d\u4e86\u5f88\u591a\u7684\u601d\u5ff5\u4e0e\u75db\u82e6\uff0c\u7237\u7237\u5e38\u5e38\u7b11\u7740\u8bf4\u5f53\u5e74\u53ef\u662f\u62d2\u7edd\u4e86\u5f88\u591a\u5973\u751f\u7684\u8bf1\u60d1\u3002\u7237\u7237\u6bd5\u4e1a\u540e\u56de\u5230\u4e86\u5976\u5976\u6559\u4e66\u7684\u5b66\u6821\uff0c\u591a\u5e74\u7684\u957f\u8dd1\u4e5f\u7ec8\u4e8e\u6709\u4e86\u7ed3\u679c\u3002\u5176\u5b9e\u4f60\u8fd8\u6709\u4e00\u4e2a\u59d1\u59d1\uff0c\u4e0d\u8fc7\u8fde\u6211\u4e5f\u6ca1\u6709\u89c1\u8fc7\u3002\u5979\u662f\u7237\u7237\u5976\u5976\u7684\u7b2c\u4e00\u4e2a\u5c0f\u5b69\uff0c\u542c\u4eba\u8bf4\u957f\u5f97\u5f88\u4e56\u5de7\uff0c\u4f46\u5728\u5341\u51e0\u5c81\u65f6\u4fbf\u7531\u4e8e\u751f\u75c5\u53bb\u4e16\u4e86\u3002\u7237\u7237\u5976\u5976\u6559\u4e86\u4e00\u8f88\u5b50\u5b66\u751f\uff0c\u5374\u4e0d\u600e\u4e48\u8ddf\u6211\u8bf4\u8d77\u4ed6\u4eec\u7684\u6545\u4e8b\uff0c\u4e5f\u8bb8\u662f\u4e0d\u77e5\u5982\u4f55\u8868\u8fbe\u3002\\n\\n\u6211\u4eec\u90fd\u4f1a\u8001\u53bb\uff0c\u6211\u4eec\u4e5f\u66fe\u5e74\u8f7b\uff0c\u4f60\u7684\u56f0\u60d1\u5c31\u662f\u6211\u4eec\u66fe\u7ecf\u7684\u56f0\u60d1\uff0c\u4f60\u7684\u70e6\u607c\u5c31\u662f\u6211\u4eec\u66fe\u7ecf\u7684\u70e6\u607c\u3002\u5982\u679c\u4f60\u60f3\u503e\u8bc9\uff0c\u522b\u5fd8\u4e86\u5728\u8fdc\u65b9\u8fd8\u6709\u4f60\u7684\u6bcd\u4eb2\uff0c\u8fd8\u6709\u6211\uff0c\u4e0d\u7ba1\u53d1\u751f\u4ec0\u4e48\uff0c\u6211\u4eec\u6c38\u8fdc\u90fd\u662f\u4f60\u6700\u4eb2\u7684\u4eba\u3002\u6211\u77e5\u9053\u4f60\u66fe\u7ecf\u4e5f\u6068\u8fc7\u6211\u4eec\uff0c\u4f46\u90a3\u4e0d\u662f\u771f\u6b63\u7684\u6068\uff0c\u6211\u76f8\u4fe1\u6709\u90a3\u4e48\u4e00\u5929\u6211\u4eec\u80fd\u5f7c\u6b64\u91ca\u7136\u3002\\n\\n\u5230\u90a3\u65f6\uff0c\u4f60\u4f1a\u4e86\u89e3\uff0c\u6211\u4eec\u662f\u5982\u6b64\u6df1\u6df1\u5730\u7231\u7740\u4f60\u3002"},{"id":"/2012/10/13/some-issues-about-using-bootstrap","metadata":{"permalink":"/blog/2012/10/13/some-issues-about-using-bootstrap","source":"@site/blog/2012-10-13-some-issues-about-using-bootstrap.md","title":"\u4f7f\u7528 Bootstrap \u7684\u51e0\u4e2a\u95ee\u9898","description":"Responsive \u4e0e Modal ##","date":"2012-10-13T21:24:00.000Z","tags":[{"inline":true,"label":"Bootstrap","permalink":"/blog/tags/bootstrap"},{"inline":true,"label":"JavaScript","permalink":"/blog/tags/java-script"},{"inline":true,"label":"CSS","permalink":"/blog/tags/css"}],"readingTime":2.955,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u4f7f\u7528 Bootstrap \u7684\u51e0\u4e2a\u95ee\u9898","date":"2012-10-13 21:24:00 +0800","tags":["Bootstrap","JavaScript","CSS"]},"unlisted":false,"prevItem":{"title":"\u7ed9\u672a\u6765\u7684\u4f60","permalink":"/blog/2012/10/28/big-fish"},"nextItem":{"title":"\u7406\u89e3 tornado.gen","permalink":"/blog/2012/09/21/understanding-tornado-dot-gen"}},"content":"## Responsive \u4e0e Modal ##\\n\\n\u5728\u5f00\u542f responsive \u540e\uff0c\u5c0f\u5c4f\u5e55\u8bbe\u5907\u4e0a\u663e\u793a modal \u65f6\u4f1a\u53d8\u6210\u4e00\u95ea\u800c\u8fc7\uff0c\u7136\u540e\u6d6e\u52a8\u7a97\u53e3\u5c31\u4e0d\u89c1\u4e86\u3002\u5177\u4f53\u6548\u679c\u53ef\u4ee5\u7f29\u5c0f\u6d4f\u89c8\u5668\u5c3a\u5bf8\uff0c\u5728[\u8fd9\u4e2a\u9875\u9762](http://twitter.github.com/bootstrap/javascript.html#modals)\u7684 Live demo \u70b9\u51fb\u300cLaunch demo modal\u300d\u770b\u5230\u3002[Issue #2130](https://github.com/twitter/bootstrap/issues/2130) \u4e13\u95e8\u8ba8\u8bba\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u76ee\u524d\u6bd4\u8f83\u597d\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528[\u8fd9\u4e2a\u63d2\u4ef6](http://niftylettuce.github.com/twitter-bootstrap-jquery-plugins)\uff0c\u6839\u636e\u9875\u9762\u5927\u5c0f\u6765\u52a8\u6001\u8c03\u6574 modal \u7684\u4f4d\u7f6e\uff0c\u4e0d\u8fc7\u8c8c\u4f3c\u7528\u4e86\u4e4b\u540e modal \u90a3\u4e2a\u7531\u4e0a\u81f3\u4e0b\u663e\u793a\u7684\u52a8\u753b\u5c31\u6ca1\u6709\u4e86\u3002\u8fd9\u4e2a issue \u73b0\u5728\u8fd8\u5904\u4e8e\u5f00\u542f\u72b6\u6001\uff0c\u770b\u6765\u5b98\u65b9\u77ed\u671f\u5185\u662f\u4e0d\u4f1a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Responsive \u4e0e Navbar ##\\n\\n~~responsive \u6a21\u5f0f\u4e0b\u7684 navbar \u663e\u793a\u6548\u679c\u5f88\u8d5e\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u5f88\u4ee4\u4eba\u8d39\u89e3\u7684\u4e8b\u60c5\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6240\u6709 dropdown menu \u90fd\u662f\u5c55\u5f00\u7684\uff0c\u5bf9\u4e8e\u4f7f\u7528\u591a\u4e2a\u83dc\u5355\u9879\uff0c\u4e14\u5b50\u83dc\u5355\u6761\u76ee\u5f88\u591a\u7684\u573a\u666f\u8fd9\u662f\u4e0d\u80fd\u63a5\u53d7\u7684\u3002\u4e8e\u662f [Issue #3184](https://github.com/twitter/bootstrap/issues/3184) \u51fa\u73b0\u4e86\uff0c\u8fd9\u6b21\u7684\u65b9\u6848\u6bd4\u8f83 hack\uff0c\u9700\u8981\u4fee\u6539 bootstrap-responsive.css\uff0c\u5c06 `.nav-collapse .dropdown-menu` \u91cc\u7684 `display: block;` \u6ce8\u91ca\u6389\u3002\u8fd9\u65f6\u4f60\u4f1a\u60ca\u559c\u5730\u53d1\u73b0 dropdown menu \u9ed8\u8ba4\u6298\u53e0\u4e86\uff0c\u70b9\u51fb\u4e5f\u80fd\u5c55\u5f00\u5b50\u83dc\u5355\u3002~~\u6700\u65b0\u7248 Bootstrap \u5df2\u7ecf\u4fee\u590d\u4e86 dropdown menu \u9ed8\u8ba4\u5c55\u5f00\u7684\u95ee\u9898\uff0c\u4f46\u662f\uff08\u603b\u662f\u6709\u5f88\u591a\u4f46\u662f\uff09\uff0c\u5728\u89e6\u5c4f\u8bbe\u5907\u4e0a\u5b50\u83dc\u5355\u662f\u9009\u4e0d\u4e2d\u7684\u3002\u6258 [filod](http://www.filod.net) \u540c\u5b66\u7684\u798f\uff0c\u4fee\u6539 `bootstrap-dropdown.js` \u4e2d\u7684\u4e00\u6bb5\u4ee3\u7801\uff1a\\n\\n```javascript\\n/* APPLY TO STANDARD DROPDOWN ELEMENTS\\n * =================================== */\\n\\n$(document)\\n  .on(\'click.dropdown.data-api touchstart.dropdown.data-api\', clearMenus)\\n  .on(\'click.dropdown touchstart.dropdown.data-api\', \'.dropdown form\', function (e) { e.stopPropagation() })\\n  .on(\'click.dropdown.data-api touchstart.dropdown.data-api\'  , toggle, Dropdown.prototype.toggle)\\n  .on(\'keydown.dropdown.data-api touchstart.dropdown.data-api\', toggle + \', [role=menu]\' , Dropdown.prototype.keydown)\\n```\\n\\n\u8fd9\u91cc\u540c\u65f6\u76d1\u542c\u4e86 click \u548c touchstart \u4e8b\u4ef6\uff0c\u4e8e\u662f\u5728\u89e6\u5c4f\u8bbe\u5907\u4e0a\u5148\u6709 touchstart \u5c06\u5b50\u83dc\u5355\u9690\u85cf\uff0c\u518d\u6709 click \u70b9\u51fb\u5230\u9690\u85cf\u540e\u8be5\u4f4d\u7f6e\u7684\u83dc\u5355\u9879\uff0c\u56e0\u6b64\u4f60\u6c38\u8fdc\u90fd\u4e0d\u53ef\u80fd\u70b9\u5230\u60f3\u70b9\u7684\u5b50\u83dc\u5355\u3002~~\u6839\u672c\u539f\u56e0\u4e5f\u662f\u56e0\u4e3a\u6211\u4eec\u4e4b\u524d\u6ce8\u91ca\u4e86 `display: block;` \u5f15\u8d77\uff0c\u6539\u53d8\u4e86 Bootstrap \u7684\u4f7f\u7528\u573a\u666f\uff0c\u4e8e\u662f JS \u51fa\u73b0\u5982\u6b64\u7eb0\u6f0f\u3002\u89e3\u51b3\u65b9\u6cd5\u4fbf\u662f\u4e0d\u76d1\u542c touchstart \u4e8b\u4ef6\uff0c\u867d\u7136\u4f1a\u9020\u6210\u4e9b\u5c0f\u95ee\u9898\uff0c\u4e0d\u8fc7\u4e5f\u7b97\u57fa\u672c\u6ee1\u8db3\u8981\u6c42\u3002\u8fd9\u4e2a issue \u5b98\u65b9\u660e\u786e[\u8868\u793a](https://github.com/twitter/bootstrap/issues/3184#issuecomment-8072507)\u4e0d\u4f1a\u91c7\u7eb3\uff0c\u4e0d\u8fc7\u8fd8\u662f\u5e0c\u671b\u4ee5\u540e\u6709\u673a\u4f1a\u589e\u52a0\u4e00\u4e2a\u5f00\u5173\u9009\u9879\u7ed9\u7528\u6237\u3002~~\u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\u7684\u8ba8\u8bba\u53ef\u4ee5\u770b [Issue #4550](https://github.com/twitter/bootstrap/issues/4550)\uff0c\u4e0d\u660e\u767d\u4e3a\u4ec0\u4e48\u5b98\u65b9\u4e00\u76f4\u4e0d\u89e3\u51b3\uff0c\u6211\u7684\u4fee\u6539\u53ef\u4ee5\u89c1[\u8fd9\u4e2a](https://github.com/xiaogaozi/bootstrap/commit/7bd46eadbcb8730d588676c538712f4f57ffebab)\u548c[\u8fd9\u4e2a](https://github.com/xiaogaozi/bootstrap/commit/2c4eb4b678490973f92d574b397758aadbc7bf8f) commit\u3002"},{"id":"/2012/09/21/understanding-tornado-dot-gen","metadata":{"permalink":"/blog/2012/09/21/understanding-tornado-dot-gen","source":"@site/blog/2012-09-21-understanding-tornado-dot-gen.md","title":"\u7406\u89e3 tornado.gen","description":"Tornado \u901a\u8fc7 @asynchronous decorator \u6765\u5b9e\u73b0\u5f02\u6b65\u8bf7\u6c42\uff0c\u4f46\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u5c06 request handler \u548c callback \u5206\u79bb\u5f00\uff0ctornado.gen \u6a21\u5757\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u5b8c\u6210\u8fd9\u4e24\u4e2a\u5de5\u4f5c\u3002\u4e0b\u9762\u662f\u5b98\u65b9\u7684\u4e00\u4e2a\u4f8b\u5b50\uff1a","date":"2012-09-21T01:56:00.000Z","tags":[{"inline":true,"label":"Python","permalink":"/blog/tags/python"},{"inline":true,"label":"Tornado","permalink":"/blog/tags/tornado"}],"readingTime":3.77,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u7406\u89e3 tornado.gen","date":"2012-09-21 01:56:00 +0800","tags":["Python","Tornado"]},"unlisted":false,"prevItem":{"title":"\u4f7f\u7528 Bootstrap \u7684\u51e0\u4e2a\u95ee\u9898","permalink":"/blog/2012/10/13/some-issues-about-using-bootstrap"},"nextItem":{"title":"Shall We Play a Game?","permalink":"/blog/2011/11/06/shall-we-play-a-game"}},"content":"Tornado \u901a\u8fc7 `@asynchronous` decorator \u6765\u5b9e\u73b0\u5f02\u6b65\u8bf7\u6c42\uff0c\u4f46\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u5c06 request handler \u548c callback \u5206\u79bb\u5f00\uff0c`tornado.gen` \u6a21\u5757\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u5b8c\u6210\u8fd9\u4e24\u4e2a\u5de5\u4f5c\u3002\u4e0b\u9762\u662f\u5b98\u65b9\u7684\u4e00\u4e2a\u4f8b\u5b50\uff1a\\n\\n\x3c!--truncate--\x3e\\n\\n```python\\nclass GenAsyncHandler(RequestHandler):\\n    @asynchronous\\n    @gen.engine\\n    def get(self):\\n        http_client = AsyncHTTPClient()\\n        response = yield gen.Task(http_client.fetch, \\"http://example.com\\")\\n        do_something_with_response(response)\\n        self.render(\\"template.html\\")\\n```\\n\\n\u8fd9\u91cc\u7528\u5230\u4e86\u4e24\u4e2a decorator \u7a0d\u663e\u590d\u6742\uff0c\u7b2c\u4e00\u4e2a `@asynchronous` \u4f1a\u9996\u5148\u88ab\u6267\u884c\uff0c\u5b83\u7684\u4e3b\u8981\u5de5\u4f5c\u5c31\u662f\u5c06 `RequestHandler` \u7684 `_auto_finish` \u5c5e\u6027\u7f6e\u4e3a `false`\uff0c\u5982\u4e0b\uff1a\\n\\n```python title=\\"web.py\\"\\ndef asynchronous(method):\\n    @functools.wraps(method)\\n    def wrapper(self, *args, **kwargs):\\n        if self.application._wsgi:\\n            raise Exception(\\"@asynchronous is not supported for WSGI apps\\")\\n        self._auto_finish = False\\n        with stack_context.ExceptionStackContext(\\n            self._stack_context_handle_exception):\\n            return method(self, *args, **kwargs)\\n    return wrapper\\n```\\n\\n\u63a5\u7740\u5c31\u662f\u6700\u91cd\u8981\u7684 `@gen.engine`\uff0c\u8fd9\u91cc\u5145\u5206\u5229\u7528\u4e86 generator \u7684\u5404\u79cd\u7279\u6027\uff0c\u9996\u5148\u6765\u770b `@gen.engine` \u7684\u5b9e\u73b0\uff08\u6211\u5220\u51cf\u4e86\u90e8\u5206\u4ee3\u7801\u4ee5\u7b80\u5316\u7406\u89e3\uff09\uff1a\\n\\n```python title=\\"gen.py\\"\\ndef engine(func):\\n    @functools.wraps(func)\\n    def wrapper(*args, **kwargs):\\n        gen = func(*args, **kwargs)\\n        if isinstance(gen, types.GeneratorType):\\n            runner = Runner(gen)\\n            runner.run()\\n            return\\n    return wrapper\\n```\\n\\n\u5c40\u90e8\u53d8\u91cf `gen` \u4ee3\u8868\u7b2c\u4e00\u6bb5\u4ee3\u7801\u91cc\u7684 `get` \u51fd\u6570\uff0c\u56e0\u4e3a `get` \u5305\u542b\u4e86 `yield` \u8bed\u53e5\uff0c\u56e0\u6b64\u6210\u4e3a\u4e86\u4e00\u4e2a generator\u3002\u6ce8\u610f\u8fd9\u91cc `get` \u5e76\u6ca1\u6709\u88ab\u6267\u884c\uff0c\u53ea\u662f\u8d4b\u7ed9\u4e86 `gen`\u3002\u63a5\u4e0b\u6765\u662f\u8fd0\u884c `Runner` \u5bf9\u8c61\u7684 `run` \u51fd\u6570\u3002\u5728\u7406\u89e3 `run` \u4e4b\u524d\u9700\u8981\u77e5\u9053 generator \u662f\u901a\u8fc7\u8c03\u7528 `next()` \u6216\u8005 `send()` \u6765\u542f\u52a8\uff0c\u542f\u52a8\u4e4b\u540e\u4f1a\u5728\u9047\u5230 `yield` \u7684\u5730\u65b9 hold \u4f4f\uff0c\u7136\u540e\u5c06 `yield` \u540e\u9762\u7684\u8bed\u53e5\u7684\u8fd4\u56de\u503c\u8fd4\u56de\u7ed9\u8c03\u7528\u8005\uff0cgenerator \u6b64\u65f6\u5373\u5904\u4e8e\u6682\u505c\u8fd0\u884c\u72b6\u6001\uff0c\u6240\u6709\u4e0a\u4e0b\u6587\u90fd\u4f1a\u4fdd\u5b58\u3002\u518d\u6b21\u8c03\u7528 `next()` \u6216 `send()` \u4fbf\u4f1a\u6062\u590d generator \u7684\u8fd0\u884c\uff0c\u5982\u679c\u4e0d\u518d\u9047\u5230 `yield` \u8bed\u53e5\u5c31\u4f1a\u629b\u51fa `StopIteration` \u5f02\u5e38\u3002\u5728\u6062\u590d\u8fd0\u884c\u7684\u540c\u65f6 `yield` \u8bed\u53e5\u672c\u8eab\u4f1a\u6709\u8fd4\u56de\u503c\uff0c\u5982\u679c\u662f\u901a\u8fc7\u8c03\u7528 `next()` \u6765\u6062\u590d\u7684\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u6c38\u8fdc\u662f `None`\uff0c\u800c\u5982\u679c\u662f\u901a\u8fc7 `send()` \u5219\u8fd4\u56de\u503c\u53d6\u51b3\u4e8e\u4f20\u7ed9 `send()` \u7684\u53c2\u6570\u3002\u66f4\u591a\u5173\u4e8e generator \u7684\u8bf4\u660e\u8bf7\u53c2\u8003[\u5b98\u65b9\u6587\u6863](http://docs.python.org/reference/expressions.html#yield-expressions)\u3002\\n\\n\u7ed3\u5408\u7b2c\u4e00\u6bb5\u7684\u793a\u4f8b\u4ee3\u7801\uff0c\u53ef\u4ee5\u60f3\u5230 `run` \u5e72\u7684\u5de5\u4f5c\u53ef\u80fd\u5c31\u662f\u542f\u52a8 generator\uff0c\u7136\u540e\u83b7\u5f97 `gen.Task` \u5bf9\u8c61\u5e76\u8c03\u7528 `http_client.fetch` \u51fd\u6570\uff0c\u7b49\u56de\u8c03\u56de\u6765\u4e4b\u540e\u6062\u590d generator \u7684\u8fd0\u884c\uff0c\u6700\u540e\u5c06\u56de\u8c03\u7684\u8fd4\u56de\u503c\u901a\u8fc7 `send()` \u8d4b\u7ed9 `response`\u3002\u4e0b\u9762\u662f\u6211\u7b80\u5316\u540e\u7684\u4ee3\u7801\u3002\\n\\n```python title=\\"gen.py\\"\\ndef run(self):\\n    while True:\\n        if not self.yield_point.is_ready():\\n            return\\n        next = self.yield_point.get_result()\\n        try:\\n            yielded = self.gen.send(next)\\n        except StopIteration:\\n            return\\n        if isinstance(yielded, YieldPoint):\\n            self.yield_point = yielded\\n            self.yield_point.start(self)\\n```\\n\\n\u7b2c 3 \u884c\u68c0\u67e5\u56de\u8c03\u662f\u5426\u5b8c\u6210\uff0c\u7b2c\u4e00\u6b21\u8fd0\u884c `run` \u603b\u662f\u4f1a\u8fd4\u56de `True`\u3002\u7b2c 5 \u884c\u83b7\u53d6\u56de\u8c03\u7684\u8fd4\u56de\u503c\uff0c\u540c\u6837\u7684\u7b2c\u4e00\u6b21\u8fd0\u884c\u8fd4\u56de\u7684\u662f `None`\u3002\u5c06 `None` \u4f20\u7ed9 `send()` \u542f\u52a8 generator\uff0c`yielded` \u5373\u662f `gen.Task` \u5bf9\u8c61\uff0c\u7b2c 12 \u884c\u8c03\u7528 `start` \u5f00\u59cb\u8fd0\u884c\u6211\u4eec\u771f\u6b63\u9700\u8981\u8fd0\u884c\u7684\u51fd\u6570\uff0c\u5bf9\u5e94\u5230\u793a\u4f8b\u4ee3\u7801\u5c31\u662f `http_client.fetch` \u51fd\u6570\uff0c\u540c\u65f6\u5c06 `Runner` \u7684 `result_callback` \u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u3002\u5982\u4e0b\uff1a\\n\\n```python title=\\"gen.py\\"\\ndef result_callback(self, key):\\n    def inner(*args, **kwargs):\\n        if kwargs or len(args) > 1:\\n            result = Arguments(args, kwargs)\\n        elif args:\\n            result = args[0]\\n        else:\\n            result = None\\n        self.results[key] = result\\n        self.run()\\n    return inner\\n```\\n\\n\u5728\u5f97\u5230\u56de\u8c03\u8fd4\u56de\u503c\u4e4b\u540e\u518d\u6b21\u8c03\u7528 `run`\uff0c\u901a\u8fc7 `get_result` \u83b7\u53d6\u8fd4\u56de\u503c\uff0c\u6700\u540e\u5c06\u8fd4\u56de\u503c\u8fd4\u56de\u8d4b\u7ed9 `response`\uff0c\u7ee7\u7eed request handler \u7684\u4ee3\u7801\u6d41\u7a0b\u3002"},{"id":"/2011/11/06/shall-we-play-a-game","metadata":{"permalink":"/blog/2011/11/06/shall-we-play-a-game","source":"@site/blog/2011-11-06-shall-we-play-a-game.md","title":"Shall We Play a Game?","description":"The IMSAI 8080 computer used in WarGames","date":"2011-11-06T16:24:00.000Z","tags":[{"inline":true,"label":"Culture","permalink":"/blog/tags/culture"}],"readingTime":5.7,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Shall We Play a Game?","date":"2011-11-06 16:24:00 +0800","tags":["Culture"]},"unlisted":false,"prevItem":{"title":"\u7406\u89e3 tornado.gen","permalink":"/blog/2012/09/21/understanding-tornado-dot-gen"},"nextItem":{"title":"GYP \u7b80\u4ecb","permalink":"/blog/2011/10/29/introduction-to-gyp"}},"content":"![The IMSAI 8080 computer used in WarGames](http://farm7.static.flickr.com/6235/6317821194_c76b0fd4cf.jpg)\\n\\n\u300c[WarGames](http://www.imdb.com/title/tt0086567/)\u300d\u662f\u4e00\u90e8 1983 \u5e74\u4e0a\u6620\u7684\u79d1\u5e7b\u7535\u5f71\uff0c\u4f5c\u4e3a\u6295\u8d44\u4ec5 1200 \u4e07\u7f8e\u5143\u7684\u5c0f\u5236\u4f5c\uff0c\u5728\u5f53\u5e74\u8d62\u5f97\u4e86\u8fd1 8000 \u4e07\u7684\u7968\u623f\u3002\u6545\u4e8b\u53d1\u751f\u5728\u7f8e\u82cf\u51b7\u6218\u65f6\u671f\uff0c\u90a3\u4e2a\u5e74\u4ee3\u7684\u7535\u5f71\uff0c\u591a\u591a\u5c11\u5c11\u90fd\u4f1a\u8ddf\u6838\u5a01\u6151\u6709\u5173\u3002\u8fd9\u4e24\u4e2a\u56fd\u5bb6\u4e0d\u7ba1\u8c01\u5148\u53d1\u5c04\u5bfc\u5f39\uff0c\u90a3\u7b2c\u4e09\u6b21\u4e16\u754c\u5927\u6218\u5c31\u4f1a\u7206\u53d1\u3002\u7535\u5f71\u4e2d NORAD\uff08\u5317\u7f8e\u9632\u7a7a\u53f8\u4ee4\u90e8\uff09\u4f7f\u7528\u4e86\u4e00\u53f0\u53eb\u505a WOPR \u7684\u8d85\u7ea7\u8ba1\u7b97\u673a\u8fdb\u884c\u6218\u4e8b\u63a7\u5236\uff0c\u8fd9\u53f0\u8ba1\u7b97\u673a\u7279\u522b\u7684\u5730\u65b9\u5728\u4e8e\u5b83\u80fd\u81ea\u5df1\u6a21\u62df\u6218\u4e89\uff0c\u6a21\u62df\u7684\u8fc7\u7a0b\u5c31\u50cf\u5728\u73a9\u4e00\u4e2a\u6e38\u620f\uff08game\uff09\u3002\u67d0\u4e00\u5929\uff0c\u6211\u4eec\u7684\u7537\u4e3b\u89d2\u5929\u624d\u9ad8\u4e2d\u751f\u65e0\u610f\u4e2d\u4fb5\u5165\u4e86\u8fd9\u53f0\u7535\u8111\uff0c\u51fa\u4e8e\u597d\u5947\u548c\u597d\u73a9\uff0c\u542f\u52a8\u4e86\u6838\u6218\u4e89\u6e38\u620f\u3002\u4e0d\u6599\u8fd9\u573a\u6a21\u62df\u6218\u4e89\u8bef\u4f7f NORAD \u4ee5\u4e3a\u82cf\u8054\u53d1\u52a8\u4e86\u88ad\u51fb\uff0c\u4e00\u5ea6\u5dee\u70b9\u5f15\u7206\u771f\u6b63\u7684\u6838\u5bf9\u6297\u3002\u6700\u540e\u5728\u7537\u4e3b\u89d2\u548c WOPR \u521b\u9020\u8005\u7684\u5171\u540c\u52aa\u529b\u4e0b\u53ca\u65f6\u7ec8\u6b62\u4e86\u8fd9\u573a\u300c\u6218\u4e89\u300d\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u7535\u5f71\u4e2d\u7537\u4e3b\u89d2\u7684\u4eba\u7269\u539f\u578b\u6765\u81ea\u4e00\u4f4d\u53eb\u505a David Scott Lewis \u7684\u9ed1\u5ba2\uff0c\u8fd9\u4f4d\u8001\u5144\u4e4b\u540e\u4e00\u76f4\u5728\u641e\u673a\u5668\u4eba\uff0c\u540e\u6765\u6309\u7167\u4ed6\u81ea\u5df1\u7684\u8bdd\u6765\u8bf4\u662f\u300csold my soul to the bigger corporations\u300d\uff0c\u5206\u522b\u5728\u4e09\u661f\u3001Microsoft \u548c Oracle \u5de5\u4f5c\u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\uff0c\u4ed6\u6765\u5230\u4e86\u4e2d\u56fd\uff0c\u8ddf\u6e05\u534e\u5927\u5b66\u5408\u4f5c\u3002\u73b0\u5728\u8c8c\u4f3c\u53c8\u641e\u592a\u9633\u80fd\u53bb\u4e86\u3002WOPR \u7684\u521b\u9020\u8005 Dr. Stephen Falken \u7684\u539f\u578b\u6765\u81ea\u8457\u540d\u7684\u7269\u7406\u5b66\u5bb6 Steven Hawking\uff08\u662f\u4e0d\u662f\u540d\u5b57\u4e5f\u5f88\u50cf\uff1f\uff09\uff0cWarGames \u6700\u521d\u7684\u5267\u672c\u5c31\u662f\u6839\u636e Hawking \u6765\u5199\u7684\uff0c\u66fe\u7ecf\u8fd8\u6253\u7b97\u5851\u9020\u4e00\u4e2a\u5750\u5728\u8f6e\u6905\u4e0a\u7684\u5929\u4f53\u7269\u7406\u5b66\u5bb6\uff0c\u4f46\u56e0\u4e3a\u592a\u5bb9\u6613\u8ba9\u4eba\u8054\u60f3\u5230\u53e6\u4e00\u90e8\u8bb2\u8ff0\u51b7\u6218\u7684\u7535\u5f71\u300cDr. Strangelove\u300d\u800c\u4f5c\u7f62\u3002\u5176\u5b9e Dr. Stephen Falken \u5bf9\u4e8e\u4eba\u5de5\u667a\u80fd\u7684\u6df1\u5165\u7814\u7a76\uff0c\u5012\u8ba9\u6211\u89c9\u5f97\u66f4\u50cf\u662f Alan Turing\u3002\\n\\nWarGames \u5bf9\u4e8e\u6b64\u540e\u7684\u9ed1\u5ba2\u6587\u5316\u4ea7\u751f\u4e86\u6df1\u8fdc\u7684\u5f71\u54cd\u3002\u5b83\u521b\u9020\u4e86\u300cfirewall\u300d\u8fd9\u4e2a\u8bcd\u6c47\uff08\u65b9\u6821\u957f\u8868\u793a\u611f\u8c22\uff09\u3002\u7535\u5f71\u4e2d\u7537\u4e3b\u89d2\u5165\u4fb5 NORAD \u65f6\u4f7f\u7528\u7684\u6280\u672f\u884d\u751f\u51fa\u4e86\u300c[wardialing](http://en.wikipedia.org/wiki/War_dialing)\u300d\u672f\u8bed\u3002wardialing \u662f\u6307\u901a\u8fc7\u7a0b\u5e8f\u4e0d\u65ad\u626b\u63cf\u7535\u8bdd\u53f7\u7801\u6765\u53d1\u73b0\u8ba1\u7b97\u673a modem\uff0c\u65e9\u671f\u7684\u7535\u8bdd\u9ed1\u5ba2\u5373\u662f\u4f7f\u7528\u7684\u8fd9\u79cd\u6280\u672f\u3002\u8457\u540d\u7684\u7535\u8bdd\u9ed1\u5ba2\uff08phone phreak\uff09[John Draper](http://en.wikipedia.org/wiki/John_Draper) \u56e0\u4e3a\u901a\u8fc7 wardialing \u514d\u8d39\u6253\u7535\u8bdd\u800c\u95fb\u540d\uff0c\u540e\u6765\u4ed6\u5c06\u8fd9\u9879\u6280\u672f\u6559\u7ed9\u4e86 Steve Jobs \u548c Steve Wozniak\uff08\u662f\u7684\uff0c\u6ca1\u9519\uff0c\u5c31\u662f\u4e54\u5e2e\u4e3b\uff09\uff0c\u5e2e\u4e3b\u4ed6\u4eec\u8fd8\u56e0\u6b64\u8d5a\u4e86\u4e0d\u5c11\u94b1\uff08\u5e2e\u4e3b\u679c\u7136\u662f\u4e2a\u597d\u5546\u4eba\uff0c\u4ece\u5c0f\u5c31\u61c2\u5f97\u600e\u4e48\u628a\u6280\u672f\u8f6c\u4e3a\u5546\u4e1a\u5229\u76ca\uff09\u3002John Draper \u540e\u6765\u53d7\u96c7\u4e8e Apple\uff0c\u4f46\u8fd9\u662f\u540e\u8bdd\u4e86\u3002wardialing \u4e4b\u540e\u53c8\u884d\u751f\u51fa\u4e86 [wardriving](http://en.wikipedia.org/wiki/Wardriving)\uff0c\u901a\u8fc7\u626b\u63cf\u548c\u6536\u96c6 Wi-Fi \u70ed\u70b9\u6765\u8fdb\u884c\u653b\u51fb\uff0c\u4e4b\u6240\u4ee5\u53eb\u8fd9\u4e2a\u540d\u5b57\uff0c\u662f\u56e0\u4e3a\u901a\u5e38\u662f\u5728\u6c7d\u8f66\u91cc\u4e00\u8fb9\u884c\u9a76\uff0c\u4e00\u8fb9\u6536\u96c6\uff08\u8fd9\u6837\u8bf4\u6765 Google \u7684\u8857\u666f\u5c0f\u8f66\u4e5f\u7b97\u662f wardriving \u4e86\u4e00\u628a\uff09\u3002\u73b0\u5728\u4f60\u53ef\u4ee5\u5728\u4f60\u7684 iPhone \u6216\u8005 Android \u624b\u673a\u91cc\u88c5\u4e0a\u4e00\u6b3e wardriving \u8f6f\u4ef6\u8bd5\u8bd5\u770b\uff0c\u6211\u66fe\u7ecf\u8bd5\u8fc7\uff0c\u4f46\u662f\u8c8c\u4f3c\u6548\u679c\u4e0d\u662f\u5f88\u597d\u3002\\n\\n\u8fd8\u6709\u4e00\u4e2a\u4eba\u300c\u6df1\u53d7\u300d\u8fd9\u90e8\u7535\u5f71\u7684\u5f71\u54cd\uff0c[Kevin Mitnick](http://en.wikipedia.org/wiki/Kevin_Mitnick)\uff0c\u8fd9\u4e2a\u8ba1\u7b97\u673a\u5b89\u5168\u754c\u4f20\u8bf4\u7ea7\u7684\u4eba\u7269\u3002\u5f53\u7136\u4e0d\u662f\u8bf4 Kevin \u540c\u5b66\u662f\u56e0\u4e3a\u8fd9\u90e8\u7535\u5f71\u8d70\u4e0a\u7684\u4e0d\u5f52\u8def\uff0cKevin \u540c\u5b66\u641e\u5165\u4fb5\u90a3\u4f1a\u513f WarGames \u8fd8\u6ca1\u4e0a\u6620\u5462\u3002Kevin \u540c\u5b66\u540e\u6765\u5165\u72f1\u65f6\u88ab\u62d2\u7edd\u63a5\u89e6\u4efb\u4f55\u7535\u5b50\u8bbe\u5907\uff0c\u5305\u62ec\u7535\u8bdd\uff0c\u662f\u56e0\u4e3a\u63a7\u8bc9\u5f8b\u5e08\u76f8\u4fe1\u4ed6\u53ef\u4ee5\u901a\u8fc7\u7535\u8bdd\u8fde\u63a5\u5230 NORAD\u3002\u636e Kevin \u540c\u5b66\u5206\u6790 WarGames \u8fd9\u90e8\u7535\u5f71\u5f88\u5927\u7a0b\u5ea6\u4e0a\u4f7f\u5f97\u516c\u4f17\u76f8\u4fe1\u8fd9\u4ef6\u4e8b\u60c5\u662f\u53ef\u4ee5\u5f88\u5bb9\u6613\u529e\u5230\u7684\uff0c\u5176\u5b9e\u4ed6\u6839\u672c\u5c31\u6ca1\u6709\u5165\u4fb5\u8fc7 NORAD\uff0c\u901a\u8fc7\u7535\u8bdd\u6765\u5165\u4fb5\u4e5f\u8fc7\u4e8e\u5938\u5f20\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u4ed6\u8fd8\u662f\u88ab\u5224\u5355\u72ec\u76d1\u7981\uff0c\u4ece\u6b64\u4f20\u4e3a\u8ba1\u7b97\u673a\u5b89\u5168\u754c\u7684\u4e00\u6bb5\u300c\u4f73\u8bdd\u300d\u22ef\u22ef\\n\\n\u6e38\u620f\u754c\u4e5f\u4ece WarGames \u83b7\u76ca\u4e0d\u5c11\uff0c1984 \u5e74[\u540c\u540d\u6e38\u620f][]\u53d1\u5e03\u30022006 \u5e74\u4e00\u6b3e\u53eb\u505a [DEFCON][] \u7684\u5373\u65f6\u6218\u7565\u6e38\u620f\u53d1\u5e03\uff0c\u6e38\u620f\u753b\u9762\u4e0e\u7535\u5f71\u4e2d NORAD \u6307\u6325\u4e2d\u5fc3\u7684\u5927\u5c4f\u5e55\u6781\u4e3a\u76f8\u4f3c\u3002DEFCON\uff08defense readiness condition\uff09\u662f\u7f8e\u56fd\u519b\u65b9\u91c7\u7528\u7684\u8b66\u62a5\u7b49\u7ea7\uff0c\u5728 WarGames \u7535\u5f71\u4e2d NORAD \u66fe\u56e0\u6a21\u62df\u7684\u82cf\u8054\u8fdb\u653b\u4e00\u5ea6\u5c06 DEFCON \u7b49\u7ea7\u63d0\u5347\u5230\u6700\u9ad8\u7b49\u7ea7 1\u3002\u8457\u540d\u7684\u9ed1\u5ba2\u5927\u4f1a [DEF CON](https://www.defcon.org) \u7684\u540d\u5b57\u4e5f\u662f\u6765\u6e90\u4e8e\u6b64\u3002\\n\\n\u6216\u8bb8 WarGames \u5bf9\u4e8e\u7535\u5f71\u53f2\u5e76\u6ca1\u6709\u592a\u5927\u7684\u8d21\u732e\uff0c\u4f46\u5374\u6df1\u6df1\u5f71\u54cd\u7740\u90a3\u4e00\u4ee3\u7684 Geek \u4eec\u3002\u8c28\u4ee5\u6b64\u6587\u732e\u7ed9\u90a3\u4e9b\u901d\u53bb\u7684\u5148\u9a71\uff0cRIP\\n\\n[\u540c\u540d\u6e38\u620f]: http://en.wikipedia.org/wiki/WarGames_(video_game)\\n[DEFCON]: http://en.wikipedia.org/wiki/Defcon_(video_game)"},{"id":"/2011/10/29/introduction-to-gyp","metadata":{"permalink":"/blog/2011/10/29/introduction-to-gyp","source":"@site/blog/2011-10-29-introduction-to-gyp.md","title":"GYP \u7b80\u4ecb","description":"\u8bf4\u8d77\u9879\u76ee\u6784\u5efa\u5de5\u5177\uff0cLinux \u7528\u6237\u6700\u719f\u6089\u7684\u6050\u6015\u5c31\u662f Autotools\uff0c\u5b83\u5c06\u7f16\u8bd1\u5b89\u88c5\u8fd9\u4e2a\u6b65\u9aa4\u5927\u5927\u7b80\u5316\u3002\u4f46\u5bf9\u4e8e\u9879\u76ee\u4f5c\u8005\u6765\u8bf4\uff0c\u60f3\u8981\u4f7f\u7528 Autotools \u751f\u6210\u6709\u6548\u7684\u914d\u7f6e\u6587\u4ef6\u7740\u5b9e\u9700\u8981\u4e0b\u4e00\u756a\u529f\u592b\uff0c\u7528\u73b0\u5728\u6d41\u884c\u7684\u8bdd\u6765\u8bf4\u5c31\u662f\u7528\u6237\u4f53\u9a8c\u4e0d\u591f\u53cb\u597d\u3002\u5bf9 Unix shell \u7684\u4f9d\u8d56\uff0c\u4e5f\u4f7f\u5f97 Autotools \u5929\u751f\u5bf9\u4e8e\u8de8\u5e73\u53f0\u652f\u6301\u4e0d\u4f73\u3002","date":"2011-10-29T22:55:00.000Z","tags":[{"inline":true,"label":"Autotools","permalink":"/blog/tags/autotools"},{"inline":true,"label":"CMake","permalink":"/blog/tags/c-make"},{"inline":true,"label":"GYP","permalink":"/blog/tags/gyp"},{"inline":true,"label":"SCons","permalink":"/blog/tags/s-cons"}],"readingTime":6.725,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"GYP \u7b80\u4ecb","date":"2011-10-29 22:55:00 +0800","tags":["Autotools","CMake","GYP","SCons"]},"unlisted":false,"prevItem":{"title":"Shall We Play a Game?","permalink":"/blog/2011/11/06/shall-we-play-a-game"},"nextItem":{"title":"Octopress Rocks!","permalink":"/blog/2011/10/23/octopress-rocks"}},"content":"\u8bf4\u8d77\u9879\u76ee\u6784\u5efa\u5de5\u5177\uff0cLinux \u7528\u6237\u6700\u719f\u6089\u7684\u6050\u6015\u5c31\u662f [Autotools](http://en.wikipedia.org/wiki/GNU_build_system)\uff0c\u5b83\u5c06\u7f16\u8bd1\u5b89\u88c5\u8fd9\u4e2a\u6b65\u9aa4\u5927\u5927\u7b80\u5316\u3002\u4f46\u5bf9\u4e8e\u9879\u76ee\u4f5c\u8005\u6765\u8bf4\uff0c\u60f3\u8981\u4f7f\u7528 Autotools \u751f\u6210\u6709\u6548\u7684\u914d\u7f6e\u6587\u4ef6\u7740\u5b9e\u9700\u8981\u4e0b\u4e00\u756a\u529f\u592b\uff0c\u7528\u73b0\u5728\u6d41\u884c\u7684\u8bdd\u6765\u8bf4\u5c31\u662f\u7528\u6237\u4f53\u9a8c\u4e0d\u591f\u53cb\u597d\u3002\u5bf9 Unix shell \u7684\u4f9d\u8d56\uff0c\u4e5f\u4f7f\u5f97 Autotools \u5929\u751f\u5bf9\u4e8e\u8de8\u5e73\u53f0\u652f\u6301\u4e0d\u4f73\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u540e\u6765\u6211\u4ece[\u5927\u732b](https://twitter.com/zhzhxtrrk)\u540c\u5b66\u90a3\u91cc\u542c\u8bf4\u4e86 [CMake](http://www.cmake.org/)\uff0cCMake \u4f7f\u7528 C++ \u7f16\u5199\uff0c\u539f\u751f\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u4e0d\u9700\u8981\u50cf Autotools \u90a3\u6837\u5199\u4e00\u5806\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53ea\u9700\u4e00\u4e2a CMakeLists.txt \u6587\u4ef6\u5373\u53ef\u3002\u7b80\u6d01\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u5f3a\u5927\u7684\u529f\u80fd\u4f7f\u5f97\u6211\u7acb\u9a6c\u5bf9 CMake \u60c5\u6709\u72ec\u949f\u3002\u5728\u540e\u6765\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u867d\u7136\u4f1a\u9047\u5230\u4e00\u4e9b\u56e0\u4e3a\u4f7f\u7528\u4e60\u60ef\u5e26\u6765\u7684\u5c0f\u56f0\u6270\uff0c\u4f46\u6211\u5bf9\u4e8e CMake \u8fd8\u662f\u57fa\u672c\u6ee1\u610f\u7684\u3002\u76f4\u5230\u6211\u53d1\u73b0\u4e86 GYP\u3002\\n\\n[GYP](http://code.google.com/p/gyp/)\uff08Generate Your Projects\uff09\u662f\u7531 Chromium \u56e2\u961f\u5f00\u53d1\u7684\u8de8\u5e73\u53f0\u81ea\u52a8\u5316\u9879\u76ee\u6784\u5efa\u5de5\u5177\uff0cChromium \u4fbf\u662f\u901a\u8fc7 GYP \u8fdb\u884c\u9879\u76ee\u6784\u5efa\u7ba1\u7406\u3002\u4e3a\u4ec0\u4e48\u6211\u8981\u9009\u62e9 GYP\uff0c\u800c\u653e\u5f03 CMake \u5462\uff1f\u529f\u80fd\u4e0a GYP \u548c CMake \u5f88\u662f\u76f8\u4f3c\uff0c\u5728\u6211\u770b\u6765\uff0c\u5b83\u4eec\u7684\u6700\u5927\u533a\u522b\u5728\u4e8e\u914d\u7f6e\u6587\u4ef6\u7684\u7f16\u5199\u65b9\u5f0f\u548c\u5176\u4e2d\u8574\u542b\u7684\u601d\u60f3\u3002\\n\\n\u7f16\u5199 CMake \u914d\u7f6e\u6587\u4ef6\u76f8\u6bd4 Autotools \u6765\u8bf4\u5df2\u7ecf\u7b80\u5316\u5f88\u591a\uff0c\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u914d\u7f6e\u6587\u4ef6\u53ea\u9700\u8981\u5199\u4e0a\u6e90\u6587\u4ef6\u53ca\u751f\u6210\u7c7b\u578b\uff08\u53ef\u6267\u884c\u6587\u4ef6\u3001\u9759\u6001\u5e93\u3001\u52a8\u6001\u5e93\u7b49\uff09\u5373\u53ef\u3002\u5bf9\u5206\u652f\u8bed\u53e5\u548c\u5faa\u73af\u8bed\u53e5\u7684\u652f\u6301\u4e5f\u4f7f\u5f97 CMake \u66f4\u52a0\u7075\u6d3b\u3002\u4f46\u662f\uff0cCMake \u6700\u5927\u7684\u95ee\u9898\u4e5f\u662f\u5728\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u8bf7\u770b\u4e0b\u9762\u8fd9\u4e2a\u793a\u4f8b\u6587\u4ef6\uff1a\\n\\n```cmake\\ncmake_minimum_required(VERSION 2.8)\\nproject(VP8 CXX)\\n\\nadd_definitions(-Wall)\\ncmake_policy(SET CMP0015 NEW)\\ninclude_directories(\\"include\\")\\nlink_directories(\\"lib\\")\\nset(CMAKE_ARCHIVE_OUTPUT_DIRECTORY \\"../lib\\")\\nset(VP8SRC VP8Encoder.cpp VP8Decoder.cpp)\\n\\nif(X86)\\n    set(CMAKE_SYSTEM_NAME Darwin)\\n    set(CMAKE_SYSTEM_PROCESSOR i386)\\n    set(CMAKE_OSX_ARCHITECTURES \\"i386\\")\\n\\n    add_library(vp8 STATIC ${VP8SRC})\\nelseif(IPHONE)\\n    if(SIMULATOR)\\n        set(PLATFORM \\"iPhoneSimulator\\")\\n        set(PROCESSOR i386)\\n        set(ARCH \\"i386\\")\\n    else()\\n        set(PLATFORM \\"iPhoneOS\\")\\n        set(PROCESSOR arm)\\n        set(ARCH \\"armv7\\")\\n    endif()\\n\\n    set(SDKVER \\"4.0\\")\\n    set(DEVROOT \\"/Developer/Platforms/${PLATFORM}.platform/Developer\\")\\n    set(SDKROOT \\"${DEVROOT}/SDKs/${PLATFORM}${SDKVER}.sdk\\")\\n    set(CMAKE_OSX_SYSROOT \\"${SDKROOT}\\")\\n    set(CMAKE_SYSTEM_NAME Generic)\\n    set(CMAKE_SYSTEM_PROCESSOR ${PROCESSOR})\\n    set(CMAKE_CXX_COMPILER \\"${DEVROOT}/usr/bin/g++\\")\\n    set(CMAKE_OSX_ARCHITECTURES ${ARCH})\\n\\n    include_directories(SYSTEM \\"${SDKROOT}/usr/include\\")\\n    link_directories(SYSTEM \\"${SDKROOT}/usr/lib\\")\\n\\n    add_definitions(-D_PHONE)\\n    add_library(vp8-armv7-darwin STATIC ${VP8SRC})\\nendif()\\n```\\n\\n\u4f60\u80fd\u4e00\u773c\u770b\u51fa\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u5e72\u4e86\u4ec0\u4e48\u5417\uff1f\u5176\u5b9e\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u60f3\u8981\u4ea7\u751f\u7684\u76ee\u6807\uff08target\uff09\u53ea\u6709\u4e00\u4e2a\uff0c\u5c31\u662f\u901a\u8fc7 `${VP8SRC}` \u7f16\u8bd1\u751f\u6210\u7684\u9759\u6001\u5e93\uff0c\u4f46\u56e0\u4e3a\u52a0\u4e0a\u4e86\u6761\u4ef6\u5224\u65ad\uff0c\u53ca\u5404\u79cd\u5e73\u53f0\u76f8\u5173\u914d\u7f6e\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u770b\u8d77\u6765\u5f88\u662f\u590d\u6742\u3002\u5728\u6211\u770b\u6765\uff0c\u7f16\u5199 CMake \u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u79cd\u7ebf\u6027\u601d\u7ef4\uff0c\u5bf9\u4e8e\u540c\u4e00\u4e2a\u76ee\u6807\u7684\u914d\u7f6e\u53ef\u80fd\u4f1a\u96f6\u6563\u5206\u5e03\u5728\u5404\u4e2a\u5730\u65b9\u3002\u800c GYP \u5219\u76f8\u5f53\u4e0d\u540c\uff0cGYP \u7684\u914d\u7f6e\u6587\u4ef6\u66f4\u591a\u5730\u5f3a\u8c03\u6a21\u5757\u5316\u3001\u7ed3\u6784\u5316\u3002\u770b\u770b\u4e0b\u9762\u8fd9\u4e2a\u793a\u4f8b\u6587\u4ef6\uff1a\\n\\n```python\\n{\\n  \'targets\': [\\n    {\\n      \'target_name\': \'foo\',\\n      \'type\': \'<(library)\',\\n      \'dependencies\': [\\n        \'bar\',\\n      ],\\n      \'defines\': [\\n        \'DEFINE_FOO\',\\n        \'DEFINE_A_VALUE=value\',\\n      ],\\n      \'include_dirs\': [\\n        \'..\',\\n      ],\\n      \'sources\': [\\n        \'file1.cc\',\\n        \'file2.cc\',\\n      ],\\n      \'conditions\': [\\n        [\'OS==\\"linux\\"\', {\\n          \'defines\': [\\n            \'LINUX_DEFINE\',\\n          ],\\n          \'include_dirs\': [\\n            \'include/linux\',\\n          ],\\n        }],\\n        [\'OS==\\"win\\"\', {\\n          \'defines\': [\\n            \'WINDOWS_SPECIFIC_DEFINE\',\\n          ],\\n        }, { # OS != \\"win\\",\\n          \'defines\': [\\n            \'NON_WINDOWS_DEFINE\',\\n          ],\\n        }]\\n      ],\\n    }\\n  ],\\n}\\n```\\n\\n\u6211\u4eec\u53ef\u4ee5\u7acb\u9a6c\u770b\u51fa\u4e0a\u9762\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u8f93\u51fa\u76ee\u6807\u53ea\u6709\u4e00\u4e2a\uff0c\u4e5f\u5c31\u662f `foo`\uff0c\u5b83\u662f\u4e00\u4e2a\u5e93\u6587\u4ef6\uff08\u81f3\u4e8e\u662f\u9759\u6001\u7684\u8fd8\u662f\u52a8\u6001\u7684\u8fd9\u9700\u8981\u5728\u751f\u6210\u9879\u76ee\u65f6\u6307\u5b9a\uff09\uff0c\u5b83\u4f9d\u8d56\u7684\u76ee\u6807\u3001\u5b8f\u5b9a\u4e49\u3001\u5305\u542b\u7684\u5934\u6587\u4ef6\u8def\u5f84\u3001\u6e90\u6587\u4ef6\u662f\u4ec0\u4e48\uff0c\u4ee5\u53ca\u6839\u636e\u4e0d\u540c\u5e73\u53f0\u8bbe\u5b9a\u7684\u4e0d\u540c\u914d\u7f6e\u7b49\u3002\u8fd9\u79cd\u5b9a\u4e49\u914d\u7f6e\u6587\u4ef6\u7684\u65b9\u5f0f\u76f8\u6bd4 CMake \u6765\u8bf4\uff0c\u8ba9\u6211\u89c9\u5f97\u66f4\u52a0\u8212\u670d\uff0c\u4e5f\u66f4\u52a0\u6e05\u6670\uff0c\u7279\u522b\u662f\u5f53\u4e00\u4e2a\u8f93\u51fa\u76ee\u6807\u7684\u914d\u7f6e\u8d8a\u6765\u8d8a\u591a\u65f6\uff0c\u4f7f\u7528 CMake \u6765\u7ba1\u7406\u53ef\u80fd\u4f1a\u6108\u52a0\u6df7\u4e71\u3002\\n\\n\u914d\u7f6e\u6587\u4ef6\u7684\u7f16\u5199\u65b9\u5f0f\u662f\u6211\u533a\u5206 GYP \u548c CMake \u4e4b\u95f4\u6700\u5927\u7684\u4e0d\u540c\u70b9\uff0c\u5f53\u7136 GYP \u4e5f\u6709\u4e00\u4e9b\u5c0f\u7ec6\u8282\u503c\u5f97\u6ce8\u610f\uff0c\u6bd4\u5982\u652f\u6301\u8de8\u5e73\u53f0\u9879\u76ee\u5de5\u7a0b\u6587\u4ef6\u8f93\u51fa\uff0cWindows \u5e73\u53f0\u9ed8\u8ba4\u662f Visual Studio\uff0cLinux \u5e73\u53f0\u9ed8\u8ba4\u662f Makefile\uff0cMac \u5e73\u53f0\u9ed8\u8ba4\u662f Xcode\uff0c\u8fd9\u4e2a\u529f\u80fd CMake \u4e5f\u540c\u6837\u652f\u6301<del>\uff0c\u53ea\u662f\u7f3a\u5c11\u4e86 Xcode</del>\u3002Chromium \u56e2\u961f\u6210\u5458\u4e5f\u64b0\u6587\u8be6\u7ec6[\u6bd4\u8f83](http://code.google.com/p/gyp/wiki/GypVsCMake)\u4e86 GYP \u548c CMake \u4e4b\u95f4\u7684\u4f18\u7f3a\u70b9\uff0c\u5728\u5f00\u53d1 GYP \u4e4b\u524d\uff0c\u4ed6\u4eec\u4e5f\u66fe\u8bd5\u56fe\u8f6c\u5230 [SCons](http://www.scons.org/)\uff08\u8fd9\u4e2a\u6211\u6ca1\u7528\u8fc7\uff0c\u6709\u7ecf\u9a8c\u7684\u540c\u5b66\u53ef\u4ee5\u6bd4\u8f83\u4e00\u4e0b\uff09\uff0c\u4f46\u662f\u5931\u8d25\u4e86\uff0c\u4e8e\u662f GYP \u5c31\u8bde\u751f\u4e86\u3002\\n\\n\u5f53\u7136 GYP \u4e5f\u4e0d\u662f\u6ca1\u6709\u7f3a\u70b9\uff0c\u76f8\u53cd\uff0c\u6211\u89c9\u5f97\u5b83\u7684\u300c\u7f3a\u70b9\u300d\u4e00\u5927\u5806\uff1a\\n\\n- \u6587\u6863\u4e0d\u591f\u5b8c\u6574\uff0c\u9879\u76ee\u4e0d\u591f\u6b63\u5f0f\uff0c\u67d0\u4e9b\u5730\u65b9\u8fd8\u4fdd\u7559\u7740 Chromium \u7684\u5f71\u5b50\uff0c\u770b\u8d77\u6765\u50cf\u662f\u8fd8\u6ca1\u6709\u5b8c\u5168\u72ec\u7acb\u51fa\u6765\u3002\\n- \u5927\u91cf\u7684\u62ec\u53f7\u5d4c\u5957\uff0c\u5f88\u5bb9\u6613\u8ba9\u4eba\u770b\u6655\uff0c\u6709\u8fc7 Lisp \u4f7f\u7528\u7ecf\u9a8c\u7684\u540c\u5b66\u53ef\u4ee5\u5bf9\u53f7\u5165\u5ea7\u3002\u5bf9\u4e8e\u6709\u62ec\u53f7\u6050\u60e7\u75c7\uff0c\u6216\u8005\u4e0d\u4f7f\u7528\u73b0\u4ee3\u7f16\u8f91\u5668\u7684\u540c\u5b66\u57fa\u672c\u53ef\u4ee5\u7ed5\u884c\u3002\\n- \u4e3a\u4e86\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u6709\u65f6\u4e0d\u5f97\u4e0d\u52a0\u5165\u67d0\u4e9b\u7279\u5b9a\u5e73\u53f0\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u6bd4\u5982\u53ea\u9002\u7528\u4e8e Visual Studio \u7684 `RuntimeLibrary` \u914d\u7f6e\uff0c\u8fd9\u4e0d\u5229\u4e8e\u8de8\u5e73\u53f0\u914d\u7f6e\u6587\u4ef6\u7684\u7f16\u5199\uff0c\u4e5f\u65e0\u5f62\u4e2d\u589e\u52a0\u4e86\u7f16\u5199\u590d\u6742\u5ea6\u3002\\n- \u4e0d\u652f\u6301 `make clean`\uff0c\u552f\u4e00\u7684\u65b9\u6cd5\u5c31\u662f\u5c06\u8f93\u51fa\u76ee\u5f55\u6574\u4e2a\u5220\u9664\u6216\u8005\u624b\u52a8\u5220\u9664\u5176\u4e2d\u7684\u67d0\u4e9b\u6587\u4ef6\u3002\\n\\n\u5982\u679c\u4f60\u5df2\u7ecf\u6253\u7b97\u5c1d\u8bd5 GYP\uff0c\u90a3\u4e00\u5b9a\u8bb0\u5f97\u5728\u751f\u6210\u9879\u76ee\u5de5\u7a0b\u6587\u4ef6\u65f6\u52a0\u4e0a `--depth` \u53c2\u6570\uff0c\u8b6c\u5982\uff1a\\n\\n```shell\\ngyp --depth=. foo.gyp\\n```\\n\\n\u8fd9\u4e5f\u662f\u4e00\u4e2a\u4ece Chromium \u9879\u76ee\u9057\u7559\u4e0b\u6765\u7684\u5386\u53f2\u95ee\u9898\u3002\\n\\n\u4e5f\u8bb8\u4f60\u6839\u672c\u7528\u4e0d\u4e0a\u8de8\u5e73\u53f0\u7279\u6027\uff0c\u4f46\u662f GYP \u4f9d\u7136\u503c\u5f97\u5c1d\u8bd5\u3002GYP \u548c CMake \u5206\u522b\u4ee3\u8868\u4e86\u4e24\u79cd\u8fe5\u5f02\u7684\u300c\u98ce\u683c\u300d\uff0c\u81f3\u4e8e\u5b70\u4f18\u5b70\u52a3\uff0c\u8fd8\u5f97\u4ec1\u8005\u89c1\u4ec1\uff0c\u667a\u8005\u89c1\u667a\u3002"},{"id":"/2011/10/23/octopress-rocks","metadata":{"permalink":"/blog/2011/10/23/octopress-rocks","source":"@site/blog/2011-10-23-octopress-rocks.md","title":"Octopress Rocks!","description":"\u4eca\u5929\u5f00\u59cb\u5c1d\u8bd5 Octopress\uff0c\u4e4b\u524d\u4e5f\u6709\u8033\u95fb\uff0c\u5f53\u65f6\u7acb\u9a6c\u88ab\u5b83\u7684 Geek \u6c14\u606f\u5438\u5f15\uff0c\u4eca\u5929\u8be6\u7ec6\u4e86\u89e3\uff0cOctopress \u771f\u4e0d\u6127\u4e3a\u300cA blogging framework for hackers\u300d\u3002\u6211\u7528\u4e86\u591a\u5e74\u7684 Blogger \u535a\u5ba2\u4e5f\u7ec8\u4e8e\u5bff\u7ec8\u6b63\u5bdd\uff0c\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u975e hacker \u535a\u5ba2\u4f5c\u8005\uff0cBlogger \u7edd\u5bf9\u503c\u5f97\u63a8\u8350\uff08\u6ee1\u8db3 GFW \u4e09\u5b9a\u5f8b\uff09\u3002","date":"2011-10-23T17:12:00.000Z","tags":[{"inline":true,"label":"octopress","permalink":"/blog/tags/octopress"},{"inline":true,"label":"blog","permalink":"/blog/tags/blog"}],"readingTime":4.975,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Octopress Rocks!","date":"2011-10-23 17:12:00 +0800","tags":["octopress","blog"]},"unlisted":false,"prevItem":{"title":"GYP \u7b80\u4ecb","permalink":"/blog/2011/10/29/introduction-to-gyp"},"nextItem":{"title":"SPDY \u7b80\u4ecb","permalink":"/blog/2011/06/11/introduction-to-spdy"}},"content":"\u4eca\u5929\u5f00\u59cb\u5c1d\u8bd5 [Octopress](http://octopress.org/)\uff0c\u4e4b\u524d\u4e5f\u6709\u8033\u95fb\uff0c\u5f53\u65f6\u7acb\u9a6c\u88ab\u5b83\u7684 Geek \u6c14\u606f\u5438\u5f15\uff0c\u4eca\u5929\u8be6\u7ec6\u4e86\u89e3\uff0cOctopress \u771f\u4e0d\u6127\u4e3a\u300cA blogging framework for hackers\u300d\u3002\u6211\u7528\u4e86\u591a\u5e74\u7684 Blogger \u535a\u5ba2\u4e5f\u7ec8\u4e8e\u5bff\u7ec8\u6b63\u5bdd\uff0c\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u975e hacker \u535a\u5ba2\u4f5c\u8005\uff0c[Blogger](http://www.blogger.com/) \u7edd\u5bf9\u503c\u5f97\u63a8\u8350\uff08\u6ee1\u8db3 [GFW \u4e09\u5b9a\u5f8b](http://www.dbanotes.net/review/gfw_rule.html)\uff09\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Another WordPress? ##\\n\\nYes\u3002Octopress \u5177\u5907\u4e00\u4e2a\u535a\u5ba2\u5e94\u5f53\u5177\u5907\u7684\u6240\u6709\u529f\u80fd\uff0c\u6587\u7ae0\u3001\u8bc4\u8bba\u3001\u9875\u9762\u3001\u5206\u4eab\u3001RSS\u3001\u641c\u7d22\u3001Archives \u7b49\u7b49\u3002\\n\\nNo\u3002\u6b63\u5982 Octopress \u7f51\u7ad9\u4ecb\u7ecd\u6240\u8bf4\uff1aA blogging framework for hackers\uff0c\u91cd\u70b9\u5c31\u5728\u6700\u540e\u90a3\u4e2a hackers\u3002\u6ca1\u6709\u4e86 WordPress \u7684\u540e\u53f0\u754c\u9762\uff0c\u5199\u535a\u5ba2\u9700\u8981\u7684\u5de5\u5177\u4ec5\u4ec5\u662f Ruby\u3001Git\u3001Markdown \u548c\u4f60\u559c\u7231\u7684\u7f16\u8f91\u5668\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a hacker\uff0c\u90a3\u4f60\u5bf9\u8fd9\u4e9b\u5de5\u5177\u4e0d\u4f1a\u964c\u751f\uff0c\u76f8\u6bd4 WordPress \u8e69\u811a\u7684\u540e\u53f0\u9875\u9762\uff0cOctopress \u63d0\u4f9b\u7684\u5199\u4f5c\u65b9\u5f0f\u4f1a\u8ba9\u4f60\u975e\u5e38\u559c\u7231\u3002\\n\\n## \u5199\u4f5c ##\\n\\n\u535a\u5ba2\u6700\u91cd\u8981\u7684\u529f\u80fd\u5c31\u662f\u5199\u4f5c\uff0c\u5199\u4f5c\u5c31\u50cf\u7a0b\u5e8f\u5458\u7f16\u5199\u4ee3\u7801\uff0c\u5982\u679c\u4e0d\u80fd\u63d0\u4f9b\u8212\u670d\u7684\u65b9\u5f0f\uff0c\u90a3\u7b80\u76f4\u662f\u4e00\u79cd\u81ea\u8650\u3002\u4e8b\u5b9e\u5df2\u7ecf\u8bc1\u660e HTML \u4e0d\u662f\u4e00\u79cd\u597d\u7684\u5199\u4f5c\u65b9\u5f0f\uff0c\u56e0\u6b64 WordPress \u8fd9\u7c7b\u535a\u5ba2\u63d0\u4f9b\u4e86\u6240\u89c1\u5373\u6240\u5f97\u7f16\u8f91\u5668\uff0c\u4f46\u5bf9\u4e8e\u559c\u6b22\u7cbe\u786e\u638c\u63a7\u7684 hacker \u6765\u8bf4\u8fd9\u8fd8\u4e0d\u591f\uff0c\u4e8e\u662f\u7c7b\u4f3c\u4e8e Markdown \u8fd9\u6837\u7684\u6807\u8bb0\u8bed\u8a00\u9010\u6e10\u5728\u5708\u5185\u76db\u884c\u3002\u8fd9\u7c7b\u6807\u8bb0\u8bed\u8a00\u6700\u5927\u7684\u597d\u5904\u5c31\u662f\u8ba9\u4f5c\u8005\u4e0d\u7528\u5173\u5fc3\u6587\u7ae0\u7684\u6837\u5f0f\uff0c\u800c\u4e13\u6ce8\u4e8e\u6587\u7ae0\u7684\u5185\u5bb9\u3002\u8fd9\u5f88\u91cd\u8981\uff0c\u4e00\u7bc7\u6587\u7ae0\u7684\u7cbe\u9ad3\u5728\u4e8e\u6587\u5b57\uff0c\u5982\u679c\u8fc7\u591a\u5730\u88ab\u6837\u5f0f\u56f0\u6270\uff0c\u7cbe\u529b\u4fbf\u4f1a\u5206\u6563\uff0c\u4e5f\u5fc5\u7136\u4e0d\u4f1a\u601d\u8003\u51fa\u66f4\u597d\u7684\u6587\u5b57\u3002\u7c7b\u4f3c\u7684\u6bd4\u8f83\u8fd8\u6709 Word \u548c LaTeX\uff0c\u5f53\u7136\u8fd9\u79cd\u89c2\u70b9\u4e5f\u662f\u4ec1\u8005\u89c1\u4ec1\uff0c\u667a\u8005\u89c1\u667a\u3002\\n\\nOctopress \u539f\u751f\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86 Markdown \u652f\u6301\uff0c\u9700\u8981\u5199\u4e00\u7bc7\u65b0\u535a\u5ba2\u4e86\uff1f\u6253\u5f00\u4f60\u559c\u6b22\u7684\u7f16\u8f91\u5668\uff0c\u4f7f\u7528 Markdown \u8bed\u6cd5\u5f00\u59cb\u4e66\u5199\u5373\u53ef\u3002WordPress\uff1f\u867d\u7136\u4e5f\u53ef\u4ee5\u6dfb\u52a0 Markdown \u652f\u6301\uff0c\u4f46\u4e0d\u514d\u663e\u5f97\u8e69\u811a\u3002\\n\\n## \u8bed\u6cd5\u9ad8\u4eae ##\\n\\n\u8fd9\u4e2a\u529f\u80fd\u5bf9\u7a0b\u5e8f\u5458\u6765\u8bf4\u5c24\u4e3a\u91cd\u8981\uff0c\u4f46\u81f3\u4eca\u6ca1\u6709\u535a\u5ba2\u63d0\u4f9b\u539f\u751f\u652f\u6301\uff0c\u8fd9\u4e5f\u662f\u6700\u5927\u7684\u9057\u61be\u3002Octopress \u5f7b\u5e95\u98a0\u8986\u4e86\u8fd9\u79cd\u5c40\u9762\uff0c\u8bed\u6cd5\u9ad8\u4eae\u53d8\u5f97\u5982\u6b64\u987a\u5176\u81ea\u7136\u3002\\n\\n```python\\n#!/usr/bin/env python\\n# -*- coding: utf-8 -*-\\n\\n# Batch rename utility.\\n# Copyright (C) <2011>  xiaogaozi\\n#\\n# This program is free software: you can redistribute it and/or modify\\n# it under the terms of the GNU General Public License as published by\\n# the Free Software Foundation, either version 3 of the License, or\\n# (at your option) any later version.\\n#\\n# This program is distributed in the hope that it will be useful,\\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n# GNU General Public License for more details.\\n#\\n# You should have received a copy of the GNU General Public License\\n# along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n\\nimport os\\nimport re\\nimport sys\\n\\n\\ndef usage():\\n    \\"\\"\\"Usage\\"\\"\\"\\n    print \\"Usage: rename.py expr files\\"\\n\\n\\ndef main():\\n    \\"\\"\\"Main progress.\\"\\"\\"\\n    if len(sys.argv) < 3:\\n        usage()\\n        sys.exit(1)\\n\\n    expr = sys.argv[1]\\n    m = re.search(r\'^[sy]/([^/]*)/([^/]*)/$\', expr)\\n    if m is None:\\n        sys.stderr.write(\\"expression incorrect\\\\n\\")\\n        sys.exit(1)\\n    re1 = m.group(1)\\n    re2 = m.group(2)  # actually in substitute mode this portion is not regular expression\\n\\n    for oldfile in sys.argv[2:]:\\n        d = os.path.dirname(oldfile)\\n        oldname = os.path.basename(oldfile)\\n        newname = \'\'\\n        newfile = \'\'\\n        if expr[0] == \'s\':  # substitute\\n            newname = re.sub(re1, re2, oldname)\\n            newfile = os.path.join(d, newname)\\n            os.rename(oldfile, newfile)\\n        elif expr[0] == \'y\':  # transliterate\\n            pass\\n        print oldfile, \'->\', newfile\\n\\n\\nif __name__ == \\"__main__\\":\\n    main()\\n```\\n\\n## \u7248\u672c\u63a7\u5236 ##\\n\\n\u7a0b\u5e8f\u5458\u5df2\u7ecf\u88ab\u7248\u672c\u63a7\u5236\u60ef\u574f\u4e86\uff0c\u53ea\u8981\u80fd\u7eb3\u5165\u7248\u672c\u5e93\uff0c\u5c31\u7edf\u7edf\u653e\u8fdb\u53bb\u3002WordPress \u62e5\u6709\u540c\u6837\u8e69\u811a\u7684\u7248\u672c\u63a7\u5236\uff0c\u663e\u7136\u4e0d\u8db3\u4ee5\u6ee1\u8db3 hacker \u7684\u9700\u6c42\uff0cOctopress \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86 Git \u539f\u751f\u652f\u6301\uff0c\u4e00\u5207\u4e00\u5207\u90fd\u4e3a\u4f60\u6240\u63a7\uff0c\u653e\u5728\u4f60\u559c\u6b22\u7684\u7248\u672c\u63a7\u5236\u5e93\u91cc\u5373\u53ef\u3002\\n\\n## \u90e8\u7f72 ##\\n\\nOctopress \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e09\u79cd\u90e8\u7f72\u65b9\u5f0f\uff1aGitHub Pages\uff0cHeroku\uff0cRsync\uff0c\u5728\u6211\u770b\u6765\uff0c\u5176\u5b9e\u5c31\u4e24\u79cd\uff1a\u514d\u8d39\u548c\u6536\u8d39\u3002GitHub Pages \u548c Heroku \u90fd\u662f\u514d\u8d39\u4f7f\u7528\uff0cRsync \u5219\u9700\u8981\u4f60\u62e5\u6709\u81ea\u5df1\u7684\u865a\u62df\u4e3b\u673a\u3002<del>\u6211\u9009\u62e9\u4e86 Heroku\uff0c\u6bd5\u7adf GitHub Pages \u672c\u610f\u662f\u7528\u6765\u653e\u9879\u76ee\u4ecb\u7ecd\u9875\u9762\u7684\uff0c\u7ed3\u679c\u88ab\u5f3a\u5927\u7684 hacker \u4eec\u53d1\u6398\u6765\u4f5c\u4e3a\u535a\u5ba2\u4e86\u22ef\u22ef</del> \u6211\u73b0\u5728\u4f7f\u7528\u7684\u662f GitHub Pages\u3002\\n\\n## Continue? ##\\n\\n\u5f00\u59cb\u4eab\u53d7\u5199\u4f5c\u7684\u4e50\u8da3\u5427\uff5e"},{"id":"/2011/06/11/introduction-to-spdy","metadata":{"permalink":"/blog/2011/06/11/introduction-to-spdy","source":"@site/blog/2011-06-11-introduction-to-spdy.md","title":"SPDY \u7b80\u4ecb","description":"\u4eca\u5929\u5728\u770b CTF write-up \u65f6\u53d1\u73b0\u6709\u4eba\u63d0\u5230 SPDY \u8fd9\u6837\u4e00\u4e2a\u4e1c\u897f\uff0c\u8c8c\u4f3c\u8ddf Chrome \u9879\u76ee\u6709\u5173\uff0c\u4e8e\u662f\u5728 Geek \u539f\u59cb\u51b2\u52a8\u7684\u9a71\u4f7f\u4e0b\u4e86\u89e3\u4e86\u4e00\u4e0b\u3002","date":"2011-06-11T11:26:00.000Z","tags":[{"inline":true,"label":"google","permalink":"/blog/tags/google"},{"inline":true,"label":"spdy","permalink":"/blog/tags/spdy"}],"readingTime":5.755,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"SPDY \u7b80\u4ecb","date":"2011-06-11 11:26:00 +0800","tags":["google","spdy"]},"unlisted":false,"prevItem":{"title":"Octopress Rocks!","permalink":"/blog/2011/10/23/octopress-rocks"}},"content":"\u4eca\u5929\u5728\u770b CTF write-up \u65f6\u53d1\u73b0[\u6709\u4eba\u63d0\u5230](http://michele.spagnuolo.me/articles/web-security/defcon-ctf19-quals-grab-bag-100-writeup.html) [SPDY](http://dev.chromium.org/spdy) \u8fd9\u6837\u4e00\u4e2a\u4e1c\u897f\uff0c\u8c8c\u4f3c\u8ddf Chrome \u9879\u76ee\u6709\u5173\uff0c\u4e8e\u662f\u5728 Geek \u539f\u59cb\u51b2\u52a8\u7684\u9a71\u4f7f\u4e0b\u4e86\u89e3\u4e86\u4e00\u4e0b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u9996\u5148 SPDY \u662f\u4e00\u4e2a\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u88ab\u521b\u9020\u51fa\u6765\u7684\u552f\u4e00\u76ee\u7684\u5c31\u662f\u8ba9 Web \u66f4\u5feb\uff0c\u66f4\u5feb\uff0c\u8fd8\u662f\u66f4\u5feb\u3002Google \u8fd9\u5bb6\u516c\u53f8\u4f3c\u4e4e\u5f88\u559c\u6b22\u300c\u5feb\u300d\u8fd9\u4e2a\u4e1c\u897f\uff0cChrome \u4ece\u8bde\u751f\u5230\u73b0\u5728\u6bcf\u6b21\u51e0\u4e4e\u5fc5\u5b9a\u5ba3\u4f20\u81ea\u5df1\u6709\u591a\u4e48\u5f97\u5feb\uff0c\u641e\u5f97\u5927\u5bb6\u5df2\u7ecf\u4ea7\u751f\u4e86\u67d0\u79cd\u5fc3\u7406\u6697\u793a\u3002SPDY \u8bde\u751f\u4e8e 2009 \u5e74\uff0c\u5176\u5b9e\u8fd9\u662f\u5bf9\u5916\u516c\u5f00\u53d1\u5e03\u7684\u65f6\u95f4\uff0c\u5f00\u59cb\u7814\u7a76\u7684\u65f6\u95f4\u5e94\u8be5\u66f4\u65e9\u3002\u4f17\u6240\u5468\u77e5\uff0c\u5982\u4eca\u7684 Web \u662f\u901a\u8fc7 HTTP \u534f\u8bae\u548c TCP \u534f\u8bae\u8fdb\u884c\u4f20\u8f93\uff0c\u4f46\u79cd\u79cd\u56e0\u7d20\u5bfc\u81f4 HTTP \u4f20\u8f93\u53d8\u5f97\u5f88\u6162\uff1a\\n\\n- \u6bcf\u4e00\u4e2a TCP \u8fde\u63a5\u4e00\u6b21\u53ea\u80fd\u53d1\u4e00\u4e2a HTTP \u8bf7\u6c42\uff0c\u8fd9\u4e2a\u4f30\u8ba1\u662f HTTP \u534f\u8bae\u7684\u6700\u5927\u5f0a\u7aef\u3002\u60f3\u8c61\u4e00\u4e0b\u5982\u4eca\u7684\u7f51\u7ad9\u5df2\u7ecf\u5305\u542b\u5927\u91cf\u7684\u56fe\u7247\u3001CSS\u3001JS \u9700\u8981\u52a0\u8f7d\uff0c\u5982\u679c\u4e00\u4e2a\u8bf7\u6c42\u4e00\u4e2a\u8bf7\u6c42\u5730\u53d1\uff0c\u90a3\u80af\u5b9a\u4f1a\u6162\u6b7b\uff0c\u6240\u4ee5\u6d4f\u89c8\u5668\u901a\u5e38\u90fd\u662f\u901a\u8fc7\u5efa\u7acb\u591a\u4e2a\u8fde\u63a5\u6765\u56de\u907f\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u6bd5\u7adf\u6cbb\u6807\u4e0d\u6cbb\u672c\u3002\\n- \u53ea\u80fd\u7531\u5ba2\u6237\u7aef\u4e3b\u52a8\u53d1\u8d77 HTTP \u8bf7\u6c42\uff0c\u5373\u65f6\u6709\u65f6\u670d\u52a1\u5668\u77e5\u9053\u8fd8\u9700\u8981\u56de\u590d\u5176\u5b83\u8d44\u6e90\uff0c\u5b83\u4e5f\u53ea\u80fd\u7b49\u5ba2\u6237\u7aef\u5148\u53d1\u8d77\u518d\u56de\u590d\u3002\u670d\u52a1\u5668\u771f\u53ef\u601c\uff0c\u592a\u88ab\u52a8\u4e86\u3002\\n- HTTP \u5934\u6ca1\u6709\u538b\u7f29\uff0c\u800c\u4e14 HTTP \u5934\u4e5f\u6709\u4e00\u4e9b\u5197\u4f59\u4fe1\u606f\uff0c\u6bd4\u5982 User-Agent \u5c31\u6ca1\u6709\u5fc5\u8981\u6bcf\u6b21\u90fd\u53d1\u6765\u53d1\u53bb\uff0c\u592a\u6d6a\u8d39\u5e26\u5bbd\u4e86\u3002\\n- \u6570\u636e\u538b\u7f29\u662f\u53ef\u9009\u7684\uff0cGoogle \u8ba4\u4e3a\u5fc5\u987b\u5f3a\u5236\u8981\u6c42\u3002\\n\\n\u65e2\u7136 HTTP \u6709\u8fd9\u4e48\u591a\u7f3a\u70b9\uff0c\u90a3\u5e94\u8be5\u4e0d\u6b62 Google \u81ea\u5df1\u60f3\u8981\u89e3\u51b3\uff0c\u5176\u5b9e\u662f\u6709\u7684\uff0c\u672c\u7740\u4e0d\u91cd\u590d\u9020\u8f6e\u5b50\u7684\u539f\u5219 Google \u5217\u4e3e\u4e86\u73b0\u6709\u7684\u4e00\u4e9b\u6539\u8fdb\u65b9\u6848\uff1a\\n\\n- [HTTP pipelining](http://en.wikipedia.org/wiki/HTTP_pipelining)\uff1a\u4ee5\u6d41\u6c34\u7ebf\u7684\u5f62\u5f0f\u4f20\u8f93\u8bf7\u6c42\u548c\u6570\u636e\uff0c\u8fd9\u91cc\u5410\u69fd\u4e00\u4e0b\uff0c\u4ee5\u524d\u5728\u516c\u53f8\u65f6 Facebook \u7684\u67d0\u725b\u6765\u4ecb\u7ecd\u65f6\u8c08\u5230\u4e86\u4ed6\u4eec\u5f00\u53d1\u7684 BigPipe\uff0c\u601d\u60f3\u4e5f\u662f\u6d41\u6c34\u7ebf\uff0c\u540c\u6837\u4e5f\u662f\u4e3a\u4e86\u4f18\u5316 Web \u6027\u80fd\uff0c\u4e0d\u77e5\u9053\u4ed6\u4eec\u662f\u4e0d\u662f\u501f\u9274\u4e86 HTTP pipelining\uff0c:)\\n- [SCTP](http://www.sctp.org/)\uff1a\u7528\u4e8e\u66ff\u4ee3 TCP \u7684\u4f20\u8f93\u5c42\u534f\u8bae\uff0c\u63d0\u4f9b\u4e86 multiplexed streams\uff08\u591a\u8def\u590d\u7528\u6d41\uff09\u548c stream-aware congestion control\uff08\u6d41\u611f\u77e5\u62e5\u585e\u63a7\u5236\uff09\\n- [SST](http://pdos.csail.mit.edu/uia/sst/)\uff1a\u540c\u6837\u7528\u4e8e\u66ff\u4ee3 TCP \u534f\u8bae\uff08TCP \u540c\u5b66\u771f\u662f\u4f17\u77e2\u4e4b\u7684\u22ef\u22ef\uff09\uff0c\u4e5f\u53ef\u4ee5\u8fd0\u884c\u5728 UDP \u534f\u8bae\u4e4b\u4e0a\u3002\\n- [MUX](http://www.w3.org/Protocols/MUX/) \u548c [SMUX](http://www.w3.org/TR/WD-mux)\uff1a\u8fd0\u884c\u5728\u4f20\u8f93\u5c42\u548c\u5e94\u7528\u5c42\u4e4b\u95f4\u7684\u4e2d\u95f4\u534f\u8bae\uff0c\u540c\u6837\u63d0\u4f9b\u4e86\u590d\u7528\u6d41\u3002\\n\\n\u4f46\u662f Google \u540c\u5b66\u89c9\u5f97\u4ee5\u4e0a\u8fd9\u4e9b\u90fd\u8fd8\u4e0d\u591f\uff0c\u5b83\u8981\u8ffd\u6c42\u66f4\u5927\u7a0b\u5ea6\u7684\u6027\u80fd\u63d0\u5347\u3002\u8003\u8651\u5230 TCP \u73b0\u5728\u5e94\u7528\u8fd8\u5f88\u5e7f\u6cdb\uff0c\u60f3\u66ff\u4ee3\u4e5f\u4e0d\u662f\u4e00\u5929\u4e24\u5929\u7684\u4e8b\u60c5\uff0c\u4f46 HTTP \u5c31\u4e0d\u4e00\u6837\u4e86\uff0c\u5b83\u662f\u5e94\u7528\u5c42\u7684\uff01\u6240\u4ee5\u8bf4\u6709\u81ea\u5bb6\u7684\u6d4f\u89c8\u5668\u5c31\u662f\u597d\u529e\uff0c\u53d1\u660e\u4e2a\u5e94\u7528\u5c42\u534f\u8bae\u9a6c\u4e0a\u5c31\u53ef\u4ee5\u4e0a\u7ebf\u3002SPDY \u5728\u521a\u51fa\u6765\u7684\u65f6\u5019 Google \u8fd8\u5728\u8bf4\u8fd9\u5e76\u4e0d\u662f\u7528\u6765\u66ff\u4ee3 HTTP \u534f\u8bae\u7684\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u4e2d\u95f4\u534f\u8bae\uff0c\u4f46\u770b\u770b[\u6700\u65b0\u7684\u534f\u8bae\u6587\u6863](http://dev.chromium.org/spdy/spdy-protocol)\u91cc\u9762\u5df2\u7ecf\u5c06 SPDY \u5206\u4e3a\u4e86\u4e24\u5c42\uff0c\u5176\u4e2d\u4e00\u5c42\u88ab\u63cf\u8ff0\u4e3a HTTP-like\uff0c\u5927\u6709\u53d6\u4ee3 HTTP \u7684\u610f\u56fe\uff08Google \u6700\u8fd1\u7684[\u4e00\u7bc7\u6587\u7ae0](http://googledevelopers.blogspot.com/2012/05/spdy-performance-on-mobile-networks.html)\u5df2\u7ecf\u76f4\u547c SPDY \u4e3a\u300ca replacement for HTTP\u300d\uff09\u3002\u53ef\u4ee5\u60f3\u5230 Google \u5df2\u7ecf\u5c06\u63d0\u8bae\u63d0\u4ea4\u7ed9 IETF\uff0c\u4e5f\u8bb8\u672a\u6765\u7684\u67d0\u4e00\u5929\u6211\u4eec\u5c31\u4e0d\u518d\u4f7f\u7528 HTTP \u534f\u8bae\u4e86\u3002SPDY \u4e3b\u8981\u6709\u4ee5\u4e0b\u4e00\u4e9b\u7279\u6027\uff1a\\n\\n- multiplexed streams\uff0c\u4e00\u4e2a TCP \u8fde\u63a5\u5c06\u652f\u6301\u65e0\u9650\u7684\u5e76\u53d1 HTTP \u8bf7\u6c42\\n- \u8bf7\u6c42\u4f18\u5148\u7ea7\uff0c\u56e0\u4e3a\u73b0\u5728\u652f\u6301\u5e76\u53d1\u8bf7\u6c42\uff0c\u5c31\u5fc5\u987b\u5f97\u4e3a\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u8bbe\u7f6e\u4e00\u5b9a\u7684\u4f18\u5148\u7ea7\\n- \u538b\u7f29 HTTP \u5934\uff0c\u53bb\u6389\u591a\u4f59\u7684\u5934\u4fe1\u606f\\n- \u5168\u90e8\u8bf7\u6c42\u90fd\u662f\u901a\u8fc7 SSL \u52a0\u5bc6\uff0cGoogle \u8ba4\u4e3a\u5b89\u5168\u7f51\u7edc\u8fde\u63a5\u5fc5\u5b9a\u662f\u672a\u6765\u7684\u53d1\u5c55\u65b9\u5411\uff0c\u5373\u4f7f\u52a0\u5bc6\u4f1a\u5fae\u5fae\u589e\u52a0\u4e00\u4e9b\u4f20\u8f93\u65f6\u95f4\\n- Web \u670d\u52a1\u5668\u5c06\u80fd\u591f\u4e3b\u52a8\u53d1\u8d77\u901a\u4fe1\uff0c\u4e5f\u5c31\u662f server push\\n- \u8fd8\u6709\u4e00\u4e2a\u7c7b\u4f3c\u7684\u53eb server hint\uff0c\u4e0d\u540c\u4e8e server push \u7684\u662f\u5b83\u4ec5\u4ec5\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a suggest\uff0c\u63d0\u793a\u5ba2\u6237\u7aef\u9700\u8981\u53d1\u9001\u4e00\u4e2a HTTP \u8bf7\u6c42\\n\\n\u8fd9\u4e9b\u6539\u8fdb\u5230\u5e95\u80fd\u6709\u591a\u5927\u63d0\u5347\uff1fGoogle \u7ed9\u51fa\u7684\u6570\u636e\u662f 39%\uff5e55%\uff0c\u5728\u4e22\u5305\u4e25\u91cd\u6216\u9ad8\u5ef6\u8fdf\u73af\u5883\u4e0b\uff0cSPDY \u8868\u73b0\u66f4\u52a0\u51fa\u8272\u3002\\n\\n\u8981\u652f\u6301 SPDY\uff0c\u9664\u4e86\u5ba2\u6237\u7aef\u5fc5\u987b\u652f\u6301\u5916\uff0c\u8fd8\u8981\u6709\u76f8\u5e94\u7684 Web \u670d\u52a1\u5668\u3002\u73b0\u5728\u5df2\u7ecf\u6709 [Java](http://wiki.eclipse.org/Jetty/Feature/SPDY)\u3001[Apache module](http://code.google.com/p/mod-spdy/)\u3001[Python](http://github.com/mnot/nbhttp/tree/spdy)\u3001[Ruby](https://github.com/igrigorik/spdy)\u3001[node.js](https://github.com/indutny/node-spdy) \u7b49\u5404\u79cd\u5b9e\u73b0\u3002\\n\\n\u6700\u540e\uff0c\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528 Chrome \u6d4f\u89c8\u5668\uff0c\u5e76\u4e14\u8bbf\u95ee Google \u7684\u7f51\u7ad9\uff0c\u90a3\u4f60\u5df2\u7ecf\u5f00\u59cb\u4f7f\u7528 SPDY \u4e86\uff0c\u8f93\u5165 [chrome://net-internals/#spdy](chrome://net-internals/#spdy) \u8fd8\u53ef\u4ee5\u4e86\u89e3\u66f4\u52a0\u8be6\u7ec6\u7684\u4fe1\u606f\u3002"}]}}')}}]);